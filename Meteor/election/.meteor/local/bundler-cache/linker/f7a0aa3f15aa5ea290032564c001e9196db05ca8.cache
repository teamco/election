[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar _ = Package.underscore._;\nvar Template = Package.templating.Template;\nvar Blaze = Package.blaze.Blaze;\nvar UI = Package.blaze.UI;\nvar Handlebars = Package.blaze.Handlebars;\nvar Spacebars = Package.spacebars.Spacebars;\nvar HTML = Package.htmljs.HTML;\n\n/* Package-scope variables */\nvar BootstrapModalPrompt;\n\n(function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// packages/theduke_bootstrap-modal-prompt/packages/theduke_bootstrap-modal-prompt.js                           //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n(function () {                                                                                                  // 1\n                                                                                                                // 2\n///////////////////////////////////////////////////////////////////////////////////////////////////////////     // 3\n//                                                                                                       //     // 4\n// packages/theduke:bootstrap-modal-prompt/prompt.js                                                     //     // 5\n//                                                                                                       //     // 6\n///////////////////////////////////////////////////////////////////////////////////////////////////////////     // 7\n                                                                                                         //     // 8\nBootstrapModalPrompt = {                                                                                 // 1   // 9\n                                                                                                         // 2   // 10\n  /*                                                                                                     // 3   // 11\n   * Expected format of options:                                                                         // 4   // 12\n   * {                                                                                                   // 5   // 13\n   *   title: 'Modal Title',                                                                             // 6   // 14\n   *   content: 'Text content for modal',                                                                // 7   // 15\n   *   template: 'templateWithContentName',                                                              // 8   // 16\n   *   templateData: {},                                                                                 // 9   // 17\n   *   btnDismissText: 'Close',                                                                          // 10  // 18\n   *   btnOkText: 'OK',                                                                                  // 11  // 19\n   *   onShown: function() {} // callback function.                                                      // 12  // 20\n   * }                                                                                                   // 13  // 21\n   */                                                                                                    // 14  // 22\n  prompt: function(options, callback) {                                                                  // 15  // 23\n    options = _.extend({                                                                                 // 16  // 24\n      title: 'Confirmation',                                                                             // 17  // 25\n      content: '',                                                                                       // 18  // 26\n      template: null,                                                                                    // 19  // 27\n      templateData: {},                                                                                  // 20  // 28\n                                                                                                         // 21  // 29\n      formSchema: null,                                                                                  // 22  // 30\n                                                                                                         // 23  // 31\n      btnDismissText: 'Close',                                                                           // 24  // 32\n      btnOkText: 'OK',                                                                                   // 25  // 33\n                                                                                                         // 26  // 34\n      // Callback called before the modal is shown.                                                      // 27  // 35\n      // Arguments are the passed initial options, and the modal DOM node.                               // 28  // 36\n      beforeShow: function(options, node) {                                                              // 29  // 37\n                                                                                                         // 30  // 38\n      },                                                                                                 // 31  // 39\n      // Called after the modal is shown and all transitions have been completed.                        // 32  // 40\n      // Arguments are the passed initial options, and the modal DOM node.                               // 33  // 41\n      afterShow: function(options, node) {                                                               // 34  // 42\n                                                                                                         // 35  // 43\n      },                                                                                                 // 36  // 44\n                                                                                                         // 37  // 45\n      // Callback called before the modal is hidden.                                                     // 38  // 46\n      // Arguments are the passed initial options, and the modal DOM node.                               // 39  // 47\n      beforeHide: function(options, node) {                                                              // 40  // 48\n                                                                                                         // 41  // 49\n      },                                                                                                 // 42  // 50\n                                                                                                         // 43  // 51\n      // Callback called after the modal has been hidden and all transitions have completed.             // 44  // 52\n      // Arguments are the passed initial options, and the modal DOM node.                               // 45  // 53\n      afterHide: function(options, node) {                                                               // 46  // 54\n                                                                                                         // 47  // 55\n      },                                                                                                 // 48  // 56\n                                                                                                         // 49  // 57\n      // Called when the users clicks on the confirm button.                                             // 50  // 58\n      // If the function returns false, the confirm will be ABORTED.                                     // 51  // 59\n      // Otherwise the modal will be closed and the regular callback is called with the result.          // 52  // 60\n      // Arguments are the passed initial options, and the modal DOM node.                               // 53  // 61\n      onConfirm: function(options, node) {                                                               // 54  // 62\n        // return false; // Aborts closing of modal!                                                     // 55  // 63\n      }                                                                                                  // 56  // 64\n    }, options);                                                                                         // 57  // 65\n                                                                                                         // 58  // 66\n    var modalWrap = $('.bs-prompt-modal');                                                               // 59  // 67\n    if (!modalWrap.size()) {                                                                             // 60  // 68\n      modalWrap = this.createModal();                                                                    // 61  // 69\n    }                                                                                                    // 62  // 70\n                                                                                                         // 63  // 71\n    var modal = modalWrap.find('.modal');                                                                // 64  // 72\n                                                                                                         // 65  // 73\n    modal.find('.modal-title').html(options.title);                                                      // 66  // 74\n                                                                                                         // 67  // 75\n    // Reset body.                                                                                       // 68  // 76\n    var body = modal.find('.modal-body').html('');                                                       // 69  // 77\n                                                                                                         // 70  // 78\n    // Function to be called when confirmed.                                                             // 71  // 79\n    // Defined up here so it can be used in AutoForm submit hook.                                        // 72  // 80\n    function onConfirm(data) {                                                                           // 73  // 81\n      if (options.onConfirm) {                                                                           // 74  // 82\n        var flag = options.onConfirm(options, modal.get(0), data);                                       // 75  // 83\n        if (flag === false) {                                                                            // 76  // 84\n          return false;                                                                                  // 77  // 85\n        }                                                                                                // 78  // 86\n      }                                                                                                  // 79  // 87\n                                                                                                         // 80  // 88\n      if (options.beforeHide) {                                                                          // 81  // 89\n        options.beforeHide(options, modal.get(0), data);                                                 // 82  // 90\n      }                                                                                                  // 83  // 91\n                                                                                                         // 84  // 92\n      modal.modal('hide');                                                                               // 85  // 93\n      callback(data ? data : true);                                                                      // 86  // 94\n    }                                                                                                    // 87  // 95\n                                                                                                         // 88  // 96\n    var content = options.content;                                                                       // 89  // 97\n    if (options.template) {                                                                              // 90  // 98\n      // Render the given template with the specified data and insert it                                 // 91  // 99\n      // to the modal-body directly.                                                                     // 92  // 100\n      Blaze.renderWithData(                                                                              // 93  // 101\n        options.template,                                                                                // 94  // 102\n        options.templateData,                                                                            // 95  // 103\n        body.get(0)                                                                                      // 96  // 104\n      );                                                                                                 // 97  // 105\n    }                                                                                                    // 98  // 106\n    else if (options.formSchema) {                                                                       // 99  // 107\n      // Render the form using the autoform quickForm template.                                          // 100\n      Blaze.renderWithData(                                                                              // 101\n        Template.quickForm,                                                                              // 102\n        {schema: options.formSchema, id: 'bootstrapModalPromptForm'},                                    // 103\n        body.get(0)                                                                                      // 104\n      );                                                                                                 // 105\n                                                                                                         // 106\n      // Note the important second parameter true for replacing hooks.                                   // 107\n      AutoForm.addHooks('bootstrapModalPromptForm', {                                                    // 108\n        onSubmit: function (insertDoc, updateDoc, currentDoc) {                                          // 109\n          onConfirm(insertDoc);                                                                          // 110\n          return false;                                                                                  // 111\n        }                                                                                                // 112\n      }, true);                                                                                          // 113\n    }                                                                                                    // 114\n    else {                                                                                               // 115\n      modal.find('.modal-body').html(content);                                                           // 116\n    }                                                                                                    // 117\n                                                                                                         // 118\n    modal.find('.modal-btn-dismiss').html(options.btnDismissText);                                       // 119\n    modal.find('.modal-btn-save').html(options.btnOkText);                                               // 120\n                                                                                                         // 121\n    modal.on('shown.bs.modal', function() {                                                              // 122\n      if (options.afterShow) {                                                                           // 123\n        options.afterShow(options, modal.get(0));                                                        // 124\n      }                                                                                                  // 125\n    });                                                                                                  // 126\n    modal.on('hidden.bs.modal', function() {                                                             // 127\n      if (options.afterHide) {                                                                           // 128\n        options.afterHide(options, modal.get(0));                                                        // 129\n      }                                                                                                  // 130\n    });                                                                                                  // 131\n                                                                                                         // 132\n    if (options.beforeShow) {                                                                            // 133\n      options.beforeShow(options, modal.get(0));                                                         // 134\n    }                                                                                                    // 135\n                                                                                                         // 136\n    modal.find('.modal-btn-dismiss').off().click(function(){                                             // 137\n      if (options.beforeHide) {                                                                          // 138\n        options.beforeHide(options, modal.get(0));                                                       // 139\n      }                                                                                                  // 140\n                                                                                                         // 141\n      modal.modal('hide');                                                                               // 142\n      callback(false);                                                                                   // 143\n                                                                                                         // 144\n      return false;                                                                                      // 145\n    });                                                                                                  // 146\n                                                                                                         // 147\n                                                                                                         // 148\n                                                                                                         // 149\n    modal.find('.modal-btn-confirm').off().click(function() {                                            // 150\n      if (options.formSchema) {                                                                          // 151\n        modal.find('form').submit();                                                                     // 152\n      }                                                                                                  // 153\n      else {                                                                                             // 154\n        onConfirm();                                                                                     // 155\n      }                                                                                                  // 156\n                                                                                                         // 157\n      return false;                                                                                      // 158\n    });                                                                                                  // 159\n                                                                                                         // 160\n    modal.modal('show');                                                                                 // 161\n  },                                                                                                     // 162\n                                                                                                         // 163\n  createModal: function() {                                                                              // 164\n    var tpl = '<div class=\"bs-prompt-modal\">' +                                                          // 165\n                '<div class=\"modal fade\"><div class=\"modal-dialog\"><div class=\"modal-content\">' +        // 166\n                  '<div class=\"modal-header\">' +                                                         // 167\n                    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\n                    '<h4 class=\"modal-title\"></h4>' +                                                    // 169\n                  '</div>' +                                                                             // 170\n                  '<div class=\"modal-body\">' +                                                           // 171\n                                                                                                         // 172\n                  '</div>' +                                                                             // 173\n                  '<div class=\"modal-footer\">' +                                                         // 174\n                    '<button type=\"button\" class=\"btn btn-default modal-btn-dismiss\" >Close</button>' +  // 175\n                    '<button type=\"button\" class=\"btn btn-primary modal-btn-confirm\">OK</button>' +      // 176\n                  '</div>' +                                                                             // 177\n                                                                                                         // 178\n                '</div></div></div>' +                                                                   // 179\n              '</div>';                                                                                  // 180\n                                                                                                         // 181\n    $('body').append(tpl);                                                                               // 182\n    return $('.bs-prompt-modal');                                                                        // 183\n  }                                                                                                      // 184\n};                                                                                                       // 185\n                                                                                                         // 186\n///////////////////////////////////////////////////////////////////////////////////////////////////////////     // 195\n                                                                                                                // 196\n}).call(this);                                                                                                  // 197\n                                                                                                                // 198\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['theduke:bootstrap-modal-prompt'] = {\n  BootstrapModalPrompt: BootstrapModalPrompt\n};\n\n})();\n","servePath":"/packages/theduke_bootstrap-modal-prompt.js","sourceMap":{"version":3,"sources":["/packages/theduke_bootstrap-modal-prompt/packages/theduke_bootstrap-modal-prompt.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sH","file":"/packages/theduke_bootstrap-modal-prompt.js","sourcesContent":["(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/theduke:bootstrap-modal-prompt/prompt.js                                                     //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nBootstrapModalPrompt = {                                                                                 // 1\n                                                                                                         // 2\n  /*                                                                                                     // 3\n   * Expected format of options:                                                                         // 4\n   * {                                                                                                   // 5\n   *   title: 'Modal Title',                                                                             // 6\n   *   content: 'Text content for modal',                                                                // 7\n   *   template: 'templateWithContentName',                                                              // 8\n   *   templateData: {},                                                                                 // 9\n   *   btnDismissText: 'Close',                                                                          // 10\n   *   btnOkText: 'OK',                                                                                  // 11\n   *   onShown: function() {} // callback function.                                                      // 12\n   * }                                                                                                   // 13\n   */                                                                                                    // 14\n  prompt: function(options, callback) {                                                                  // 15\n    options = _.extend({                                                                                 // 16\n      title: 'Confirmation',                                                                             // 17\n      content: '',                                                                                       // 18\n      template: null,                                                                                    // 19\n      templateData: {},                                                                                  // 20\n                                                                                                         // 21\n      formSchema: null,                                                                                  // 22\n                                                                                                         // 23\n      btnDismissText: 'Close',                                                                           // 24\n      btnOkText: 'OK',                                                                                   // 25\n                                                                                                         // 26\n      // Callback called before the modal is shown.                                                      // 27\n      // Arguments are the passed initial options, and the modal DOM node.                               // 28\n      beforeShow: function(options, node) {                                                              // 29\n                                                                                                         // 30\n      },                                                                                                 // 31\n      // Called after the modal is shown and all transitions have been completed.                        // 32\n      // Arguments are the passed initial options, and the modal DOM node.                               // 33\n      afterShow: function(options, node) {                                                               // 34\n                                                                                                         // 35\n      },                                                                                                 // 36\n                                                                                                         // 37\n      // Callback called before the modal is hidden.                                                     // 38\n      // Arguments are the passed initial options, and the modal DOM node.                               // 39\n      beforeHide: function(options, node) {                                                              // 40\n                                                                                                         // 41\n      },                                                                                                 // 42\n                                                                                                         // 43\n      // Callback called after the modal has been hidden and all transitions have completed.             // 44\n      // Arguments are the passed initial options, and the modal DOM node.                               // 45\n      afterHide: function(options, node) {                                                               // 46\n                                                                                                         // 47\n      },                                                                                                 // 48\n                                                                                                         // 49\n      // Called when the users clicks on the confirm button.                                             // 50\n      // If the function returns false, the confirm will be ABORTED.                                     // 51\n      // Otherwise the modal will be closed and the regular callback is called with the result.          // 52\n      // Arguments are the passed initial options, and the modal DOM node.                               // 53\n      onConfirm: function(options, node) {                                                               // 54\n        // return false; // Aborts closing of modal!                                                     // 55\n      }                                                                                                  // 56\n    }, options);                                                                                         // 57\n                                                                                                         // 58\n    var modalWrap = $('.bs-prompt-modal');                                                               // 59\n    if (!modalWrap.size()) {                                                                             // 60\n      modalWrap = this.createModal();                                                                    // 61\n    }                                                                                                    // 62\n                                                                                                         // 63\n    var modal = modalWrap.find('.modal');                                                                // 64\n                                                                                                         // 65\n    modal.find('.modal-title').html(options.title);                                                      // 66\n                                                                                                         // 67\n    // Reset body.                                                                                       // 68\n    var body = modal.find('.modal-body').html('');                                                       // 69\n                                                                                                         // 70\n    // Function to be called when confirmed.                                                             // 71\n    // Defined up here so it can be used in AutoForm submit hook.                                        // 72\n    function onConfirm(data) {                                                                           // 73\n      if (options.onConfirm) {                                                                           // 74\n        var flag = options.onConfirm(options, modal.get(0), data);                                       // 75\n        if (flag === false) {                                                                            // 76\n          return false;                                                                                  // 77\n        }                                                                                                // 78\n      }                                                                                                  // 79\n                                                                                                         // 80\n      if (options.beforeHide) {                                                                          // 81\n        options.beforeHide(options, modal.get(0), data);                                                 // 82\n      }                                                                                                  // 83\n                                                                                                         // 84\n      modal.modal('hide');                                                                               // 85\n      callback(data ? data : true);                                                                      // 86\n    }                                                                                                    // 87\n                                                                                                         // 88\n    var content = options.content;                                                                       // 89\n    if (options.template) {                                                                              // 90\n      // Render the given template with the specified data and insert it                                 // 91\n      // to the modal-body directly.                                                                     // 92\n      Blaze.renderWithData(                                                                              // 93\n        options.template,                                                                                // 94\n        options.templateData,                                                                            // 95\n        body.get(0)                                                                                      // 96\n      );                                                                                                 // 97\n    }                                                                                                    // 98\n    else if (options.formSchema) {                                                                       // 99\n      // Render the form using the autoform quickForm template.                                          // 100\n      Blaze.renderWithData(                                                                              // 101\n        Template.quickForm,                                                                              // 102\n        {schema: options.formSchema, id: 'bootstrapModalPromptForm'},                                    // 103\n        body.get(0)                                                                                      // 104\n      );                                                                                                 // 105\n                                                                                                         // 106\n      // Note the important second parameter true for replacing hooks.                                   // 107\n      AutoForm.addHooks('bootstrapModalPromptForm', {                                                    // 108\n        onSubmit: function (insertDoc, updateDoc, currentDoc) {                                          // 109\n          onConfirm(insertDoc);                                                                          // 110\n          return false;                                                                                  // 111\n        }                                                                                                // 112\n      }, true);                                                                                          // 113\n    }                                                                                                    // 114\n    else {                                                                                               // 115\n      modal.find('.modal-body').html(content);                                                           // 116\n    }                                                                                                    // 117\n                                                                                                         // 118\n    modal.find('.modal-btn-dismiss').html(options.btnDismissText);                                       // 119\n    modal.find('.modal-btn-save').html(options.btnOkText);                                               // 120\n                                                                                                         // 121\n    modal.on('shown.bs.modal', function() {                                                              // 122\n      if (options.afterShow) {                                                                           // 123\n        options.afterShow(options, modal.get(0));                                                        // 124\n      }                                                                                                  // 125\n    });                                                                                                  // 126\n    modal.on('hidden.bs.modal', function() {                                                             // 127\n      if (options.afterHide) {                                                                           // 128\n        options.afterHide(options, modal.get(0));                                                        // 129\n      }                                                                                                  // 130\n    });                                                                                                  // 131\n                                                                                                         // 132\n    if (options.beforeShow) {                                                                            // 133\n      options.beforeShow(options, modal.get(0));                                                         // 134\n    }                                                                                                    // 135\n                                                                                                         // 136\n    modal.find('.modal-btn-dismiss').off().click(function(){                                             // 137\n      if (options.beforeHide) {                                                                          // 138\n        options.beforeHide(options, modal.get(0));                                                       // 139\n      }                                                                                                  // 140\n                                                                                                         // 141\n      modal.modal('hide');                                                                               // 142\n      callback(false);                                                                                   // 143\n                                                                                                         // 144\n      return false;                                                                                      // 145\n    });                                                                                                  // 146\n                                                                                                         // 147\n                                                                                                         // 148\n                                                                                                         // 149\n    modal.find('.modal-btn-confirm').off().click(function() {                                            // 150\n      if (options.formSchema) {                                                                          // 151\n        modal.find('form').submit();                                                                     // 152\n      }                                                                                                  // 153\n      else {                                                                                             // 154\n        onConfirm();                                                                                     // 155\n      }                                                                                                  // 156\n                                                                                                         // 157\n      return false;                                                                                      // 158\n    });                                                                                                  // 159\n                                                                                                         // 160\n    modal.modal('show');                                                                                 // 161\n  },                                                                                                     // 162\n                                                                                                         // 163\n  createModal: function() {                                                                              // 164\n    var tpl = '<div class=\"bs-prompt-modal\">' +                                                          // 165\n                '<div class=\"modal fade\"><div class=\"modal-dialog\"><div class=\"modal-content\">' +        // 166\n                  '<div class=\"modal-header\">' +                                                         // 167\n                    '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\n                    '<h4 class=\"modal-title\"></h4>' +                                                    // 169\n                  '</div>' +                                                                             // 170\n                  '<div class=\"modal-body\">' +                                                           // 171\n                                                                                                         // 172\n                  '</div>' +                                                                             // 173\n                  '<div class=\"modal-footer\">' +                                                         // 174\n                    '<button type=\"button\" class=\"btn btn-default modal-btn-dismiss\" >Close</button>' +  // 175\n                    '<button type=\"button\" class=\"btn btn-primary modal-btn-confirm\">OK</button>' +      // 176\n                  '</div>' +                                                                             // 177\n                                                                                                         // 178\n                '</div></div></div>' +                                                                   // 179\n              '</div>';                                                                                  // 180\n                                                                                                         // 181\n    $('body').append(tpl);                                                                               // 182\n    return $('.bs-prompt-modal');                                                                        // 183\n  }                                                                                                      // 184\n};                                                                                                       // 185\n                                                                                                         // 186\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}}]