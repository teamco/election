[{"type":"js","data":"(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar HTTP = Package.http.HTTP;\nvar HTTPInternals = Package.http.HTTPInternals;\nvar OAuth1Binding = Package.oauth1.OAuth1Binding;\nvar OAuth = Package.oauth.OAuth;\nvar Oauth = Package.oauth.Oauth;\nvar _ = Package.underscore._;\nvar ServiceConfiguration = Package['service-configuration'].ServiceConfiguration;\n\n/* Package-scope variables */\nvar Twitter;\n\n(function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                     //\n// packages/twitter/twitter_server.js                                                                  //\n//                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                       //\nTwitter = {};                                                                                          // 1\n                                                                                                       // 2\nvar urls = {                                                                                           // 3\n  requestToken: \"https://api.twitter.com/oauth/request_token\",                                         // 4\n  authorize: \"https://api.twitter.com/oauth/authorize\",                                                // 5\n  accessToken: \"https://api.twitter.com/oauth/access_token\",                                           // 6\n  authenticate: \"https://api.twitter.com/oauth/authenticate\"                                           // 7\n};                                                                                                     // 8\n                                                                                                       // 9\n                                                                                                       // 10\n// https://dev.twitter.com/docs/api/1.1/get/account/verify_credentials                                 // 11\nTwitter.whitelistedFields = ['profile_image_url', 'profile_image_url_https', 'lang'];                  // 12\n                                                                                                       // 13\nOAuth.registerService('twitter', 1, urls, function(oauthBinding) {                                     // 14\n  var identity = oauthBinding.get('https://api.twitter.com/1.1/account/verify_credentials.json').data;\n                                                                                                       // 16\n  var serviceData = {                                                                                  // 17\n    id: identity.id_str,                                                                               // 18\n    screenName: identity.screen_name,                                                                  // 19\n    accessToken: OAuth.sealSecret(oauthBinding.accessToken),                                           // 20\n    accessTokenSecret: OAuth.sealSecret(oauthBinding.accessTokenSecret)                                // 21\n  };                                                                                                   // 22\n                                                                                                       // 23\n  // include helpful fields from twitter                                                               // 24\n  var fields = _.pick(identity, Twitter.whitelistedFields);                                            // 25\n  _.extend(serviceData, fields);                                                                       // 26\n                                                                                                       // 27\n  return {                                                                                             // 28\n    serviceData: serviceData,                                                                          // 29\n    options: {                                                                                         // 30\n      profile: {                                                                                       // 31\n        name: identity.name                                                                            // 32\n      }                                                                                                // 33\n    }                                                                                                  // 34\n  };                                                                                                   // 35\n});                                                                                                    // 36\n                                                                                                       // 37\n                                                                                                       // 38\nTwitter.retrieveCredential = function(credentialToken, credentialSecret) {                             // 39\n  return OAuth.retrieveCredential(credentialToken, credentialSecret);                                  // 40\n};                                                                                                     // 41\n                                                                                                       // 42\n/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage.twitter = {\n  Twitter: Twitter\n};\n\n})();\n","servePath":"/packages/twitter.js","sourceMap":{"version":3,"sources":["/packages/twitter/twitter_server.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4G","file":"/packages/twitter.js","sourcesContent":["Twitter = {};\n\nvar urls = {\n  requestToken: \"https://api.twitter.com/oauth/request_token\",\n  authorize: \"https://api.twitter.com/oauth/authorize\",\n  accessToken: \"https://api.twitter.com/oauth/access_token\",\n  authenticate: \"https://api.twitter.com/oauth/authenticate\"\n};\n\n\n// https://dev.twitter.com/docs/api/1.1/get/account/verify_credentials\nTwitter.whitelistedFields = ['profile_image_url', 'profile_image_url_https', 'lang'];\n\nOAuth.registerService('twitter', 1, urls, function(oauthBinding) {\n  var identity = oauthBinding.get('https://api.twitter.com/1.1/account/verify_credentials.json').data;\n\n  var serviceData = {\n    id: identity.id_str,\n    screenName: identity.screen_name,\n    accessToken: OAuth.sealSecret(oauthBinding.accessToken),\n    accessTokenSecret: OAuth.sealSecret(oauthBinding.accessTokenSecret)\n  };\n\n  // include helpful fields from twitter\n  var fields = _.pick(identity, Twitter.whitelistedFields);\n  _.extend(serviceData, fields);\n\n  return {\n    serviceData: serviceData,\n    options: {\n      profile: {\n        name: identity.name\n      }\n    }\n  };\n});\n\n\nTwitter.retrieveCredential = function(credentialToken, credentialSecret) {\n  return OAuth.retrieveCredential(credentialToken, credentialSecret);\n};\n"]}}]