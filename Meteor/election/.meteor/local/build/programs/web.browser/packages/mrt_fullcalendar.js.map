{"version":3,"sources":["meteor://ðŸ’»app/packages/mrt_fullcalendar/packages/mrt_fullcalendar.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6H","file":"/packages/mrt_fullcalendar.js","sourcesContent":["(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/mrt:fullcalendar/lib/fullcalendar.js                                                                   //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n/*!                                                                                                                // 1\n * FullCalendar v1.6.1                                                                                             // 2\n * Docs & License: http://arshaw.com/fullcalendar/                                                                 // 3\n * (c) 2013 Adam Shaw                                                                                              // 4\n */                                                                                                                // 5\n                                                                                                                   // 6\n/*                                                                                                                 // 7\n * Use fullcalendar.css for basic styling.                                                                         // 8\n * For event drag & drop, requires jQuery UI draggable.                                                            // 9\n * For event resizing, requires jQuery UI resizable.                                                               // 10\n */                                                                                                                // 11\n                                                                                                                   // 12\n(function($, undefined) {                                                                                          // 13\n                                                                                                                   // 14\n                                                                                                                   // 15\n;;                                                                                                                 // 16\n                                                                                                                   // 17\nvar defaults = {                                                                                                   // 18\n                                                                                                                   // 19\n\t// display                                                                                                        // 20\n\tdefaultView: 'month',                                                                                             // 21\n\taspectRatio: 1.35,                                                                                                // 22\n\theader: {                                                                                                         // 23\n\t\tleft: 'title',                                                                                                   // 24\n\t\tcenter: '',                                                                                                      // 25\n\t\tright: 'today prev,next'                                                                                         // 26\n\t},                                                                                                                // 27\n\tweekends: true,                                                                                                   // 28\n\tweekNumbers: false,                                                                                               // 29\n\tweekNumberCalculation: 'iso',                                                                                     // 30\n\tweekNumberTitle: 'W',                                                                                             // 31\n\t                                                                                                                  // 32\n\t// editing                                                                                                        // 33\n\t//editable: false,                                                                                                // 34\n\t//disableDragging: false,                                                                                         // 35\n\t//disableResizing: false,                                                                                         // 36\n\t                                                                                                                  // 37\n\tallDayDefault: true,                                                                                              // 38\n\tignoreTimezone: true,                                                                                             // 39\n\t                                                                                                                  // 40\n\t// event ajax                                                                                                     // 41\n\tlazyFetching: true,                                                                                               // 42\n\tstartParam: 'start',                                                                                              // 43\n\tendParam: 'end',                                                                                                  // 44\n\t                                                                                                                  // 45\n\t// time formats                                                                                                   // 46\n\ttitleFormat: {                                                                                                    // 47\n\t\tmonth: 'MMMM yyyy',                                                                                              // 48\n\t\tweek: \"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}\",                                                                   // 49\n\t\tday: 'dddd, MMM d, yyyy'                                                                                         // 50\n\t},                                                                                                                // 51\n\tcolumnFormat: {                                                                                                   // 52\n\t\tmonth: 'ddd',                                                                                                    // 53\n\t\tweek: 'ddd M/d',                                                                                                 // 54\n\t\tday: 'dddd M/d'                                                                                                  // 55\n\t},                                                                                                                // 56\n\ttimeFormat: { // for event elements                                                                               // 57\n\t\t'': 'h(:mm)t' // default                                                                                         // 58\n\t},                                                                                                                // 59\n\t                                                                                                                  // 60\n\t// locale                                                                                                         // 61\n\tisRTL: false,                                                                                                     // 62\n\tfirstDay: 0,                                                                                                      // 63\n\tmonthNames: ['January','February','March','April','May','June','July','August','September','October','November','December'],\n\tmonthNamesShort: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],                       // 65\n\tdayNames: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],                               // 66\n\tdayNamesShort: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],                                                       // 67\n\tbuttonText: {                                                                                                     // 68\n\t\tprev: \"<span class='fc-text-arrow'>&lsaquo;</span>\",                                                             // 69\n\t\tnext: \"<span class='fc-text-arrow'>&rsaquo;</span>\",                                                             // 70\n\t\tprevYear: \"<span class='fc-text-arrow'>&laquo;</span>\",                                                          // 71\n\t\tnextYear: \"<span class='fc-text-arrow'>&raquo;</span>\",                                                          // 72\n\t\ttoday: 'today',                                                                                                  // 73\n\t\tmonth: 'month',                                                                                                  // 74\n\t\tweek: 'week',                                                                                                    // 75\n\t\tday: 'day'                                                                                                       // 76\n\t},                                                                                                                // 77\n\t                                                                                                                  // 78\n\t// jquery-ui theming                                                                                              // 79\n\ttheme: false,                                                                                                     // 80\n\tbuttonIcons: {                                                                                                    // 81\n\t\tprev: 'circle-triangle-w',                                                                                       // 82\n\t\tnext: 'circle-triangle-e'                                                                                        // 83\n\t},                                                                                                                // 84\n\t                                                                                                                  // 85\n\t//selectable: false,                                                                                              // 86\n\tunselectAuto: true,                                                                                               // 87\n\t                                                                                                                  // 88\n\tdropAccept: '*'                                                                                                   // 89\n\t                                                                                                                  // 90\n};                                                                                                                 // 91\n                                                                                                                   // 92\n// right-to-left defaults                                                                                          // 93\nvar rtlDefaults = {                                                                                                // 94\n\theader: {                                                                                                         // 95\n\t\tleft: 'next,prev today',                                                                                         // 96\n\t\tcenter: '',                                                                                                      // 97\n\t\tright: 'title'                                                                                                   // 98\n\t},                                                                                                                // 99\n\tbuttonText: {                                                                                                     // 100\n\t\tprev: \"<span class='fc-text-arrow'>&rsaquo;</span>\",                                                             // 101\n\t\tnext: \"<span class='fc-text-arrow'>&lsaquo;</span>\",                                                             // 102\n\t\tprevYear: \"<span class='fc-text-arrow'>&raquo;</span>\",                                                          // 103\n\t\tnextYear: \"<span class='fc-text-arrow'>&laquo;</span>\"                                                           // 104\n\t},                                                                                                                // 105\n\tbuttonIcons: {                                                                                                    // 106\n\t\tprev: 'circle-triangle-e',                                                                                       // 107\n\t\tnext: 'circle-triangle-w'                                                                                        // 108\n\t}                                                                                                                 // 109\n};                                                                                                                 // 110\n                                                                                                                   // 111\n                                                                                                                   // 112\n                                                                                                                   // 113\n;;                                                                                                                 // 114\n                                                                                                                   // 115\nvar fc = $.fullCalendar = { version: \"1.6.1\" };                                                                    // 116\nvar fcViews = fc.views = {};                                                                                       // 117\n                                                                                                                   // 118\n                                                                                                                   // 119\n$.fn.fullCalendar = function(options) {                                                                            // 120\n                                                                                                                   // 121\n                                                                                                                   // 122\n\t// method calling                                                                                                 // 123\n\tif (typeof options == 'string') {                                                                                 // 124\n\t\tvar args = Array.prototype.slice.call(arguments, 1);                                                             // 125\n\t\tvar res;                                                                                                         // 126\n\t\tthis.each(function() {                                                                                           // 127\n\t\t\tvar calendar = $.data(this, 'fullCalendar');                                                                    // 128\n\t\t\tif (calendar && $.isFunction(calendar[options])) {                                                              // 129\n\t\t\t\tvar r = calendar[options].apply(calendar, args);                                                               // 130\n\t\t\t\tif (res === undefined) {                                                                                       // 131\n\t\t\t\t\tres = r;                                                                                                      // 132\n\t\t\t\t}                                                                                                              // 133\n\t\t\t\tif (options == 'destroy') {                                                                                    // 134\n\t\t\t\t\t$.removeData(this, 'fullCalendar');                                                                           // 135\n\t\t\t\t}                                                                                                              // 136\n\t\t\t}                                                                                                               // 137\n\t\t});                                                                                                              // 138\n\t\tif (res !== undefined) {                                                                                         // 139\n\t\t\treturn res;                                                                                                     // 140\n\t\t}                                                                                                                // 141\n\t\treturn this;                                                                                                     // 142\n\t}                                                                                                                 // 143\n\t                                                                                                                  // 144\n\t                                                                                                                  // 145\n\t// would like to have this logic in EventManager, but needs to happen before options are recursively extended     // 146\n\tvar eventSources = options.eventSources || [];                                                                    // 147\n\tdelete options.eventSources;                                                                                      // 148\n\tif (options.events) {                                                                                             // 149\n\t\teventSources.push(options.events);                                                                               // 150\n\t\tdelete options.events;                                                                                           // 151\n\t}                                                                                                                 // 152\n\t                                                                                                                  // 153\n                                                                                                                   // 154\n\toptions = $.extend(true, {},                                                                                      // 155\n\t\tdefaults,                                                                                                        // 156\n\t\t(options.isRTL || options.isRTL===undefined && defaults.isRTL) ? rtlDefaults : {},                               // 157\n\t\toptions                                                                                                          // 158\n\t);                                                                                                                // 159\n\t                                                                                                                  // 160\n\t                                                                                                                  // 161\n\tthis.each(function(i, _element) {                                                                                 // 162\n\t\tvar element = $(_element);                                                                                       // 163\n\t\tvar calendar = new Calendar(element, options, eventSources);                                                     // 164\n\t\telement.data('fullCalendar', calendar); // TODO: look into memory leak implications                              // 165\n\t\tcalendar.render();                                                                                               // 166\n\t});                                                                                                               // 167\n\t                                                                                                                  // 168\n\t                                                                                                                  // 169\n\treturn this;                                                                                                      // 170\n\t                                                                                                                  // 171\n};                                                                                                                 // 172\n                                                                                                                   // 173\n                                                                                                                   // 174\n// function for adding/overriding defaults                                                                         // 175\nfunction setDefaults(d) {                                                                                          // 176\n\t$.extend(true, defaults, d);                                                                                      // 177\n}                                                                                                                  // 178\n                                                                                                                   // 179\n                                                                                                                   // 180\n                                                                                                                   // 181\n;;                                                                                                                 // 182\n                                                                                                                   // 183\n                                                                                                                   // 184\nfunction Calendar(element, options, eventSources) {                                                                // 185\n\tvar t = this;                                                                                                     // 186\n\t                                                                                                                  // 187\n\t                                                                                                                  // 188\n\t// exports                                                                                                        // 189\n\tt.options = options;                                                                                              // 190\n\tt.render = render;                                                                                                // 191\n\tt.destroy = destroy;                                                                                              // 192\n\tt.refetchEvents = refetchEvents;                                                                                  // 193\n\tt.reportEvents = reportEvents;                                                                                    // 194\n\tt.reportEventChange = reportEventChange;                                                                          // 195\n\tt.rerenderEvents = rerenderEvents;                                                                                // 196\n\tt.changeView = changeView;                                                                                        // 197\n\tt.select = select;                                                                                                // 198\n\tt.unselect = unselect;                                                                                            // 199\n\tt.prev = prev;                                                                                                    // 200\n\tt.next = next;                                                                                                    // 201\n\tt.prevYear = prevYear;                                                                                            // 202\n\tt.nextYear = nextYear;                                                                                            // 203\n\tt.today = today;                                                                                                  // 204\n\tt.gotoDate = gotoDate;                                                                                            // 205\n\tt.incrementDate = incrementDate;                                                                                  // 206\n\tt.formatDate = function(format, date) { return formatDate(format, date, options) };                               // 207\n\tt.formatDates = function(format, date1, date2) { return formatDates(format, date1, date2, options) };             // 208\n\tt.getDate = getDate;                                                                                              // 209\n\tt.getView = getView;                                                                                              // 210\n\tt.option = option;                                                                                                // 211\n\tt.trigger = trigger;                                                                                              // 212\n\t                                                                                                                  // 213\n\t                                                                                                                  // 214\n\t// imports                                                                                                        // 215\n\tEventManager.call(t, options, eventSources);                                                                      // 216\n\tvar isFetchNeeded = t.isFetchNeeded;                                                                              // 217\n\tvar fetchEvents = t.fetchEvents;                                                                                  // 218\n\t                                                                                                                  // 219\n\t                                                                                                                  // 220\n\t// locals                                                                                                         // 221\n\tvar _element = element[0];                                                                                        // 222\n\tvar header;                                                                                                       // 223\n\tvar headerElement;                                                                                                // 224\n\tvar content;                                                                                                      // 225\n\tvar tm; // for making theme classes                                                                               // 226\n\tvar currentView;                                                                                                  // 227\n\tvar viewInstances = {};                                                                                           // 228\n\tvar elementOuterWidth;                                                                                            // 229\n\tvar suggestedViewHeight;                                                                                          // 230\n\tvar absoluteViewElement;                                                                                          // 231\n\tvar resizeUID = 0;                                                                                                // 232\n\tvar ignoreWindowResize = 0;                                                                                       // 233\n\tvar date = new Date();                                                                                            // 234\n\tvar events = [];                                                                                                  // 235\n\tvar _dragElement;                                                                                                 // 236\n\t                                                                                                                  // 237\n\t                                                                                                                  // 238\n\t                                                                                                                  // 239\n\t/* Main Rendering                                                                                                 // 240\n\t-----------------------------------------------------------------------------*/                                   // 241\n\t                                                                                                                  // 242\n\t                                                                                                                  // 243\n\tsetYMD(date, options.year, options.month, options.date);                                                          // 244\n\t                                                                                                                  // 245\n\t                                                                                                                  // 246\n\tfunction render(inc) {                                                                                            // 247\n\t\tif (!content) {                                                                                                  // 248\n\t\t\tinitialRender();                                                                                                // 249\n\t\t}else{                                                                                                           // 250\n\t\t\tcalcSize();                                                                                                     // 251\n\t\t\tmarkSizesDirty();                                                                                               // 252\n\t\t\tmarkEventsDirty();                                                                                              // 253\n\t\t\trenderView(inc);                                                                                                // 254\n\t\t}                                                                                                                // 255\n\t}                                                                                                                 // 256\n\t                                                                                                                  // 257\n\t                                                                                                                  // 258\n\tfunction initialRender() {                                                                                        // 259\n\t\ttm = options.theme ? 'ui' : 'fc';                                                                                // 260\n\t\telement.addClass('fc');                                                                                          // 261\n\t\tif (options.isRTL) {                                                                                             // 262\n\t\t\telement.addClass('fc-rtl');                                                                                     // 263\n\t\t}                                                                                                                // 264\n\t\telse {                                                                                                           // 265\n\t\t\telement.addClass('fc-ltr');                                                                                     // 266\n\t\t}                                                                                                                // 267\n\t\tif (options.theme) {                                                                                             // 268\n\t\t\telement.addClass('ui-widget');                                                                                  // 269\n\t\t}                                                                                                                // 270\n\t\tcontent = $(\"<div class='fc-content' style='position:relative'/>\")                                               // 271\n\t\t\t.prependTo(element);                                                                                            // 272\n\t\theader = new Header(t, options);                                                                                 // 273\n\t\theaderElement = header.render();                                                                                 // 274\n\t\tif (headerElement) {                                                                                             // 275\n\t\t\telement.prepend(headerElement);                                                                                 // 276\n\t\t}                                                                                                                // 277\n\t\tchangeView(options.defaultView);                                                                                 // 278\n\t\t$(window).resize(windowResize);                                                                                  // 279\n\t\t// needed for IE in a 0x0 iframe, b/c when it is resized, never triggers a windowResize                          // 280\n\t\tif (!bodyVisible()) {                                                                                            // 281\n\t\t\tlateRender();                                                                                                   // 282\n\t\t}                                                                                                                // 283\n\t}                                                                                                                 // 284\n\t                                                                                                                  // 285\n\t                                                                                                                  // 286\n\t// called when we know the calendar couldn't be rendered when it was initialized,                                 // 287\n\t// but we think it's ready now                                                                                    // 288\n\tfunction lateRender() {                                                                                           // 289\n\t\tsetTimeout(function() { // IE7 needs this so dimensions are calculated correctly                                 // 290\n\t\t\tif (!currentView.start && bodyVisible()) { // !currentView.start makes sure this never happens more than once   // 291\n\t\t\t\trenderView();                                                                                                  // 292\n\t\t\t}                                                                                                               // 293\n\t\t},0);                                                                                                            // 294\n\t}                                                                                                                 // 295\n\t                                                                                                                  // 296\n\t                                                                                                                  // 297\n\tfunction destroy() {                                                                                              // 298\n\t\t$(window).unbind('resize', windowResize);                                                                        // 299\n\t\theader.destroy();                                                                                                // 300\n\t\tcontent.remove();                                                                                                // 301\n\t\telement.removeClass('fc fc-rtl ui-widget');                                                                      // 302\n\t}                                                                                                                 // 303\n\t                                                                                                                  // 304\n\t                                                                                                                  // 305\n\t                                                                                                                  // 306\n\tfunction elementVisible() {                                                                                       // 307\n\t\treturn _element.offsetWidth !== 0;                                                                               // 308\n\t}                                                                                                                 // 309\n\t                                                                                                                  // 310\n\t                                                                                                                  // 311\n\tfunction bodyVisible() {                                                                                          // 312\n\t\treturn $('body')[0].offsetWidth !== 0;                                                                           // 313\n\t}                                                                                                                 // 314\n\t                                                                                                                  // 315\n\t                                                                                                                  // 316\n\t                                                                                                                  // 317\n\t/* View Rendering                                                                                                 // 318\n\t-----------------------------------------------------------------------------*/                                   // 319\n\t                                                                                                                  // 320\n\t// TODO: improve view switching (still weird transition in IE, and FF has whiteout problem)                       // 321\n\t                                                                                                                  // 322\n\tfunction changeView(newViewName) {                                                                                // 323\n\t\tif (!currentView || newViewName != currentView.name) {                                                           // 324\n\t\t\tignoreWindowResize++; // because setMinHeight might change the height before render (and subsequently setSize) is reached\n                                                                                                                   // 326\n\t\t\tunselect();                                                                                                     // 327\n\t\t\t                                                                                                                // 328\n\t\t\tvar oldView = currentView;                                                                                      // 329\n\t\t\tvar newViewElement;                                                                                             // 330\n\t\t\t\t                                                                                                               // 331\n\t\t\tif (oldView) {                                                                                                  // 332\n\t\t\t\t(oldView.beforeHide || noop)(); // called before changing min-height. if called after, scroll state is reset (in Opera)\n\t\t\t\tsetMinHeight(content, content.height());                                                                       // 334\n\t\t\t\toldView.element.hide();                                                                                        // 335\n\t\t\t}else{                                                                                                          // 336\n\t\t\t\tsetMinHeight(content, 1); // needs to be 1 (not 0) for IE7, or else view dimensions miscalculated              // 337\n\t\t\t}                                                                                                               // 338\n\t\t\tcontent.css('overflow', 'hidden');                                                                              // 339\n\t\t\t                                                                                                                // 340\n\t\t\tcurrentView = viewInstances[newViewName];                                                                       // 341\n\t\t\tif (currentView) {                                                                                              // 342\n\t\t\t\tcurrentView.element.show();                                                                                    // 343\n\t\t\t}else{                                                                                                          // 344\n\t\t\t\tcurrentView = viewInstances[newViewName] = new fcViews[newViewName](                                           // 345\n\t\t\t\t\tnewViewElement = absoluteViewElement =                                                                        // 346\n\t\t\t\t\t\t$(\"<div class='fc-view fc-view-\" + newViewName + \"' style='position:absolute'/>\")                            // 347\n\t\t\t\t\t\t\t.appendTo(content),                                                                                         // 348\n\t\t\t\t\tt // the calendar object                                                                                      // 349\n\t\t\t\t);                                                                                                             // 350\n\t\t\t}                                                                                                               // 351\n\t\t\t                                                                                                                // 352\n\t\t\tif (oldView) {                                                                                                  // 353\n\t\t\t\theader.deactivateButton(oldView.name);                                                                         // 354\n\t\t\t}                                                                                                               // 355\n\t\t\theader.activateButton(newViewName);                                                                             // 356\n\t\t\t                                                                                                                // 357\n\t\t\trenderView(); // after height has been set, will make absoluteViewElement's position=relative, then set to null // 358\n\t\t\t                                                                                                                // 359\n\t\t\tcontent.css('overflow', '');                                                                                    // 360\n\t\t\tif (oldView) {                                                                                                  // 361\n\t\t\t\tsetMinHeight(content, 1);                                                                                      // 362\n\t\t\t}                                                                                                               // 363\n\t\t\t                                                                                                                // 364\n\t\t\tif (!newViewElement) {                                                                                          // 365\n\t\t\t\t(currentView.afterShow || noop)(); // called after setting min-height/overflow, so in final scroll state (for Opera)\n\t\t\t}                                                                                                               // 367\n\t\t\t                                                                                                                // 368\n\t\t\tignoreWindowResize--;                                                                                           // 369\n\t\t}                                                                                                                // 370\n\t}                                                                                                                 // 371\n\t                                                                                                                  // 372\n\t                                                                                                                  // 373\n\t                                                                                                                  // 374\n\tfunction renderView(inc) {                                                                                        // 375\n\t\tif (elementVisible()) {                                                                                          // 376\n\t\t\tignoreWindowResize++; // because renderEvents might temporarily change the height before setSize is reached     // 377\n                                                                                                                   // 378\n\t\t\tunselect();                                                                                                     // 379\n\t\t\t                                                                                                                // 380\n\t\t\tif (suggestedViewHeight === undefined) {                                                                        // 381\n\t\t\t\tcalcSize();                                                                                                    // 382\n\t\t\t}                                                                                                               // 383\n\t\t\t                                                                                                                // 384\n\t\t\tvar forceEventRender = false;                                                                                   // 385\n\t\t\tif (!currentView.start || inc || date < currentView.start || date >= currentView.end) {                         // 386\n\t\t\t\t// view must render an entire new date range (and refetch/render events)                                       // 387\n\t\t\t\tcurrentView.render(date, inc || 0); // responsible for clearing events                                         // 388\n\t\t\t\tsetSize(true);                                                                                                 // 389\n\t\t\t\tforceEventRender = true;                                                                                       // 390\n\t\t\t}                                                                                                               // 391\n\t\t\telse if (currentView.sizeDirty) {                                                                               // 392\n\t\t\t\t// view must resize (and rerender events)                                                                      // 393\n\t\t\t\tcurrentView.clearEvents();                                                                                     // 394\n\t\t\t\tsetSize();                                                                                                     // 395\n\t\t\t\tforceEventRender = true;                                                                                       // 396\n\t\t\t}                                                                                                               // 397\n\t\t\telse if (currentView.eventsDirty) {                                                                             // 398\n\t\t\t\tcurrentView.clearEvents();                                                                                     // 399\n\t\t\t\tforceEventRender = true;                                                                                       // 400\n\t\t\t}                                                                                                               // 401\n\t\t\tcurrentView.sizeDirty = false;                                                                                  // 402\n\t\t\tcurrentView.eventsDirty = false;                                                                                // 403\n\t\t\tupdateEvents(forceEventRender);                                                                                 // 404\n\t\t\t                                                                                                                // 405\n\t\t\telementOuterWidth = element.outerWidth();                                                                       // 406\n\t\t\t                                                                                                                // 407\n\t\t\theader.updateTitle(currentView.title);                                                                          // 408\n\t\t\tvar today = new Date();                                                                                         // 409\n\t\t\tif (today >= currentView.start && today < currentView.end) {                                                    // 410\n\t\t\t\theader.disableButton('today');                                                                                 // 411\n\t\t\t}else{                                                                                                          // 412\n\t\t\t\theader.enableButton('today');                                                                                  // 413\n\t\t\t}                                                                                                               // 414\n\t\t\t                                                                                                                // 415\n\t\t\tignoreWindowResize--;                                                                                           // 416\n\t\t\tcurrentView.trigger('viewDisplay', _element);                                                                   // 417\n\t\t}                                                                                                                // 418\n\t}                                                                                                                 // 419\n\t                                                                                                                  // 420\n\t                                                                                                                  // 421\n\t                                                                                                                  // 422\n\t/* Resizing                                                                                                       // 423\n\t-----------------------------------------------------------------------------*/                                   // 424\n\t                                                                                                                  // 425\n\t                                                                                                                  // 426\n\tfunction updateSize() {                                                                                           // 427\n\t\tmarkSizesDirty();                                                                                                // 428\n\t\tif (elementVisible()) {                                                                                          // 429\n\t\t\tcalcSize();                                                                                                     // 430\n\t\t\tsetSize();                                                                                                      // 431\n\t\t\tunselect();                                                                                                     // 432\n\t\t\tcurrentView.clearEvents();                                                                                      // 433\n\t\t\tcurrentView.renderEvents(events);                                                                               // 434\n\t\t\tcurrentView.sizeDirty = false;                                                                                  // 435\n\t\t}                                                                                                                // 436\n\t}                                                                                                                 // 437\n\t                                                                                                                  // 438\n\t                                                                                                                  // 439\n\tfunction markSizesDirty() {                                                                                       // 440\n\t\t$.each(viewInstances, function(i, inst) {                                                                        // 441\n\t\t\tinst.sizeDirty = true;                                                                                          // 442\n\t\t});                                                                                                              // 443\n\t}                                                                                                                 // 444\n\t                                                                                                                  // 445\n\t                                                                                                                  // 446\n\tfunction calcSize() {                                                                                             // 447\n\t\tif (options.contentHeight) {                                                                                     // 448\n\t\t\tsuggestedViewHeight = options.contentHeight;                                                                    // 449\n\t\t}                                                                                                                // 450\n\t\telse if (options.height) {                                                                                       // 451\n\t\t\tsuggestedViewHeight = options.height - (headerElement ? headerElement.height() : 0) - vsides(content);          // 452\n\t\t}                                                                                                                // 453\n\t\telse {                                                                                                           // 454\n\t\t\tsuggestedViewHeight = Math.round(content.width() / Math.max(options.aspectRatio, .5));                          // 455\n\t\t}                                                                                                                // 456\n\t}                                                                                                                 // 457\n\t                                                                                                                  // 458\n\t                                                                                                                  // 459\n\tfunction setSize(dateChanged) { // todo: dateChanged?                                                             // 460\n\t\tignoreWindowResize++;                                                                                            // 461\n\t\tcurrentView.setHeight(suggestedViewHeight, dateChanged);                                                         // 462\n\t\tif (absoluteViewElement) {                                                                                       // 463\n\t\t\tabsoluteViewElement.css('position', 'relative');                                                                // 464\n\t\t\tabsoluteViewElement = null;                                                                                     // 465\n\t\t}                                                                                                                // 466\n\t\tcurrentView.setWidth(content.width(), dateChanged);                                                              // 467\n\t\tignoreWindowResize--;                                                                                            // 468\n\t}                                                                                                                 // 469\n\t                                                                                                                  // 470\n\t                                                                                                                  // 471\n\tfunction windowResize() {                                                                                         // 472\n\t\tif (!ignoreWindowResize) {                                                                                       // 473\n\t\t\tif (currentView.start) { // view has already been rendered                                                      // 474\n\t\t\t\tvar uid = ++resizeUID;                                                                                         // 475\n\t\t\t\tsetTimeout(function() { // add a delay                                                                         // 476\n\t\t\t\t\tif (uid == resizeUID && !ignoreWindowResize && elementVisible()) {                                            // 477\n\t\t\t\t\t\tif (elementOuterWidth != (elementOuterWidth = element.outerWidth())) {                                       // 478\n\t\t\t\t\t\t\tignoreWindowResize++; // in case the windowResize callback changes the height                               // 479\n\t\t\t\t\t\t\tupdateSize();                                                                                               // 480\n\t\t\t\t\t\t\tcurrentView.trigger('windowResize', _element);                                                              // 481\n\t\t\t\t\t\t\tignoreWindowResize--;                                                                                       // 482\n\t\t\t\t\t\t}                                                                                                            // 483\n\t\t\t\t\t}                                                                                                             // 484\n\t\t\t\t}, 200);                                                                                                       // 485\n\t\t\t}else{                                                                                                          // 486\n\t\t\t\t// calendar must have been initialized in a 0x0 iframe that has just been resized                              // 487\n\t\t\t\tlateRender();                                                                                                  // 488\n\t\t\t}                                                                                                               // 489\n\t\t}                                                                                                                // 490\n\t}                                                                                                                 // 491\n\t                                                                                                                  // 492\n\t                                                                                                                  // 493\n\t                                                                                                                  // 494\n\t/* Event Fetching/Rendering                                                                                       // 495\n\t-----------------------------------------------------------------------------*/                                   // 496\n\t                                                                                                                  // 497\n\t                                                                                                                  // 498\n\t// fetches events if necessary, rerenders events if necessary (or if forced)                                      // 499\n\tfunction updateEvents(forceRender) {                                                                              // 500\n\t\tif (!options.lazyFetching || isFetchNeeded(currentView.visStart, currentView.visEnd)) {                          // 501\n\t\t\trefetchEvents();                                                                                                // 502\n\t\t}                                                                                                                // 503\n\t\telse if (forceRender) {                                                                                          // 504\n\t\t\trerenderEvents();                                                                                               // 505\n\t\t}                                                                                                                // 506\n\t}                                                                                                                 // 507\n\t                                                                                                                  // 508\n\t                                                                                                                  // 509\n\tfunction refetchEvents() {                                                                                        // 510\n\t\tfetchEvents(currentView.visStart, currentView.visEnd); // will call reportEvents                                 // 511\n\t}                                                                                                                 // 512\n\t                                                                                                                  // 513\n\t                                                                                                                  // 514\n\t// called when event data arrives                                                                                 // 515\n\tfunction reportEvents(_events) {                                                                                  // 516\n\t\tevents = _events;                                                                                                // 517\n\t\trerenderEvents();                                                                                                // 518\n\t}                                                                                                                 // 519\n\t                                                                                                                  // 520\n\t                                                                                                                  // 521\n\t// called when a single event's data has been changed                                                             // 522\n\tfunction reportEventChange(eventID) {                                                                             // 523\n\t\trerenderEvents(eventID);                                                                                         // 524\n\t}                                                                                                                 // 525\n\t                                                                                                                  // 526\n\t                                                                                                                  // 527\n\t// attempts to rerenderEvents                                                                                     // 528\n\tfunction rerenderEvents(modifiedEventID) {                                                                        // 529\n\t\tmarkEventsDirty();                                                                                               // 530\n\t\tif (elementVisible()) {                                                                                          // 531\n\t\t\tcurrentView.clearEvents();                                                                                      // 532\n\t\t\tcurrentView.renderEvents(events, modifiedEventID);                                                              // 533\n\t\t\tcurrentView.eventsDirty = false;                                                                                // 534\n\t\t}                                                                                                                // 535\n\t}                                                                                                                 // 536\n\t                                                                                                                  // 537\n\t                                                                                                                  // 538\n\tfunction markEventsDirty() {                                                                                      // 539\n\t\t$.each(viewInstances, function(i, inst) {                                                                        // 540\n\t\t\tinst.eventsDirty = true;                                                                                        // 541\n\t\t});                                                                                                              // 542\n\t}                                                                                                                 // 543\n\t                                                                                                                  // 544\n                                                                                                                   // 545\n                                                                                                                   // 546\n\t/* Selection                                                                                                      // 547\n\t-----------------------------------------------------------------------------*/                                   // 548\n\t                                                                                                                  // 549\n                                                                                                                   // 550\n\tfunction select(start, end, allDay) {                                                                             // 551\n\t\tcurrentView.select(start, end, allDay===undefined ? true : allDay);                                              // 552\n\t}                                                                                                                 // 553\n\t                                                                                                                  // 554\n                                                                                                                   // 555\n\tfunction unselect() { // safe to be called before renderView                                                      // 556\n\t\tif (currentView) {                                                                                               // 557\n\t\t\tcurrentView.unselect();                                                                                         // 558\n\t\t}                                                                                                                // 559\n\t}                                                                                                                 // 560\n\t                                                                                                                  // 561\n\t                                                                                                                  // 562\n\t                                                                                                                  // 563\n\t/* Date                                                                                                           // 564\n\t-----------------------------------------------------------------------------*/                                   // 565\n\t                                                                                                                  // 566\n\t                                                                                                                  // 567\n\tfunction prev() {                                                                                                 // 568\n\t\trenderView(-1);                                                                                                  // 569\n\t}                                                                                                                 // 570\n\t                                                                                                                  // 571\n\t                                                                                                                  // 572\n\tfunction next() {                                                                                                 // 573\n\t\trenderView(1);                                                                                                   // 574\n\t}                                                                                                                 // 575\n\t                                                                                                                  // 576\n\t                                                                                                                  // 577\n\tfunction prevYear() {                                                                                             // 578\n\t\taddYears(date, -1);                                                                                              // 579\n\t\trenderView();                                                                                                    // 580\n\t}                                                                                                                 // 581\n\t                                                                                                                  // 582\n\t                                                                                                                  // 583\n\tfunction nextYear() {                                                                                             // 584\n\t\taddYears(date, 1);                                                                                               // 585\n\t\trenderView();                                                                                                    // 586\n\t}                                                                                                                 // 587\n\t                                                                                                                  // 588\n\t                                                                                                                  // 589\n\tfunction today() {                                                                                                // 590\n\t\tdate = new Date();                                                                                               // 591\n\t\trenderView();                                                                                                    // 592\n\t}                                                                                                                 // 593\n\t                                                                                                                  // 594\n\t                                                                                                                  // 595\n\tfunction gotoDate(year, month, dateOfMonth) {                                                                     // 596\n\t\tif (year instanceof Date) {                                                                                      // 597\n\t\t\tdate = cloneDate(year); // provided 1 argument, a Date                                                          // 598\n\t\t}else{                                                                                                           // 599\n\t\t\tsetYMD(date, year, month, dateOfMonth);                                                                         // 600\n\t\t}                                                                                                                // 601\n\t\trenderView();                                                                                                    // 602\n\t}                                                                                                                 // 603\n\t                                                                                                                  // 604\n\t                                                                                                                  // 605\n\tfunction incrementDate(years, months, days) {                                                                     // 606\n\t\tif (years !== undefined) {                                                                                       // 607\n\t\t\taddYears(date, years);                                                                                          // 608\n\t\t}                                                                                                                // 609\n\t\tif (months !== undefined) {                                                                                      // 610\n\t\t\taddMonths(date, months);                                                                                        // 611\n\t\t}                                                                                                                // 612\n\t\tif (days !== undefined) {                                                                                        // 613\n\t\t\taddDays(date, days);                                                                                            // 614\n\t\t}                                                                                                                // 615\n\t\trenderView();                                                                                                    // 616\n\t}                                                                                                                 // 617\n\t                                                                                                                  // 618\n\t                                                                                                                  // 619\n\tfunction getDate() {                                                                                              // 620\n\t\treturn cloneDate(date);                                                                                          // 621\n\t}                                                                                                                 // 622\n\t                                                                                                                  // 623\n\t                                                                                                                  // 624\n\t                                                                                                                  // 625\n\t/* Misc                                                                                                           // 626\n\t-----------------------------------------------------------------------------*/                                   // 627\n\t                                                                                                                  // 628\n\t                                                                                                                  // 629\n\tfunction getView() {                                                                                              // 630\n\t\treturn currentView;                                                                                              // 631\n\t}                                                                                                                 // 632\n\t                                                                                                                  // 633\n\t                                                                                                                  // 634\n\tfunction option(name, value) {                                                                                    // 635\n\t\tif (value === undefined) {                                                                                       // 636\n\t\t\treturn options[name];                                                                                           // 637\n\t\t}                                                                                                                // 638\n\t\tif (name == 'height' || name == 'contentHeight' || name == 'aspectRatio') {                                      // 639\n\t\t\toptions[name] = value;                                                                                          // 640\n\t\t\tupdateSize();                                                                                                   // 641\n\t\t}                                                                                                                // 642\n\t}                                                                                                                 // 643\n\t                                                                                                                  // 644\n\t                                                                                                                  // 645\n\tfunction trigger(name, thisObj) {                                                                                 // 646\n\t\tif (options[name]) {                                                                                             // 647\n\t\t\treturn options[name].apply(                                                                                     // 648\n\t\t\t\tthisObj || _element,                                                                                           // 649\n\t\t\t\tArray.prototype.slice.call(arguments, 2)                                                                       // 650\n\t\t\t);                                                                                                              // 651\n\t\t}                                                                                                                // 652\n\t}                                                                                                                 // 653\n\t                                                                                                                  // 654\n\t                                                                                                                  // 655\n\t                                                                                                                  // 656\n\t/* External Dragging                                                                                              // 657\n\t------------------------------------------------------------------------*/                                        // 658\n\t                                                                                                                  // 659\n\tif (options.droppable) {                                                                                          // 660\n\t\t$(document)                                                                                                      // 661\n\t\t\t.bind('dragstart', function(ev, ui) {                                                                           // 662\n\t\t\t\tvar _e = ev.target;                                                                                            // 663\n\t\t\t\tvar e = $(_e);                                                                                                 // 664\n\t\t\t\tif (!e.parents('.fc').length) { // not already inside a calendar                                               // 665\n\t\t\t\t\tvar accept = options.dropAccept;                                                                              // 666\n\t\t\t\t\tif ($.isFunction(accept) ? accept.call(_e, e) : e.is(accept)) {                                               // 667\n\t\t\t\t\t\t_dragElement = _e;                                                                                           // 668\n\t\t\t\t\t\tcurrentView.dragStart(_dragElement, ev, ui);                                                                 // 669\n\t\t\t\t\t}                                                                                                             // 670\n\t\t\t\t}                                                                                                              // 671\n\t\t\t})                                                                                                              // 672\n\t\t\t.bind('dragstop', function(ev, ui) {                                                                            // 673\n\t\t\t\tif (_dragElement) {                                                                                            // 674\n\t\t\t\t\tcurrentView.dragStop(_dragElement, ev, ui);                                                                   // 675\n\t\t\t\t\t_dragElement = null;                                                                                          // 676\n\t\t\t\t}                                                                                                              // 677\n\t\t\t});                                                                                                             // 678\n\t}                                                                                                                 // 679\n\t                                                                                                                  // 680\n                                                                                                                   // 681\n}                                                                                                                  // 682\n                                                                                                                   // 683\n;;                                                                                                                 // 684\n                                                                                                                   // 685\nfunction Header(calendar, options) {                                                                               // 686\n\tvar t = this;                                                                                                     // 687\n\t                                                                                                                  // 688\n\t                                                                                                                  // 689\n\t// exports                                                                                                        // 690\n\tt.render = render;                                                                                                // 691\n\tt.destroy = destroy;                                                                                              // 692\n\tt.updateTitle = updateTitle;                                                                                      // 693\n\tt.activateButton = activateButton;                                                                                // 694\n\tt.deactivateButton = deactivateButton;                                                                            // 695\n\tt.disableButton = disableButton;                                                                                  // 696\n\tt.enableButton = enableButton;                                                                                    // 697\n\t                                                                                                                  // 698\n\t                                                                                                                  // 699\n\t// locals                                                                                                         // 700\n\tvar element = $([]);                                                                                              // 701\n\tvar tm;                                                                                                           // 702\n\t                                                                                                                  // 703\n                                                                                                                   // 704\n                                                                                                                   // 705\n\tfunction render() {                                                                                               // 706\n\t\ttm = options.theme ? 'ui' : 'fc';                                                                                // 707\n\t\tvar sections = options.header;                                                                                   // 708\n\t\tif (sections) {                                                                                                  // 709\n\t\t\telement = $(\"<table class='fc-header' style='width:100%'/>\")                                                    // 710\n\t\t\t\t.append(                                                                                                       // 711\n\t\t\t\t\t$(\"<tr/>\")                                                                                                    // 712\n\t\t\t\t\t\t.append(renderSection('left'))                                                                               // 713\n\t\t\t\t\t\t.append(renderSection('center'))                                                                             // 714\n\t\t\t\t\t\t.append(renderSection('right'))                                                                              // 715\n\t\t\t\t);                                                                                                             // 716\n\t\t\treturn element;                                                                                                 // 717\n\t\t}                                                                                                                // 718\n\t}                                                                                                                 // 719\n\t                                                                                                                  // 720\n\t                                                                                                                  // 721\n\tfunction destroy() {                                                                                              // 722\n\t\telement.remove();                                                                                                // 723\n\t}                                                                                                                 // 724\n\t                                                                                                                  // 725\n\t                                                                                                                  // 726\n\tfunction renderSection(position) {                                                                                // 727\n\t\tvar e = $(\"<td class='fc-header-\" + position + \"'/>\");                                                           // 728\n\t\tvar buttonStr = options.header[position];                                                                        // 729\n\t\tif (buttonStr) {                                                                                                 // 730\n\t\t\t$.each(buttonStr.split(' '), function(i) {                                                                      // 731\n\t\t\t\tif (i > 0) {                                                                                                   // 732\n\t\t\t\t\te.append(\"<span class='fc-header-space'/>\");                                                                  // 733\n\t\t\t\t}                                                                                                              // 734\n\t\t\t\tvar prevButton;                                                                                                // 735\n\t\t\t\t$.each(this.split(','), function(j, buttonName) {                                                              // 736\n\t\t\t\t\tif (buttonName == 'title') {                                                                                  // 737\n\t\t\t\t\t\te.append(\"<span class='fc-header-title'><h2>&nbsp;</h2></span>\");                                            // 738\n\t\t\t\t\t\tif (prevButton) {                                                                                            // 739\n\t\t\t\t\t\t\tprevButton.addClass(tm + '-corner-right');                                                                  // 740\n\t\t\t\t\t\t}                                                                                                            // 741\n\t\t\t\t\t\tprevButton = null;                                                                                           // 742\n\t\t\t\t\t}else{                                                                                                        // 743\n\t\t\t\t\t\tvar buttonClick;                                                                                             // 744\n\t\t\t\t\t\tif (calendar[buttonName]) {                                                                                  // 745\n\t\t\t\t\t\t\tbuttonClick = calendar[buttonName]; // calendar method                                                      // 746\n\t\t\t\t\t\t}                                                                                                            // 747\n\t\t\t\t\t\telse if (fcViews[buttonName]) {                                                                              // 748\n\t\t\t\t\t\t\tbuttonClick = function() {                                                                                  // 749\n\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-hover'); // forget why                                                     // 750\n\t\t\t\t\t\t\t\tcalendar.changeView(buttonName);                                                                           // 751\n\t\t\t\t\t\t\t};                                                                                                          // 752\n\t\t\t\t\t\t}                                                                                                            // 753\n\t\t\t\t\t\tif (buttonClick) {                                                                                           // 754\n\t\t\t\t\t\t\tvar icon = options.theme ? smartProperty(options.buttonIcons, buttonName) : null; // why are we using smartProperty here?\n\t\t\t\t\t\t\tvar text = smartProperty(options.buttonText, buttonName); // why are we using smartProperty here?           // 756\n\t\t\t\t\t\t\tvar button = $(                                                                                             // 757\n\t\t\t\t\t\t\t\t\"<span class='fc-button fc-button-\" + buttonName + \" \" + tm + \"-state-default'>\" +                         // 758\n\t\t\t\t\t\t\t\t\t(icon ?                                                                                                   // 759\n\t\t\t\t\t\t\t\t\t\t\"<span class='fc-icon-wrap'>\" +                                                                          // 760\n\t\t\t\t\t\t\t\t\t\t\t\"<span class='ui-icon ui-icon-\" + icon + \"'/>\" +                                                        // 761\n\t\t\t\t\t\t\t\t\t\t\"</span>\" :                                                                                              // 762\n\t\t\t\t\t\t\t\t\t\ttext                                                                                                     // 763\n\t\t\t\t\t\t\t\t\t\t) +                                                                                                      // 764\n\t\t\t\t\t\t\t\t\"</span>\"                                                                                                  // 765\n\t\t\t\t\t\t\t\t)                                                                                                          // 766\n\t\t\t\t\t\t\t\t.click(function() {                                                                                        // 767\n\t\t\t\t\t\t\t\t\tif (!button.hasClass(tm + '-state-disabled')) {                                                           // 768\n\t\t\t\t\t\t\t\t\t\tbuttonClick();                                                                                           // 769\n\t\t\t\t\t\t\t\t\t}                                                                                                         // 770\n\t\t\t\t\t\t\t\t})                                                                                                         // 771\n\t\t\t\t\t\t\t\t.mousedown(function() {                                                                                    // 772\n\t\t\t\t\t\t\t\t\tbutton                                                                                                    // 773\n\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')                                                                         // 774\n\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')                                                                       // 775\n\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-down');                                                                           // 776\n\t\t\t\t\t\t\t\t})                                                                                                         // 777\n\t\t\t\t\t\t\t\t.mouseup(function() {                                                                                      // 778\n\t\t\t\t\t\t\t\t\tbutton.removeClass(tm + '-state-down');                                                                   // 779\n\t\t\t\t\t\t\t\t})                                                                                                         // 780\n\t\t\t\t\t\t\t\t.hover(                                                                                                    // 781\n\t\t\t\t\t\t\t\t\tfunction() {                                                                                              // 782\n\t\t\t\t\t\t\t\t\t\tbutton                                                                                                   // 783\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-active')                                                                        // 784\n\t\t\t\t\t\t\t\t\t\t\t.not('.' + tm + '-state-disabled')                                                                      // 785\n\t\t\t\t\t\t\t\t\t\t\t.addClass(tm + '-state-hover');                                                                         // 786\n\t\t\t\t\t\t\t\t\t},                                                                                                        // 787\n\t\t\t\t\t\t\t\t\tfunction() {                                                                                              // 788\n\t\t\t\t\t\t\t\t\t\tbutton                                                                                                   // 789\n\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-hover')                                                                       // 790\n\t\t\t\t\t\t\t\t\t\t\t.removeClass(tm + '-state-down');                                                                       // 791\n\t\t\t\t\t\t\t\t\t}                                                                                                         // 792\n\t\t\t\t\t\t\t\t)                                                                                                          // 793\n\t\t\t\t\t\t\t\t.appendTo(e);                                                                                              // 794\n\t\t\t\t\t\t\tdisableTextSelection(button);                                                                               // 795\n\t\t\t\t\t\t\tif (!prevButton) {                                                                                          // 796\n\t\t\t\t\t\t\t\tbutton.addClass(tm + '-corner-left');                                                                      // 797\n\t\t\t\t\t\t\t}                                                                                                           // 798\n\t\t\t\t\t\t\tprevButton = button;                                                                                        // 799\n\t\t\t\t\t\t}                                                                                                            // 800\n\t\t\t\t\t}                                                                                                             // 801\n\t\t\t\t});                                                                                                            // 802\n\t\t\t\tif (prevButton) {                                                                                              // 803\n\t\t\t\t\tprevButton.addClass(tm + '-corner-right');                                                                    // 804\n\t\t\t\t}                                                                                                              // 805\n\t\t\t});                                                                                                             // 806\n\t\t}                                                                                                                // 807\n\t\treturn e;                                                                                                        // 808\n\t}                                                                                                                 // 809\n\t                                                                                                                  // 810\n\t                                                                                                                  // 811\n\tfunction updateTitle(html) {                                                                                      // 812\n\t\telement.find('h2')                                                                                               // 813\n\t\t\t.html(html);                                                                                                    // 814\n\t}                                                                                                                 // 815\n\t                                                                                                                  // 816\n\t                                                                                                                  // 817\n\tfunction activateButton(buttonName) {                                                                             // 818\n\t\telement.find('span.fc-button-' + buttonName)                                                                     // 819\n\t\t\t.addClass(tm + '-state-active');                                                                                // 820\n\t}                                                                                                                 // 821\n\t                                                                                                                  // 822\n\t                                                                                                                  // 823\n\tfunction deactivateButton(buttonName) {                                                                           // 824\n\t\telement.find('span.fc-button-' + buttonName)                                                                     // 825\n\t\t\t.removeClass(tm + '-state-active');                                                                             // 826\n\t}                                                                                                                 // 827\n\t                                                                                                                  // 828\n\t                                                                                                                  // 829\n\tfunction disableButton(buttonName) {                                                                              // 830\n\t\telement.find('span.fc-button-' + buttonName)                                                                     // 831\n\t\t\t.addClass(tm + '-state-disabled');                                                                              // 832\n\t}                                                                                                                 // 833\n\t                                                                                                                  // 834\n\t                                                                                                                  // 835\n\tfunction enableButton(buttonName) {                                                                               // 836\n\t\telement.find('span.fc-button-' + buttonName)                                                                     // 837\n\t\t\t.removeClass(tm + '-state-disabled');                                                                           // 838\n\t}                                                                                                                 // 839\n                                                                                                                   // 840\n                                                                                                                   // 841\n}                                                                                                                  // 842\n                                                                                                                   // 843\n;;                                                                                                                 // 844\n                                                                                                                   // 845\nfc.sourceNormalizers = [];                                                                                         // 846\nfc.sourceFetchers = [];                                                                                            // 847\n                                                                                                                   // 848\nvar ajaxDefaults = {                                                                                               // 849\n\tdataType: 'json',                                                                                                 // 850\n\tcache: false                                                                                                      // 851\n};                                                                                                                 // 852\n                                                                                                                   // 853\nvar eventGUID = 1;                                                                                                 // 854\n                                                                                                                   // 855\n                                                                                                                   // 856\nfunction EventManager(options, _sources) {                                                                         // 857\n\tvar t = this;                                                                                                     // 858\n\t                                                                                                                  // 859\n\t                                                                                                                  // 860\n\t// exports                                                                                                        // 861\n\tt.isFetchNeeded = isFetchNeeded;                                                                                  // 862\n\tt.fetchEvents = fetchEvents;                                                                                      // 863\n\tt.addEventSource = addEventSource;                                                                                // 864\n\tt.removeEventSource = removeEventSource;                                                                          // 865\n\tt.updateEvent = updateEvent;                                                                                      // 866\n\tt.renderEvent = renderEvent;                                                                                      // 867\n\tt.removeEvents = removeEvents;                                                                                    // 868\n\tt.clientEvents = clientEvents;                                                                                    // 869\n\tt.normalizeEvent = normalizeEvent;                                                                                // 870\n\t                                                                                                                  // 871\n\t                                                                                                                  // 872\n\t// imports                                                                                                        // 873\n\tvar trigger = t.trigger;                                                                                          // 874\n\tvar getView = t.getView;                                                                                          // 875\n\tvar reportEvents = t.reportEvents;                                                                                // 876\n\t                                                                                                                  // 877\n\t                                                                                                                  // 878\n\t// locals                                                                                                         // 879\n\tvar stickySource = { events: [] };                                                                                // 880\n\tvar sources = [ stickySource ];                                                                                   // 881\n\tvar rangeStart, rangeEnd;                                                                                         // 882\n\tvar currentFetchID = 0;                                                                                           // 883\n\tvar pendingSourceCnt = 0;                                                                                         // 884\n\tvar loadingLevel = 0;                                                                                             // 885\n\tvar cache = [];                                                                                                   // 886\n\t                                                                                                                  // 887\n\t                                                                                                                  // 888\n\tfor (var i=0; i<_sources.length; i++) {                                                                           // 889\n\t\t_addEventSource(_sources[i]);                                                                                    // 890\n\t}                                                                                                                 // 891\n\t                                                                                                                  // 892\n\t                                                                                                                  // 893\n\t                                                                                                                  // 894\n\t/* Fetching                                                                                                       // 895\n\t-----------------------------------------------------------------------------*/                                   // 896\n\t                                                                                                                  // 897\n\t                                                                                                                  // 898\n\tfunction isFetchNeeded(start, end) {                                                                              // 899\n\t\treturn !rangeStart || start < rangeStart || end > rangeEnd;                                                      // 900\n\t}                                                                                                                 // 901\n\t                                                                                                                  // 902\n\t                                                                                                                  // 903\n\tfunction fetchEvents(start, end) {                                                                                // 904\n\t\trangeStart = start;                                                                                              // 905\n\t\trangeEnd = end;                                                                                                  // 906\n\t\tcache = [];                                                                                                      // 907\n\t\tvar fetchID = ++currentFetchID;                                                                                  // 908\n\t\tvar len = sources.length;                                                                                        // 909\n\t\tpendingSourceCnt = len;                                                                                          // 910\n\t\tfor (var i=0; i<len; i++) {                                                                                      // 911\n\t\t\tfetchEventSource(sources[i], fetchID);                                                                          // 912\n\t\t}                                                                                                                // 913\n\t}                                                                                                                 // 914\n\t                                                                                                                  // 915\n\t                                                                                                                  // 916\n\tfunction fetchEventSource(source, fetchID) {                                                                      // 917\n\t\t_fetchEventSource(source, function(events) {                                                                     // 918\n\t\t\tif (fetchID == currentFetchID) {                                                                                // 919\n\t\t\t\tif (events) {                                                                                                  // 920\n                                                                                                                   // 921\n\t\t\t\t\tif (options.eventDataTransform) {                                                                             // 922\n\t\t\t\t\t\tevents = $.map(events, options.eventDataTransform);                                                          // 923\n\t\t\t\t\t}                                                                                                             // 924\n\t\t\t\t\tif (source.eventDataTransform) {                                                                              // 925\n\t\t\t\t\t\tevents = $.map(events, source.eventDataTransform);                                                           // 926\n\t\t\t\t\t}                                                                                                             // 927\n\t\t\t\t\t// TODO: this technique is not ideal for static array event sources.                                          // 928\n\t\t\t\t\t//  For arrays, we'll want to process all events right in the beginning, then never again.                    // 929\n\t\t\t\t                                                                                                               // 930\n\t\t\t\t\tfor (var i=0; i<events.length; i++) {                                                                         // 931\n\t\t\t\t\t\tevents[i].source = source;                                                                                   // 932\n\t\t\t\t\t\tnormalizeEvent(events[i]);                                                                                   // 933\n\t\t\t\t\t}                                                                                                             // 934\n\t\t\t\t\tcache = cache.concat(events);                                                                                 // 935\n\t\t\t\t}                                                                                                              // 936\n\t\t\t\tpendingSourceCnt--;                                                                                            // 937\n\t\t\t\tif (!pendingSourceCnt) {                                                                                       // 938\n\t\t\t\t\treportEvents(cache);                                                                                          // 939\n\t\t\t\t}                                                                                                              // 940\n\t\t\t}                                                                                                               // 941\n\t\t});                                                                                                              // 942\n\t}                                                                                                                 // 943\n\t                                                                                                                  // 944\n\t                                                                                                                  // 945\n\tfunction _fetchEventSource(source, callback) {                                                                    // 946\n\t\tvar i;                                                                                                           // 947\n\t\tvar fetchers = fc.sourceFetchers;                                                                                // 948\n\t\tvar res;                                                                                                         // 949\n\t\tfor (i=0; i<fetchers.length; i++) {                                                                              // 950\n\t\t\tres = fetchers[i](source, rangeStart, rangeEnd, callback);                                                      // 951\n\t\t\tif (res === true) {                                                                                             // 952\n\t\t\t\t// the fetcher is in charge. made its own async request                                                        // 953\n\t\t\t\treturn;                                                                                                        // 954\n\t\t\t}                                                                                                               // 955\n\t\t\telse if (typeof res == 'object') {                                                                              // 956\n\t\t\t\t// the fetcher returned a new source. process it                                                               // 957\n\t\t\t\t_fetchEventSource(res, callback);                                                                              // 958\n\t\t\t\treturn;                                                                                                        // 959\n\t\t\t}                                                                                                               // 960\n\t\t}                                                                                                                // 961\n\t\tvar events = source.events;                                                                                      // 962\n\t\tif (events) {                                                                                                    // 963\n\t\t\tif ($.isFunction(events)) {                                                                                     // 964\n\t\t\t\tpushLoading();                                                                                                 // 965\n\t\t\t\tevents(cloneDate(rangeStart), cloneDate(rangeEnd), function(events) {                                          // 966\n\t\t\t\t\tcallback(events);                                                                                             // 967\n\t\t\t\t\tpopLoading();                                                                                                 // 968\n\t\t\t\t});                                                                                                            // 969\n\t\t\t}                                                                                                               // 970\n\t\t\telse if ($.isArray(events)) {                                                                                   // 971\n\t\t\t\tcallback(events);                                                                                              // 972\n\t\t\t}                                                                                                               // 973\n\t\t\telse {                                                                                                          // 974\n\t\t\t\tcallback();                                                                                                    // 975\n\t\t\t}                                                                                                               // 976\n\t\t}else{                                                                                                           // 977\n\t\t\tvar url = source.url;                                                                                           // 978\n\t\t\tif (url) {                                                                                                      // 979\n\t\t\t\tvar success = source.success;                                                                                  // 980\n\t\t\t\tvar error = source.error;                                                                                      // 981\n\t\t\t\tvar complete = source.complete;                                                                                // 982\n\t\t\t\tvar data = $.extend({}, source.data || {});                                                                    // 983\n\t\t\t\tvar startParam = firstDefined(source.startParam, options.startParam);                                          // 984\n\t\t\t\tvar endParam = firstDefined(source.endParam, options.endParam);                                                // 985\n\t\t\t\tif (startParam) {                                                                                              // 986\n\t\t\t\t\tdata[startParam] = Math.round(+rangeStart / 1000);                                                            // 987\n\t\t\t\t}                                                                                                              // 988\n\t\t\t\tif (endParam) {                                                                                                // 989\n\t\t\t\t\tdata[endParam] = Math.round(+rangeEnd / 1000);                                                                // 990\n\t\t\t\t}                                                                                                              // 991\n\t\t\t\tpushLoading();                                                                                                 // 992\n\t\t\t\t$.ajax($.extend({}, ajaxDefaults, source, {                                                                    // 993\n\t\t\t\t\tdata: data,                                                                                                   // 994\n\t\t\t\t\tsuccess: function(events) {                                                                                   // 995\n\t\t\t\t\t\tevents = events || [];                                                                                       // 996\n\t\t\t\t\t\tvar res = applyAll(success, this, arguments);                                                                // 997\n\t\t\t\t\t\tif ($.isArray(res)) {                                                                                        // 998\n\t\t\t\t\t\t\tevents = res;                                                                                               // 999\n\t\t\t\t\t\t}                                                                                                            // 1000\n\t\t\t\t\t\tcallback(events);                                                                                            // 1001\n\t\t\t\t\t},                                                                                                            // 1002\n\t\t\t\t\terror: function() {                                                                                           // 1003\n\t\t\t\t\t\tapplyAll(error, this, arguments);                                                                            // 1004\n\t\t\t\t\t\tcallback();                                                                                                  // 1005\n\t\t\t\t\t},                                                                                                            // 1006\n\t\t\t\t\tcomplete: function() {                                                                                        // 1007\n\t\t\t\t\t\tapplyAll(complete, this, arguments);                                                                         // 1008\n\t\t\t\t\t\tpopLoading();                                                                                                // 1009\n\t\t\t\t\t}                                                                                                             // 1010\n\t\t\t\t}));                                                                                                           // 1011\n\t\t\t}else{                                                                                                          // 1012\n\t\t\t\tcallback();                                                                                                    // 1013\n\t\t\t}                                                                                                               // 1014\n\t\t}                                                                                                                // 1015\n\t}                                                                                                                 // 1016\n\t                                                                                                                  // 1017\n\t                                                                                                                  // 1018\n\t                                                                                                                  // 1019\n\t/* Sources                                                                                                        // 1020\n\t-----------------------------------------------------------------------------*/                                   // 1021\n\t                                                                                                                  // 1022\n                                                                                                                   // 1023\n\tfunction addEventSource(source) {                                                                                 // 1024\n\t\tsource = _addEventSource(source);                                                                                // 1025\n\t\tif (source) {                                                                                                    // 1026\n\t\t\tpendingSourceCnt++;                                                                                             // 1027\n\t\t\tfetchEventSource(source, currentFetchID); // will eventually call reportEvents                                  // 1028\n\t\t}                                                                                                                // 1029\n\t}                                                                                                                 // 1030\n\t                                                                                                                  // 1031\n\t                                                                                                                  // 1032\n\tfunction _addEventSource(source) {                                                                                // 1033\n\t\tif ($.isFunction(source) || $.isArray(source)) {                                                                 // 1034\n\t\t\tsource = { events: source };                                                                                    // 1035\n\t\t}                                                                                                                // 1036\n\t\telse if (typeof source == 'string') {                                                                            // 1037\n\t\t\tsource = { url: source };                                                                                       // 1038\n\t\t}                                                                                                                // 1039\n\t\tif (typeof source == 'object') {                                                                                 // 1040\n\t\t\tnormalizeSource(source);                                                                                        // 1041\n\t\t\tsources.push(source);                                                                                           // 1042\n\t\t\treturn source;                                                                                                  // 1043\n\t\t}                                                                                                                // 1044\n\t}                                                                                                                 // 1045\n\t                                                                                                                  // 1046\n                                                                                                                   // 1047\n\tfunction removeEventSource(source) {                                                                              // 1048\n\t\tsources = $.grep(sources, function(src) {                                                                        // 1049\n\t\t\treturn !isSourcesEqual(src, source);                                                                            // 1050\n\t\t});                                                                                                              // 1051\n\t\t// remove all client events from that source                                                                     // 1052\n\t\tcache = $.grep(cache, function(e) {                                                                              // 1053\n\t\t\treturn !isSourcesEqual(e.source, source);                                                                       // 1054\n\t\t});                                                                                                              // 1055\n\t\treportEvents(cache);                                                                                             // 1056\n\t}                                                                                                                 // 1057\n\t                                                                                                                  // 1058\n\t                                                                                                                  // 1059\n\t                                                                                                                  // 1060\n\t/* Manipulation                                                                                                   // 1061\n\t-----------------------------------------------------------------------------*/                                   // 1062\n\t                                                                                                                  // 1063\n\t                                                                                                                  // 1064\n\tfunction updateEvent(event) { // update an existing event                                                         // 1065\n\t\tvar i, len = cache.length, e,                                                                                    // 1066\n\t\t\tdefaultEventEnd = getView().defaultEventEnd, // getView???                                                      // 1067\n\t\t\tstartDelta = event.start - event._start,                                                                        // 1068\n\t\t\tendDelta = event.end ?                                                                                          // 1069\n\t\t\t\t(event.end - (event._end || defaultEventEnd(event))) // event._end would be null if event.end                  // 1070\n\t\t\t\t: 0;                                                      // was null and event was just resized               // 1071\n\t\tfor (i=0; i<len; i++) {                                                                                          // 1072\n\t\t\te = cache[i];                                                                                                   // 1073\n\t\t\tif (e._id == event._id && e != event) {                                                                         // 1074\n\t\t\t\te.start = new Date(+e.start + startDelta);                                                                     // 1075\n\t\t\t\tif (event.end) {                                                                                               // 1076\n\t\t\t\t\tif (e.end) {                                                                                                  // 1077\n\t\t\t\t\t\te.end = new Date(+e.end + endDelta);                                                                         // 1078\n\t\t\t\t\t}else{                                                                                                        // 1079\n\t\t\t\t\t\te.end = new Date(+defaultEventEnd(e) + endDelta);                                                            // 1080\n\t\t\t\t\t}                                                                                                             // 1081\n\t\t\t\t}else{                                                                                                         // 1082\n\t\t\t\t\te.end = null;                                                                                                 // 1083\n\t\t\t\t}                                                                                                              // 1084\n\t\t\t\te.title = event.title;                                                                                         // 1085\n\t\t\t\te.url = event.url;                                                                                             // 1086\n\t\t\t\te.allDay = event.allDay;                                                                                       // 1087\n\t\t\t\te.className = event.className;                                                                                 // 1088\n\t\t\t\te.editable = event.editable;                                                                                   // 1089\n\t\t\t\te.color = event.color;                                                                                         // 1090\n\t\t\t\te.backgroudColor = event.backgroudColor;                                                                       // 1091\n\t\t\t\te.borderColor = event.borderColor;                                                                             // 1092\n\t\t\t\te.textColor = event.textColor;                                                                                 // 1093\n\t\t\t\tnormalizeEvent(e);                                                                                             // 1094\n\t\t\t}                                                                                                               // 1095\n\t\t}                                                                                                                // 1096\n\t\tnormalizeEvent(event);                                                                                           // 1097\n\t\treportEvents(cache);                                                                                             // 1098\n\t}                                                                                                                 // 1099\n\t                                                                                                                  // 1100\n\t                                                                                                                  // 1101\n\tfunction renderEvent(event, stick) {                                                                              // 1102\n\t\tnormalizeEvent(event);                                                                                           // 1103\n\t\tif (!event.source) {                                                                                             // 1104\n\t\t\tif (stick) {                                                                                                    // 1105\n\t\t\t\tstickySource.events.push(event);                                                                               // 1106\n\t\t\t\tevent.source = stickySource;                                                                                   // 1107\n\t\t\t}                                                                                                               // 1108\n\t\t\tcache.push(event);                                                                                              // 1109\n\t\t}                                                                                                                // 1110\n\t\treportEvents(cache);                                                                                             // 1111\n\t}                                                                                                                 // 1112\n\t                                                                                                                  // 1113\n\t                                                                                                                  // 1114\n\tfunction removeEvents(filter) {                                                                                   // 1115\n\t\tif (!filter) { // remove all                                                                                     // 1116\n\t\t\tcache = [];                                                                                                     // 1117\n\t\t\t// clear all array sources                                                                                      // 1118\n\t\t\tfor (var i=0; i<sources.length; i++) {                                                                          // 1119\n\t\t\t\tif ($.isArray(sources[i].events)) {                                                                            // 1120\n\t\t\t\t\tsources[i].events = [];                                                                                       // 1121\n\t\t\t\t}                                                                                                              // 1122\n\t\t\t}                                                                                                               // 1123\n\t\t}else{                                                                                                           // 1124\n\t\t\tif (!$.isFunction(filter)) { // an event ID                                                                     // 1125\n\t\t\t\tvar id = filter + '';                                                                                          // 1126\n\t\t\t\tfilter = function(e) {                                                                                         // 1127\n\t\t\t\t\treturn e._id == id;                                                                                           // 1128\n\t\t\t\t};                                                                                                             // 1129\n\t\t\t}                                                                                                               // 1130\n\t\t\tcache = $.grep(cache, filter, true);                                                                            // 1131\n\t\t\t// remove events from array sources                                                                             // 1132\n\t\t\tfor (var i=0; i<sources.length; i++) {                                                                          // 1133\n\t\t\t\tif ($.isArray(sources[i].events)) {                                                                            // 1134\n\t\t\t\t\tsources[i].events = $.grep(sources[i].events, filter, true);                                                  // 1135\n\t\t\t\t}                                                                                                              // 1136\n\t\t\t}                                                                                                               // 1137\n\t\t}                                                                                                                // 1138\n\t\treportEvents(cache);                                                                                             // 1139\n\t}                                                                                                                 // 1140\n\t                                                                                                                  // 1141\n\t                                                                                                                  // 1142\n\tfunction clientEvents(filter) {                                                                                   // 1143\n\t\tif ($.isFunction(filter)) {                                                                                      // 1144\n\t\t\treturn $.grep(cache, filter);                                                                                   // 1145\n\t\t}                                                                                                                // 1146\n\t\telse if (filter) { // an event ID                                                                                // 1147\n\t\t\tfilter += '';                                                                                                   // 1148\n\t\t\treturn $.grep(cache, function(e) {                                                                              // 1149\n\t\t\t\treturn e._id == filter;                                                                                        // 1150\n\t\t\t});                                                                                                             // 1151\n\t\t}                                                                                                                // 1152\n\t\treturn cache; // else, return all                                                                                // 1153\n\t}                                                                                                                 // 1154\n\t                                                                                                                  // 1155\n\t                                                                                                                  // 1156\n\t                                                                                                                  // 1157\n\t/* Loading State                                                                                                  // 1158\n\t-----------------------------------------------------------------------------*/                                   // 1159\n\t                                                                                                                  // 1160\n\t                                                                                                                  // 1161\n\tfunction pushLoading() {                                                                                          // 1162\n\t\tif (!loadingLevel++) {                                                                                           // 1163\n\t\t\ttrigger('loading', null, true);                                                                                 // 1164\n\t\t}                                                                                                                // 1165\n\t}                                                                                                                 // 1166\n\t                                                                                                                  // 1167\n\t                                                                                                                  // 1168\n\tfunction popLoading() {                                                                                           // 1169\n\t\tif (!--loadingLevel) {                                                                                           // 1170\n\t\t\ttrigger('loading', null, false);                                                                                // 1171\n\t\t}                                                                                                                // 1172\n\t}                                                                                                                 // 1173\n\t                                                                                                                  // 1174\n\t                                                                                                                  // 1175\n\t                                                                                                                  // 1176\n\t/* Event Normalization                                                                                            // 1177\n\t-----------------------------------------------------------------------------*/                                   // 1178\n\t                                                                                                                  // 1179\n\t                                                                                                                  // 1180\n\tfunction normalizeEvent(event) {                                                                                  // 1181\n\t\tvar source = event.source || {};                                                                                 // 1182\n\t\tvar ignoreTimezone = firstDefined(source.ignoreTimezone, options.ignoreTimezone);                                // 1183\n\t\tevent._id = event._id || (event.id === undefined ? '_fc' + eventGUID++ : event.id + '');                         // 1184\n\t\tif (event.date) {                                                                                                // 1185\n\t\t\tif (!event.start) {                                                                                             // 1186\n\t\t\t\tevent.start = event.date;                                                                                      // 1187\n\t\t\t}                                                                                                               // 1188\n\t\t\tdelete event.date;                                                                                              // 1189\n\t\t}                                                                                                                // 1190\n\t\tevent._start = cloneDate(event.start = parseDate(event.start, ignoreTimezone));                                  // 1191\n\t\tevent.end = parseDate(event.end, ignoreTimezone);                                                                // 1192\n\t\tif (event.end && event.end <= event.start) {                                                                     // 1193\n\t\t\tevent.end = null;                                                                                               // 1194\n\t\t}                                                                                                                // 1195\n\t\tevent._end = event.end ? cloneDate(event.end) : null;                                                            // 1196\n\t\tif (event.allDay === undefined) {                                                                                // 1197\n\t\t\tevent.allDay = firstDefined(source.allDayDefault, options.allDayDefault);                                       // 1198\n\t\t}                                                                                                                // 1199\n\t\tif (event.className) {                                                                                           // 1200\n\t\t\tif (typeof event.className == 'string') {                                                                       // 1201\n\t\t\t\tevent.className = event.className.split(/\\s+/);                                                                // 1202\n\t\t\t}                                                                                                               // 1203\n\t\t}else{                                                                                                           // 1204\n\t\t\tevent.className = [];                                                                                           // 1205\n\t\t}                                                                                                                // 1206\n\t\t// TODO: if there is no start date, return false to indicate an invalid event                                    // 1207\n\t}                                                                                                                 // 1208\n\t                                                                                                                  // 1209\n\t                                                                                                                  // 1210\n\t                                                                                                                  // 1211\n\t/* Utils                                                                                                          // 1212\n\t------------------------------------------------------------------------------*/                                  // 1213\n\t                                                                                                                  // 1214\n\t                                                                                                                  // 1215\n\tfunction normalizeSource(source) {                                                                                // 1216\n\t\tif (source.className) {                                                                                          // 1217\n\t\t\t// TODO: repeat code, same code for event classNames                                                            // 1218\n\t\t\tif (typeof source.className == 'string') {                                                                      // 1219\n\t\t\t\tsource.className = source.className.split(/\\s+/);                                                              // 1220\n\t\t\t}                                                                                                               // 1221\n\t\t}else{                                                                                                           // 1222\n\t\t\tsource.className = [];                                                                                          // 1223\n\t\t}                                                                                                                // 1224\n\t\tvar normalizers = fc.sourceNormalizers;                                                                          // 1225\n\t\tfor (var i=0; i<normalizers.length; i++) {                                                                       // 1226\n\t\t\tnormalizers[i](source);                                                                                         // 1227\n\t\t}                                                                                                                // 1228\n\t}                                                                                                                 // 1229\n\t                                                                                                                  // 1230\n\t                                                                                                                  // 1231\n\tfunction isSourcesEqual(source1, source2) {                                                                       // 1232\n\t\treturn source1 && source2 && getSourcePrimitive(source1) == getSourcePrimitive(source2);                         // 1233\n\t}                                                                                                                 // 1234\n\t                                                                                                                  // 1235\n\t                                                                                                                  // 1236\n\tfunction getSourcePrimitive(source) {                                                                             // 1237\n\t\treturn ((typeof source == 'object') ? (source.events || source.url) : '') || source;                             // 1238\n\t}                                                                                                                 // 1239\n                                                                                                                   // 1240\n                                                                                                                   // 1241\n}                                                                                                                  // 1242\n                                                                                                                   // 1243\n;;                                                                                                                 // 1244\n                                                                                                                   // 1245\n                                                                                                                   // 1246\nfc.addDays = addDays;                                                                                              // 1247\nfc.cloneDate = cloneDate;                                                                                          // 1248\nfc.parseDate = parseDate;                                                                                          // 1249\nfc.parseISO8601 = parseISO8601;                                                                                    // 1250\nfc.parseTime = parseTime;                                                                                          // 1251\nfc.formatDate = formatDate;                                                                                        // 1252\nfc.formatDates = formatDates;                                                                                      // 1253\n                                                                                                                   // 1254\n                                                                                                                   // 1255\n                                                                                                                   // 1256\n/* Date Math                                                                                                       // 1257\n-----------------------------------------------------------------------------*/                                    // 1258\n                                                                                                                   // 1259\nvar dayIDs = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'],                                                    // 1260\n\tDAY_MS = 86400000,                                                                                                // 1261\n\tHOUR_MS = 3600000,                                                                                                // 1262\n\tMINUTE_MS = 60000;                                                                                                // 1263\n\t                                                                                                                  // 1264\n                                                                                                                   // 1265\nfunction addYears(d, n, keepTime) {                                                                                // 1266\n\td.setFullYear(d.getFullYear() + n);                                                                               // 1267\n\tif (!keepTime) {                                                                                                  // 1268\n\t\tclearTime(d);                                                                                                    // 1269\n\t}                                                                                                                 // 1270\n\treturn d;                                                                                                         // 1271\n}                                                                                                                  // 1272\n                                                                                                                   // 1273\n                                                                                                                   // 1274\nfunction addMonths(d, n, keepTime) { // prevents day overflow/underflow                                            // 1275\n\tif (+d) { // prevent infinite looping on invalid dates                                                            // 1276\n\t\tvar m = d.getMonth() + n,                                                                                        // 1277\n\t\t\tcheck = cloneDate(d);                                                                                           // 1278\n\t\tcheck.setDate(1);                                                                                                // 1279\n\t\tcheck.setMonth(m);                                                                                               // 1280\n\t\td.setMonth(m);                                                                                                   // 1281\n\t\tif (!keepTime) {                                                                                                 // 1282\n\t\t\tclearTime(d);                                                                                                   // 1283\n\t\t}                                                                                                                // 1284\n\t\twhile (d.getMonth() != check.getMonth()) {                                                                       // 1285\n\t\t\td.setDate(d.getDate() + (d < check ? 1 : -1));                                                                  // 1286\n\t\t}                                                                                                                // 1287\n\t}                                                                                                                 // 1288\n\treturn d;                                                                                                         // 1289\n}                                                                                                                  // 1290\n                                                                                                                   // 1291\n                                                                                                                   // 1292\nfunction addDays(d, n, keepTime) { // deals with daylight savings                                                  // 1293\n\tif (+d) {                                                                                                         // 1294\n\t\tvar dd = d.getDate() + n,                                                                                        // 1295\n\t\t\tcheck = cloneDate(d);                                                                                           // 1296\n\t\tcheck.setHours(9); // set to middle of day                                                                       // 1297\n\t\tcheck.setDate(dd);                                                                                               // 1298\n\t\td.setDate(dd);                                                                                                   // 1299\n\t\tif (!keepTime) {                                                                                                 // 1300\n\t\t\tclearTime(d);                                                                                                   // 1301\n\t\t}                                                                                                                // 1302\n\t\tfixDate(d, check);                                                                                               // 1303\n\t}                                                                                                                 // 1304\n\treturn d;                                                                                                         // 1305\n}                                                                                                                  // 1306\n                                                                                                                   // 1307\n                                                                                                                   // 1308\nfunction fixDate(d, check) { // force d to be on check's YMD, for daylight savings purposes                        // 1309\n\tif (+d) { // prevent infinite looping on invalid dates                                                            // 1310\n\t\twhile (d.getDate() != check.getDate()) {                                                                         // 1311\n\t\t\td.setTime(+d + (d < check ? 1 : -1) * HOUR_MS);                                                                 // 1312\n\t\t}                                                                                                                // 1313\n\t}                                                                                                                 // 1314\n}                                                                                                                  // 1315\n                                                                                                                   // 1316\n                                                                                                                   // 1317\nfunction addMinutes(d, n) {                                                                                        // 1318\n\td.setMinutes(d.getMinutes() + n);                                                                                 // 1319\n\treturn d;                                                                                                         // 1320\n}                                                                                                                  // 1321\n                                                                                                                   // 1322\n                                                                                                                   // 1323\nfunction clearTime(d) {                                                                                            // 1324\n\td.setHours(0);                                                                                                    // 1325\n\td.setMinutes(0);                                                                                                  // 1326\n\td.setSeconds(0);                                                                                                  // 1327\n\td.setMilliseconds(0);                                                                                             // 1328\n\treturn d;                                                                                                         // 1329\n}                                                                                                                  // 1330\n                                                                                                                   // 1331\n                                                                                                                   // 1332\nfunction cloneDate(d, dontKeepTime) {                                                                              // 1333\n\tif (dontKeepTime) {                                                                                               // 1334\n\t\treturn clearTime(new Date(+d));                                                                                  // 1335\n\t}                                                                                                                 // 1336\n\treturn new Date(+d);                                                                                              // 1337\n}                                                                                                                  // 1338\n                                                                                                                   // 1339\n                                                                                                                   // 1340\nfunction zeroDate() { // returns a Date with time 00:00:00 and dateOfMonth=1                                       // 1341\n\tvar i=0, d;                                                                                                       // 1342\n\tdo {                                                                                                              // 1343\n\t\td = new Date(1970, i++, 1);                                                                                      // 1344\n\t} while (d.getHours()); // != 0                                                                                   // 1345\n\treturn d;                                                                                                         // 1346\n}                                                                                                                  // 1347\n                                                                                                                   // 1348\n                                                                                                                   // 1349\nfunction skipWeekend(date, inc, excl) {                                                                            // 1350\n\tinc = inc || 1;                                                                                                   // 1351\n\twhile (!date.getDay() || (excl && date.getDay()==1 || !excl && date.getDay()==6)) {                               // 1352\n\t\taddDays(date, inc);                                                                                              // 1353\n\t}                                                                                                                 // 1354\n\treturn date;                                                                                                      // 1355\n}                                                                                                                  // 1356\n                                                                                                                   // 1357\n                                                                                                                   // 1358\nfunction dayDiff(d1, d2) { // d1 - d2                                                                              // 1359\n\treturn Math.round((cloneDate(d1, true) - cloneDate(d2, true)) / DAY_MS);                                          // 1360\n}                                                                                                                  // 1361\n                                                                                                                   // 1362\n                                                                                                                   // 1363\nfunction setYMD(date, y, m, d) {                                                                                   // 1364\n\tif (y !== undefined && y != date.getFullYear()) {                                                                 // 1365\n\t\tdate.setDate(1);                                                                                                 // 1366\n\t\tdate.setMonth(0);                                                                                                // 1367\n\t\tdate.setFullYear(y);                                                                                             // 1368\n\t}                                                                                                                 // 1369\n\tif (m !== undefined && m != date.getMonth()) {                                                                    // 1370\n\t\tdate.setDate(1);                                                                                                 // 1371\n\t\tdate.setMonth(m);                                                                                                // 1372\n\t}                                                                                                                 // 1373\n\tif (d !== undefined) {                                                                                            // 1374\n\t\tdate.setDate(d);                                                                                                 // 1375\n\t}                                                                                                                 // 1376\n}                                                                                                                  // 1377\n                                                                                                                   // 1378\n                                                                                                                   // 1379\n                                                                                                                   // 1380\n/* Date Parsing                                                                                                    // 1381\n-----------------------------------------------------------------------------*/                                    // 1382\n                                                                                                                   // 1383\n                                                                                                                   // 1384\nfunction parseDate(s, ignoreTimezone) { // ignoreTimezone defaults to true                                         // 1385\n\tif (typeof s == 'object') { // already a Date object                                                              // 1386\n\t\treturn s;                                                                                                        // 1387\n\t}                                                                                                                 // 1388\n\tif (typeof s == 'number') { // a UNIX timestamp                                                                   // 1389\n\t\treturn new Date(s * 1000);                                                                                       // 1390\n\t}                                                                                                                 // 1391\n\tif (typeof s == 'string') {                                                                                       // 1392\n\t\tif (s.match(/^\\d+(\\.\\d+)?$/)) { // a UNIX timestamp                                                              // 1393\n\t\t\treturn new Date(parseFloat(s) * 1000);                                                                          // 1394\n\t\t}                                                                                                                // 1395\n\t\tif (ignoreTimezone === undefined) {                                                                              // 1396\n\t\t\tignoreTimezone = true;                                                                                          // 1397\n\t\t}                                                                                                                // 1398\n\t\treturn parseISO8601(s, ignoreTimezone) || (s ? new Date(s) : null);                                              // 1399\n\t}                                                                                                                 // 1400\n\t// TODO: never return invalid dates (like from new Date(<string>)), return null instead                           // 1401\n\treturn null;                                                                                                      // 1402\n}                                                                                                                  // 1403\n                                                                                                                   // 1404\n                                                                                                                   // 1405\nfunction parseISO8601(s, ignoreTimezone) { // ignoreTimezone defaults to false                                     // 1406\n\t// derived from http://delete.me.uk/2005/03/iso8601.html                                                          // 1407\n\t// TODO: for a know glitch/feature, read tests/issue_206_parseDate_dst.html                                       // 1408\n\tvar m = s.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);\n\tif (!m) {                                                                                                         // 1410\n\t\treturn null;                                                                                                     // 1411\n\t}                                                                                                                 // 1412\n\tvar date = new Date(m[1], 0, 1);                                                                                  // 1413\n\tif (ignoreTimezone || !m[13]) {                                                                                   // 1414\n\t\tvar check = new Date(m[1], 0, 1, 9, 0);                                                                          // 1415\n\t\tif (m[3]) {                                                                                                      // 1416\n\t\t\tdate.setMonth(m[3] - 1);                                                                                        // 1417\n\t\t\tcheck.setMonth(m[3] - 1);                                                                                       // 1418\n\t\t}                                                                                                                // 1419\n\t\tif (m[5]) {                                                                                                      // 1420\n\t\t\tdate.setDate(m[5]);                                                                                             // 1421\n\t\t\tcheck.setDate(m[5]);                                                                                            // 1422\n\t\t}                                                                                                                // 1423\n\t\tfixDate(date, check);                                                                                            // 1424\n\t\tif (m[7]) {                                                                                                      // 1425\n\t\t\tdate.setHours(m[7]);                                                                                            // 1426\n\t\t}                                                                                                                // 1427\n\t\tif (m[8]) {                                                                                                      // 1428\n\t\t\tdate.setMinutes(m[8]);                                                                                          // 1429\n\t\t}                                                                                                                // 1430\n\t\tif (m[10]) {                                                                                                     // 1431\n\t\t\tdate.setSeconds(m[10]);                                                                                         // 1432\n\t\t}                                                                                                                // 1433\n\t\tif (m[12]) {                                                                                                     // 1434\n\t\t\tdate.setMilliseconds(Number(\"0.\" + m[12]) * 1000);                                                              // 1435\n\t\t}                                                                                                                // 1436\n\t\tfixDate(date, check);                                                                                            // 1437\n\t}else{                                                                                                            // 1438\n\t\tdate.setUTCFullYear(                                                                                             // 1439\n\t\t\tm[1],                                                                                                           // 1440\n\t\t\tm[3] ? m[3] - 1 : 0,                                                                                            // 1441\n\t\t\tm[5] || 1                                                                                                       // 1442\n\t\t);                                                                                                               // 1443\n\t\tdate.setUTCHours(                                                                                                // 1444\n\t\t\tm[7] || 0,                                                                                                      // 1445\n\t\t\tm[8] || 0,                                                                                                      // 1446\n\t\t\tm[10] || 0,                                                                                                     // 1447\n\t\t\tm[12] ? Number(\"0.\" + m[12]) * 1000 : 0                                                                         // 1448\n\t\t);                                                                                                               // 1449\n\t\tif (m[14]) {                                                                                                     // 1450\n\t\t\tvar offset = Number(m[16]) * 60 + (m[18] ? Number(m[18]) : 0);                                                  // 1451\n\t\t\toffset *= m[15] == '-' ? 1 : -1;                                                                                // 1452\n\t\t\tdate = new Date(+date + (offset * 60 * 1000));                                                                  // 1453\n\t\t}                                                                                                                // 1454\n\t}                                                                                                                 // 1455\n\treturn date;                                                                                                      // 1456\n}                                                                                                                  // 1457\n                                                                                                                   // 1458\n                                                                                                                   // 1459\nfunction parseTime(s) { // returns minutes since start of day                                                      // 1460\n\tif (typeof s == 'number') { // an hour                                                                            // 1461\n\t\treturn s * 60;                                                                                                   // 1462\n\t}                                                                                                                 // 1463\n\tif (typeof s == 'object') { // a Date object                                                                      // 1464\n\t\treturn s.getHours() * 60 + s.getMinutes();                                                                       // 1465\n\t}                                                                                                                 // 1466\n\tvar m = s.match(/(\\d+)(?::(\\d+))?\\s*(\\w+)?/);                                                                     // 1467\n\tif (m) {                                                                                                          // 1468\n\t\tvar h = parseInt(m[1], 10);                                                                                      // 1469\n\t\tif (m[3]) {                                                                                                      // 1470\n\t\t\th %= 12;                                                                                                        // 1471\n\t\t\tif (m[3].toLowerCase().charAt(0) == 'p') {                                                                      // 1472\n\t\t\t\th += 12;                                                                                                       // 1473\n\t\t\t}                                                                                                               // 1474\n\t\t}                                                                                                                // 1475\n\t\treturn h * 60 + (m[2] ? parseInt(m[2], 10) : 0);                                                                 // 1476\n\t}                                                                                                                 // 1477\n}                                                                                                                  // 1478\n                                                                                                                   // 1479\n                                                                                                                   // 1480\n                                                                                                                   // 1481\n/* Date Formatting                                                                                                 // 1482\n-----------------------------------------------------------------------------*/                                    // 1483\n// TODO: use same function formatDate(date, [date2], format, [options])                                            // 1484\n                                                                                                                   // 1485\n                                                                                                                   // 1486\nfunction formatDate(date, format, options) {                                                                       // 1487\n\treturn formatDates(date, null, format, options);                                                                  // 1488\n}                                                                                                                  // 1489\n                                                                                                                   // 1490\n                                                                                                                   // 1491\nfunction formatDates(date1, date2, format, options) {                                                              // 1492\n\toptions = options || defaults;                                                                                    // 1493\n\tvar date = date1,                                                                                                 // 1494\n\t\totherDate = date2,                                                                                               // 1495\n\t\ti, len = format.length, c,                                                                                       // 1496\n\t\ti2, formatter,                                                                                                   // 1497\n\t\tres = '';                                                                                                        // 1498\n\tfor (i=0; i<len; i++) {                                                                                           // 1499\n\t\tc = format.charAt(i);                                                                                            // 1500\n\t\tif (c == \"'\") {                                                                                                  // 1501\n\t\t\tfor (i2=i+1; i2<len; i2++) {                                                                                    // 1502\n\t\t\t\tif (format.charAt(i2) == \"'\") {                                                                                // 1503\n\t\t\t\t\tif (date) {                                                                                                   // 1504\n\t\t\t\t\t\tif (i2 == i+1) {                                                                                             // 1505\n\t\t\t\t\t\t\tres += \"'\";                                                                                                 // 1506\n\t\t\t\t\t\t}else{                                                                                                       // 1507\n\t\t\t\t\t\t\tres += format.substring(i+1, i2);                                                                           // 1508\n\t\t\t\t\t\t}                                                                                                            // 1509\n\t\t\t\t\t\ti = i2;                                                                                                      // 1510\n\t\t\t\t\t}                                                                                                             // 1511\n\t\t\t\t\tbreak;                                                                                                        // 1512\n\t\t\t\t}                                                                                                              // 1513\n\t\t\t}                                                                                                               // 1514\n\t\t}                                                                                                                // 1515\n\t\telse if (c == '(') {                                                                                             // 1516\n\t\t\tfor (i2=i+1; i2<len; i2++) {                                                                                    // 1517\n\t\t\t\tif (format.charAt(i2) == ')') {                                                                                // 1518\n\t\t\t\t\tvar subres = formatDate(date, format.substring(i+1, i2), options);                                            // 1519\n\t\t\t\t\tif (parseInt(subres.replace(/\\D/, ''), 10)) {                                                                 // 1520\n\t\t\t\t\t\tres += subres;                                                                                               // 1521\n\t\t\t\t\t}                                                                                                             // 1522\n\t\t\t\t\ti = i2;                                                                                                       // 1523\n\t\t\t\t\tbreak;                                                                                                        // 1524\n\t\t\t\t}                                                                                                              // 1525\n\t\t\t}                                                                                                               // 1526\n\t\t}                                                                                                                // 1527\n\t\telse if (c == '[') {                                                                                             // 1528\n\t\t\tfor (i2=i+1; i2<len; i2++) {                                                                                    // 1529\n\t\t\t\tif (format.charAt(i2) == ']') {                                                                                // 1530\n\t\t\t\t\tvar subformat = format.substring(i+1, i2);                                                                    // 1531\n\t\t\t\t\tvar subres = formatDate(date, subformat, options);                                                            // 1532\n\t\t\t\t\tif (subres != formatDate(otherDate, subformat, options)) {                                                    // 1533\n\t\t\t\t\t\tres += subres;                                                                                               // 1534\n\t\t\t\t\t}                                                                                                             // 1535\n\t\t\t\t\ti = i2;                                                                                                       // 1536\n\t\t\t\t\tbreak;                                                                                                        // 1537\n\t\t\t\t}                                                                                                              // 1538\n\t\t\t}                                                                                                               // 1539\n\t\t}                                                                                                                // 1540\n\t\telse if (c == '{') {                                                                                             // 1541\n\t\t\tdate = date2;                                                                                                   // 1542\n\t\t\totherDate = date1;                                                                                              // 1543\n\t\t}                                                                                                                // 1544\n\t\telse if (c == '}') {                                                                                             // 1545\n\t\t\tdate = date1;                                                                                                   // 1546\n\t\t\totherDate = date2;                                                                                              // 1547\n\t\t}                                                                                                                // 1548\n\t\telse {                                                                                                           // 1549\n\t\t\tfor (i2=len; i2>i; i2--) {                                                                                      // 1550\n\t\t\t\tif (formatter = dateFormatters[format.substring(i, i2)]) {                                                     // 1551\n\t\t\t\t\tif (date) {                                                                                                   // 1552\n\t\t\t\t\t\tres += formatter(date, options);                                                                             // 1553\n\t\t\t\t\t}                                                                                                             // 1554\n\t\t\t\t\ti = i2 - 1;                                                                                                   // 1555\n\t\t\t\t\tbreak;                                                                                                        // 1556\n\t\t\t\t}                                                                                                              // 1557\n\t\t\t}                                                                                                               // 1558\n\t\t\tif (i2 == i) {                                                                                                  // 1559\n\t\t\t\tif (date) {                                                                                                    // 1560\n\t\t\t\t\tres += c;                                                                                                     // 1561\n\t\t\t\t}                                                                                                              // 1562\n\t\t\t}                                                                                                               // 1563\n\t\t}                                                                                                                // 1564\n\t}                                                                                                                 // 1565\n\treturn res;                                                                                                       // 1566\n};                                                                                                                 // 1567\n                                                                                                                   // 1568\n                                                                                                                   // 1569\nvar dateFormatters = {                                                                                             // 1570\n\ts\t: function(d)\t{ return d.getSeconds() },                                                                        // 1571\n\tss\t: function(d)\t{ return zeroPad(d.getSeconds()) },                                                              // 1572\n\tm\t: function(d)\t{ return d.getMinutes() },                                                                        // 1573\n\tmm\t: function(d)\t{ return zeroPad(d.getMinutes()) },                                                              // 1574\n\th\t: function(d)\t{ return d.getHours() % 12 || 12 },                                                               // 1575\n\thh\t: function(d)\t{ return zeroPad(d.getHours() % 12 || 12) },                                                     // 1576\n\tH\t: function(d)\t{ return d.getHours() },                                                                          // 1577\n\tHH\t: function(d)\t{ return zeroPad(d.getHours()) },                                                                // 1578\n\td\t: function(d)\t{ return d.getDate() },                                                                           // 1579\n\tdd\t: function(d)\t{ return zeroPad(d.getDate()) },                                                                 // 1580\n\tddd\t: function(d,o)\t{ return o.dayNamesShort[d.getDay()] },                                                       // 1581\n\tdddd: function(d,o)\t{ return o.dayNames[d.getDay()] },                                                            // 1582\n\tM\t: function(d)\t{ return d.getMonth() + 1 },                                                                      // 1583\n\tMM\t: function(d)\t{ return zeroPad(d.getMonth() + 1) },                                                            // 1584\n\tMMM\t: function(d,o)\t{ return o.monthNamesShort[d.getMonth()] },                                                   // 1585\n\tMMMM: function(d,o)\t{ return o.monthNames[d.getMonth()] },                                                        // 1586\n\tyy\t: function(d)\t{ return (d.getFullYear()+'').substring(2) },                                                    // 1587\n\tyyyy: function(d)\t{ return d.getFullYear() },                                                                     // 1588\n\tt\t: function(d)\t{ return d.getHours() < 12 ? 'a' : 'p' },                                                         // 1589\n\ttt\t: function(d)\t{ return d.getHours() < 12 ? 'am' : 'pm' },                                                      // 1590\n\tT\t: function(d)\t{ return d.getHours() < 12 ? 'A' : 'P' },                                                         // 1591\n\tTT\t: function(d)\t{ return d.getHours() < 12 ? 'AM' : 'PM' },                                                      // 1592\n\tu\t: function(d)\t{ return formatDate(d, \"yyyy-MM-dd'T'HH:mm:ss'Z'\") },                                             // 1593\n\tS\t: function(d)\t{                                                                                                 // 1594\n\t\tvar date = d.getDate();                                                                                          // 1595\n\t\tif (date > 10 && date < 20) {                                                                                    // 1596\n\t\t\treturn 'th';                                                                                                    // 1597\n\t\t}                                                                                                                // 1598\n\t\treturn ['st', 'nd', 'rd'][date%10-1] || 'th';                                                                    // 1599\n\t},                                                                                                                // 1600\n\tw   : function(d, o) { // local                                                                                   // 1601\n\t\treturn o.weekNumberCalculation(d);                                                                               // 1602\n\t},                                                                                                                // 1603\n\tW   : function(d) { // ISO                                                                                        // 1604\n\t\treturn iso8601Week(d);                                                                                           // 1605\n\t}                                                                                                                 // 1606\n};                                                                                                                 // 1607\nfc.dateFormatters = dateFormatters;                                                                                // 1608\n                                                                                                                   // 1609\n                                                                                                                   // 1610\n/* thanks jQuery UI (https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js)                   // 1611\n *                                                                                                                 // 1612\n * Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.                        // 1613\n * @param  date  Date - the date to get the week for                                                               // 1614\n * @return  number - the number of the week within the year that contains this date                                // 1615\n */                                                                                                                // 1616\nfunction iso8601Week(date) {                                                                                       // 1617\n\tvar time;                                                                                                         // 1618\n\tvar checkDate = new Date(date.getTime());                                                                         // 1619\n                                                                                                                   // 1620\n\t// Find Thursday of this week starting on Monday                                                                  // 1621\n\tcheckDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));                                           // 1622\n                                                                                                                   // 1623\n\ttime = checkDate.getTime();                                                                                       // 1624\n\tcheckDate.setMonth(0); // Compare with Jan 1                                                                      // 1625\n\tcheckDate.setDate(1);                                                                                             // 1626\n\treturn Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;                                             // 1627\n}                                                                                                                  // 1628\n                                                                                                                   // 1629\n                                                                                                                   // 1630\n;;                                                                                                                 // 1631\n                                                                                                                   // 1632\nfc.applyAll = applyAll;                                                                                            // 1633\n                                                                                                                   // 1634\n                                                                                                                   // 1635\n/* Event Date Math                                                                                                 // 1636\n-----------------------------------------------------------------------------*/                                    // 1637\n                                                                                                                   // 1638\n                                                                                                                   // 1639\nfunction exclEndDay(event) {                                                                                       // 1640\n\tif (event.end) {                                                                                                  // 1641\n\t\treturn _exclEndDay(event.end, event.allDay);                                                                     // 1642\n\t}else{                                                                                                            // 1643\n\t\treturn addDays(cloneDate(event.start), 1);                                                                       // 1644\n\t}                                                                                                                 // 1645\n}                                                                                                                  // 1646\n                                                                                                                   // 1647\n                                                                                                                   // 1648\nfunction _exclEndDay(end, allDay) {                                                                                // 1649\n\tend = cloneDate(end);                                                                                             // 1650\n\treturn allDay || end.getHours() || end.getMinutes() ? addDays(end, 1) : clearTime(end);                           // 1651\n}                                                                                                                  // 1652\n                                                                                                                   // 1653\n                                                                                                                   // 1654\nfunction segCmp(a, b) {                                                                                            // 1655\n\treturn (b.msLength - a.msLength) * 100 + (a.event.start - b.event.start);                                         // 1656\n}                                                                                                                  // 1657\n                                                                                                                   // 1658\n                                                                                                                   // 1659\nfunction segsCollide(seg1, seg2) {                                                                                 // 1660\n\treturn seg1.end > seg2.start && seg1.start < seg2.end;                                                            // 1661\n}                                                                                                                  // 1662\n                                                                                                                   // 1663\n                                                                                                                   // 1664\n                                                                                                                   // 1665\n/* Event Sorting                                                                                                   // 1666\n-----------------------------------------------------------------------------*/                                    // 1667\n                                                                                                                   // 1668\n                                                                                                                   // 1669\n// event rendering utilities                                                                                       // 1670\nfunction sliceSegs(events, visEventEnds, start, end) {                                                             // 1671\n\tvar segs = [],                                                                                                    // 1672\n\t\ti, len=events.length, event,                                                                                     // 1673\n\t\teventStart, eventEnd,                                                                                            // 1674\n\t\tsegStart, segEnd,                                                                                                // 1675\n\t\tisStart, isEnd;                                                                                                  // 1676\n\tfor (i=0; i<len; i++) {                                                                                           // 1677\n\t\tevent = events[i];                                                                                               // 1678\n\t\teventStart = event.start;                                                                                        // 1679\n\t\teventEnd = visEventEnds[i];                                                                                      // 1680\n\t\tif (eventEnd > start && eventStart < end) {                                                                      // 1681\n\t\t\tif (eventStart < start) {                                                                                       // 1682\n\t\t\t\tsegStart = cloneDate(start);                                                                                   // 1683\n\t\t\t\tisStart = false;                                                                                               // 1684\n\t\t\t}else{                                                                                                          // 1685\n\t\t\t\tsegStart = eventStart;                                                                                         // 1686\n\t\t\t\tisStart = true;                                                                                                // 1687\n\t\t\t}                                                                                                               // 1688\n\t\t\tif (eventEnd > end) {                                                                                           // 1689\n\t\t\t\tsegEnd = cloneDate(end);                                                                                       // 1690\n\t\t\t\tisEnd = false;                                                                                                 // 1691\n\t\t\t}else{                                                                                                          // 1692\n\t\t\t\tsegEnd = eventEnd;                                                                                             // 1693\n\t\t\t\tisEnd = true;                                                                                                  // 1694\n\t\t\t}                                                                                                               // 1695\n\t\t\tsegs.push({                                                                                                     // 1696\n\t\t\t\tevent: event,                                                                                                  // 1697\n\t\t\t\tstart: segStart,                                                                                               // 1698\n\t\t\t\tend: segEnd,                                                                                                   // 1699\n\t\t\t\tisStart: isStart,                                                                                              // 1700\n\t\t\t\tisEnd: isEnd,                                                                                                  // 1701\n\t\t\t\tmsLength: segEnd - segStart                                                                                    // 1702\n\t\t\t});                                                                                                             // 1703\n\t\t}                                                                                                                // 1704\n\t}                                                                                                                 // 1705\n\treturn segs.sort(segCmp);                                                                                         // 1706\n}                                                                                                                  // 1707\n                                                                                                                   // 1708\n                                                                                                                   // 1709\n// event rendering calculation utilities                                                                           // 1710\nfunction stackSegs(segs) {                                                                                         // 1711\n\tvar levels = [],                                                                                                  // 1712\n\t\ti, len = segs.length, seg,                                                                                       // 1713\n\t\tj, collide, k;                                                                                                   // 1714\n\tfor (i=0; i<len; i++) {                                                                                           // 1715\n\t\tseg = segs[i];                                                                                                   // 1716\n\t\tj = 0; // the level index where seg should belong                                                                // 1717\n\t\twhile (true) {                                                                                                   // 1718\n\t\t\tcollide = false;                                                                                                // 1719\n\t\t\tif (levels[j]) {                                                                                                // 1720\n\t\t\t\tfor (k=0; k<levels[j].length; k++) {                                                                           // 1721\n\t\t\t\t\tif (segsCollide(levels[j][k], seg)) {                                                                         // 1722\n\t\t\t\t\t\tcollide = true;                                                                                              // 1723\n\t\t\t\t\t\tbreak;                                                                                                       // 1724\n\t\t\t\t\t}                                                                                                             // 1725\n\t\t\t\t}                                                                                                              // 1726\n\t\t\t}                                                                                                               // 1727\n\t\t\tif (collide) {                                                                                                  // 1728\n\t\t\t\tj++;                                                                                                           // 1729\n\t\t\t}else{                                                                                                          // 1730\n\t\t\t\tbreak;                                                                                                         // 1731\n\t\t\t}                                                                                                               // 1732\n\t\t}                                                                                                                // 1733\n\t\tif (levels[j]) {                                                                                                 // 1734\n\t\t\tlevels[j].push(seg);                                                                                            // 1735\n\t\t}else{                                                                                                           // 1736\n\t\t\tlevels[j] = [seg];                                                                                              // 1737\n\t\t}                                                                                                                // 1738\n\t}                                                                                                                 // 1739\n\treturn levels;                                                                                                    // 1740\n}                                                                                                                  // 1741\n                                                                                                                   // 1742\n                                                                                                                   // 1743\n                                                                                                                   // 1744\n/* Event Element Binding                                                                                           // 1745\n-----------------------------------------------------------------------------*/                                    // 1746\n                                                                                                                   // 1747\n                                                                                                                   // 1748\nfunction lazySegBind(container, segs, bindHandlers) {                                                              // 1749\n\tcontainer.unbind('mouseover').mouseover(function(ev) {                                                            // 1750\n\t\tvar parent=ev.target, e,                                                                                         // 1751\n\t\t\ti, seg;                                                                                                         // 1752\n\t\twhile (parent != this) {                                                                                         // 1753\n\t\t\te = parent;                                                                                                     // 1754\n\t\t\tparent = parent.parentNode;                                                                                     // 1755\n\t\t}                                                                                                                // 1756\n\t\tif ((i = e._fci) !== undefined) {                                                                                // 1757\n\t\t\te._fci = undefined;                                                                                             // 1758\n\t\t\tseg = segs[i];                                                                                                  // 1759\n\t\t\tbindHandlers(seg.event, seg.element, seg);                                                                      // 1760\n\t\t\t$(ev.target).trigger(ev);                                                                                       // 1761\n\t\t}                                                                                                                // 1762\n\t\tev.stopPropagation();                                                                                            // 1763\n\t});                                                                                                               // 1764\n}                                                                                                                  // 1765\n                                                                                                                   // 1766\n                                                                                                                   // 1767\n                                                                                                                   // 1768\n/* Element Dimensions                                                                                              // 1769\n-----------------------------------------------------------------------------*/                                    // 1770\n                                                                                                                   // 1771\n                                                                                                                   // 1772\nfunction setOuterWidth(element, width, includeMargins) {                                                           // 1773\n\tfor (var i=0, e; i<element.length; i++) {                                                                         // 1774\n\t\te = $(element[i]);                                                                                               // 1775\n\t\te.width(Math.max(0, width - hsides(e, includeMargins)));                                                         // 1776\n\t}                                                                                                                 // 1777\n}                                                                                                                  // 1778\n                                                                                                                   // 1779\n                                                                                                                   // 1780\nfunction setOuterHeight(element, height, includeMargins) {                                                         // 1781\n\tfor (var i=0, e; i<element.length; i++) {                                                                         // 1782\n\t\te = $(element[i]);                                                                                               // 1783\n\t\te.height(Math.max(0, height - vsides(e, includeMargins)));                                                       // 1784\n\t}                                                                                                                 // 1785\n}                                                                                                                  // 1786\n                                                                                                                   // 1787\n                                                                                                                   // 1788\nfunction hsides(element, includeMargins) {                                                                         // 1789\n\treturn hpadding(element) + hborders(element) + (includeMargins ? hmargins(element) : 0);                          // 1790\n}                                                                                                                  // 1791\n                                                                                                                   // 1792\n                                                                                                                   // 1793\nfunction hpadding(element) {                                                                                       // 1794\n\treturn (parseFloat($.css(element[0], 'paddingLeft', true)) || 0) +                                                // 1795\n\t       (parseFloat($.css(element[0], 'paddingRight', true)) || 0);                                                // 1796\n}                                                                                                                  // 1797\n                                                                                                                   // 1798\n                                                                                                                   // 1799\nfunction hmargins(element) {                                                                                       // 1800\n\treturn (parseFloat($.css(element[0], 'marginLeft', true)) || 0) +                                                 // 1801\n\t       (parseFloat($.css(element[0], 'marginRight', true)) || 0);                                                 // 1802\n}                                                                                                                  // 1803\n                                                                                                                   // 1804\n                                                                                                                   // 1805\nfunction hborders(element) {                                                                                       // 1806\n\treturn (parseFloat($.css(element[0], 'borderLeftWidth', true)) || 0) +                                            // 1807\n\t       (parseFloat($.css(element[0], 'borderRightWidth', true)) || 0);                                            // 1808\n}                                                                                                                  // 1809\n                                                                                                                   // 1810\n                                                                                                                   // 1811\nfunction vsides(element, includeMargins) {                                                                         // 1812\n\treturn vpadding(element) +  vborders(element) + (includeMargins ? vmargins(element) : 0);                         // 1813\n}                                                                                                                  // 1814\n                                                                                                                   // 1815\n                                                                                                                   // 1816\nfunction vpadding(element) {                                                                                       // 1817\n\treturn (parseFloat($.css(element[0], 'paddingTop', true)) || 0) +                                                 // 1818\n\t       (parseFloat($.css(element[0], 'paddingBottom', true)) || 0);                                               // 1819\n}                                                                                                                  // 1820\n                                                                                                                   // 1821\n                                                                                                                   // 1822\nfunction vmargins(element) {                                                                                       // 1823\n\treturn (parseFloat($.css(element[0], 'marginTop', true)) || 0) +                                                  // 1824\n\t       (parseFloat($.css(element[0], 'marginBottom', true)) || 0);                                                // 1825\n}                                                                                                                  // 1826\n                                                                                                                   // 1827\n                                                                                                                   // 1828\nfunction vborders(element) {                                                                                       // 1829\n\treturn (parseFloat($.css(element[0], 'borderTopWidth', true)) || 0) +                                             // 1830\n\t       (parseFloat($.css(element[0], 'borderBottomWidth', true)) || 0);                                           // 1831\n}                                                                                                                  // 1832\n                                                                                                                   // 1833\n                                                                                                                   // 1834\nfunction setMinHeight(element, height) {                                                                           // 1835\n\theight = (typeof height == 'number' ? height + 'px' : height);                                                    // 1836\n\telement.each(function(i, _element) {                                                                              // 1837\n\t\t_element.style.cssText += ';min-height:' + height + ';_height:' + height;                                        // 1838\n\t\t// why can't we just use .css() ? i forget                                                                       // 1839\n\t});                                                                                                               // 1840\n}                                                                                                                  // 1841\n                                                                                                                   // 1842\n                                                                                                                   // 1843\n                                                                                                                   // 1844\n/* Misc Utils                                                                                                      // 1845\n-----------------------------------------------------------------------------*/                                    // 1846\n                                                                                                                   // 1847\n                                                                                                                   // 1848\n//TODO: arraySlice                                                                                                 // 1849\n//TODO: isFunction, grep ?                                                                                         // 1850\n                                                                                                                   // 1851\n                                                                                                                   // 1852\nfunction noop() { }                                                                                                // 1853\n                                                                                                                   // 1854\n                                                                                                                   // 1855\nfunction cmp(a, b) {                                                                                               // 1856\n\treturn a - b;                                                                                                     // 1857\n}                                                                                                                  // 1858\n                                                                                                                   // 1859\n                                                                                                                   // 1860\nfunction arrayMax(a) {                                                                                             // 1861\n\treturn Math.max.apply(Math, a);                                                                                   // 1862\n}                                                                                                                  // 1863\n                                                                                                                   // 1864\n                                                                                                                   // 1865\nfunction zeroPad(n) {                                                                                              // 1866\n\treturn (n < 10 ? '0' : '') + n;                                                                                   // 1867\n}                                                                                                                  // 1868\n                                                                                                                   // 1869\n                                                                                                                   // 1870\nfunction smartProperty(obj, name) { // get a camel-cased/namespaced property of an object                          // 1871\n\tif (obj[name] !== undefined) {                                                                                    // 1872\n\t\treturn obj[name];                                                                                                // 1873\n\t}                                                                                                                 // 1874\n\tvar parts = name.split(/(?=[A-Z])/),                                                                              // 1875\n\t\ti=parts.length-1, res;                                                                                           // 1876\n\tfor (; i>=0; i--) {                                                                                               // 1877\n\t\tres = obj[parts[i].toLowerCase()];                                                                               // 1878\n\t\tif (res !== undefined) {                                                                                         // 1879\n\t\t\treturn res;                                                                                                     // 1880\n\t\t}                                                                                                                // 1881\n\t}                                                                                                                 // 1882\n\treturn obj[''];                                                                                                   // 1883\n}                                                                                                                  // 1884\n                                                                                                                   // 1885\n                                                                                                                   // 1886\nfunction htmlEscape(s) {                                                                                           // 1887\n\treturn s.replace(/&/g, '&amp;')                                                                                   // 1888\n\t\t.replace(/</g, '&lt;')                                                                                           // 1889\n\t\t.replace(/>/g, '&gt;')                                                                                           // 1890\n\t\t.replace(/'/g, '&#039;')                                                                                         // 1891\n\t\t.replace(/\"/g, '&quot;')                                                                                         // 1892\n\t\t.replace(/\\n/g, '<br />');                                                                                       // 1893\n}                                                                                                                  // 1894\n                                                                                                                   // 1895\n                                                                                                                   // 1896\nfunction cssKey(_element) {                                                                                        // 1897\n\treturn _element.id + '/' + _element.className + '/' + _element.style.cssText.replace(/(^|;)\\s*(top|left|width|height)\\s*:[^;]*/ig, '');\n}                                                                                                                  // 1899\n                                                                                                                   // 1900\n                                                                                                                   // 1901\nfunction disableTextSelection(element) {                                                                           // 1902\n\telement                                                                                                           // 1903\n\t\t.attr('unselectable', 'on')                                                                                      // 1904\n\t\t.css('MozUserSelect', 'none')                                                                                    // 1905\n\t\t.bind('selectstart.ui', function() { return false; });                                                           // 1906\n}                                                                                                                  // 1907\n                                                                                                                   // 1908\n                                                                                                                   // 1909\n/*                                                                                                                 // 1910\nfunction enableTextSelection(element) {                                                                            // 1911\n\telement                                                                                                           // 1912\n\t\t.attr('unselectable', 'off')                                                                                     // 1913\n\t\t.css('MozUserSelect', '')                                                                                        // 1914\n\t\t.unbind('selectstart.ui');                                                                                       // 1915\n}                                                                                                                  // 1916\n*/                                                                                                                 // 1917\n                                                                                                                   // 1918\n                                                                                                                   // 1919\nfunction markFirstLast(e) {                                                                                        // 1920\n\te.children()                                                                                                      // 1921\n\t\t.removeClass('fc-first fc-last')                                                                                 // 1922\n\t\t.filter(':first-child')                                                                                          // 1923\n\t\t\t.addClass('fc-first')                                                                                           // 1924\n\t\t.end()                                                                                                           // 1925\n\t\t.filter(':last-child')                                                                                           // 1926\n\t\t\t.addClass('fc-last');                                                                                           // 1927\n}                                                                                                                  // 1928\n                                                                                                                   // 1929\n                                                                                                                   // 1930\nfunction setDayID(cell, date) {                                                                                    // 1931\n\tcell.each(function(i, _cell) {                                                                                    // 1932\n\t\t_cell.className = _cell.className.replace(/^fc-\\w*/, 'fc-' + dayIDs[date.getDay()]);                             // 1933\n\t\t// TODO: make a way that doesn't rely on order of classes                                                        // 1934\n\t});                                                                                                               // 1935\n}                                                                                                                  // 1936\n                                                                                                                   // 1937\n                                                                                                                   // 1938\nfunction getSkinCss(event, opt) {                                                                                  // 1939\n\tvar source = event.source || {};                                                                                  // 1940\n\tvar eventColor = event.color;                                                                                     // 1941\n\tvar sourceColor = source.color;                                                                                   // 1942\n\tvar optionColor = opt('eventColor');                                                                              // 1943\n\tvar backgroundColor =                                                                                             // 1944\n\t\tevent.backgroundColor ||                                                                                         // 1945\n\t\teventColor ||                                                                                                    // 1946\n\t\tsource.backgroundColor ||                                                                                        // 1947\n\t\tsourceColor ||                                                                                                   // 1948\n\t\topt('eventBackgroundColor') ||                                                                                   // 1949\n\t\toptionColor;                                                                                                     // 1950\n\tvar borderColor =                                                                                                 // 1951\n\t\tevent.borderColor ||                                                                                             // 1952\n\t\teventColor ||                                                                                                    // 1953\n\t\tsource.borderColor ||                                                                                            // 1954\n\t\tsourceColor ||                                                                                                   // 1955\n\t\topt('eventBorderColor') ||                                                                                       // 1956\n\t\toptionColor;                                                                                                     // 1957\n\tvar textColor =                                                                                                   // 1958\n\t\tevent.textColor ||                                                                                               // 1959\n\t\tsource.textColor ||                                                                                              // 1960\n\t\topt('eventTextColor');                                                                                           // 1961\n\tvar statements = [];                                                                                              // 1962\n\tif (backgroundColor) {                                                                                            // 1963\n\t\tstatements.push('background-color:' + backgroundColor);                                                          // 1964\n\t}                                                                                                                 // 1965\n\tif (borderColor) {                                                                                                // 1966\n\t\tstatements.push('border-color:' + borderColor);                                                                  // 1967\n\t}                                                                                                                 // 1968\n\tif (textColor) {                                                                                                  // 1969\n\t\tstatements.push('color:' + textColor);                                                                           // 1970\n\t}                                                                                                                 // 1971\n\treturn statements.join(';');                                                                                      // 1972\n}                                                                                                                  // 1973\n                                                                                                                   // 1974\n                                                                                                                   // 1975\nfunction applyAll(functions, thisObj, args) {                                                                      // 1976\n\tif ($.isFunction(functions)) {                                                                                    // 1977\n\t\tfunctions = [ functions ];                                                                                       // 1978\n\t}                                                                                                                 // 1979\n\tif (functions) {                                                                                                  // 1980\n\t\tvar i;                                                                                                           // 1981\n\t\tvar ret;                                                                                                         // 1982\n\t\tfor (i=0; i<functions.length; i++) {                                                                             // 1983\n\t\t\tret = functions[i].apply(thisObj, args) || ret;                                                                 // 1984\n\t\t}                                                                                                                // 1985\n\t\treturn ret;                                                                                                      // 1986\n\t}                                                                                                                 // 1987\n}                                                                                                                  // 1988\n                                                                                                                   // 1989\n                                                                                                                   // 1990\nfunction firstDefined() {                                                                                          // 1991\n\tfor (var i=0; i<arguments.length; i++) {                                                                          // 1992\n\t\tif (arguments[i] !== undefined) {                                                                                // 1993\n\t\t\treturn arguments[i];                                                                                            // 1994\n\t\t}                                                                                                                // 1995\n\t}                                                                                                                 // 1996\n}                                                                                                                  // 1997\n                                                                                                                   // 1998\n                                                                                                                   // 1999\n;;                                                                                                                 // 2000\n                                                                                                                   // 2001\nfcViews.month = MonthView;                                                                                         // 2002\n                                                                                                                   // 2003\nfunction MonthView(element, calendar) {                                                                            // 2004\n\tvar t = this;                                                                                                     // 2005\n\t                                                                                                                  // 2006\n\t                                                                                                                  // 2007\n\t// exports                                                                                                        // 2008\n\tt.render = render;                                                                                                // 2009\n\t                                                                                                                  // 2010\n\t                                                                                                                  // 2011\n\t// imports                                                                                                        // 2012\n\tBasicView.call(t, element, calendar, 'month');                                                                    // 2013\n\tvar opt = t.opt;                                                                                                  // 2014\n\tvar renderBasic = t.renderBasic;                                                                                  // 2015\n\tvar formatDate = calendar.formatDate;                                                                             // 2016\n\t                                                                                                                  // 2017\n\t                                                                                                                  // 2018\n\t                                                                                                                  // 2019\n\tfunction render(date, delta) {                                                                                    // 2020\n\t\tif (delta) {                                                                                                     // 2021\n\t\t\taddMonths(date, delta);                                                                                         // 2022\n\t\t\tdate.setDate(1);                                                                                                // 2023\n\t\t}                                                                                                                // 2024\n\t\tvar start = cloneDate(date, true);                                                                               // 2025\n\t\tstart.setDate(1);                                                                                                // 2026\n\t\tvar end = addMonths(cloneDate(start), 1);                                                                        // 2027\n\t\tvar visStart = cloneDate(start);                                                                                 // 2028\n\t\tvar visEnd = cloneDate(end);                                                                                     // 2029\n\t\tvar firstDay = opt('firstDay');                                                                                  // 2030\n\t\tvar nwe = opt('weekends') ? 0 : 1;                                                                               // 2031\n\t\tif (nwe) {                                                                                                       // 2032\n\t\t\tskipWeekend(visStart);                                                                                          // 2033\n\t\t\tskipWeekend(visEnd, -1, true);                                                                                  // 2034\n\t\t}                                                                                                                // 2035\n\t\taddDays(visStart, -((visStart.getDay() - Math.max(firstDay, nwe) + 7) % 7));                                     // 2036\n\t\taddDays(visEnd, (7 - visEnd.getDay() + Math.max(firstDay, nwe)) % 7);                                            // 2037\n\t\tvar rowCnt = Math.round((visEnd - visStart) / (DAY_MS * 7));                                                     // 2038\n\t\tif (opt('weekMode') == 'fixed') {                                                                                // 2039\n\t\t\taddDays(visEnd, (6 - rowCnt) * 7);                                                                              // 2040\n\t\t\trowCnt = 6;                                                                                                     // 2041\n\t\t}                                                                                                                // 2042\n\t\tt.title = formatDate(start, opt('titleFormat'));                                                                 // 2043\n\t\tt.start = start;                                                                                                 // 2044\n\t\tt.end = end;                                                                                                     // 2045\n\t\tt.visStart = visStart;                                                                                           // 2046\n\t\tt.visEnd = visEnd;                                                                                               // 2047\n\t\trenderBasic(rowCnt, nwe ? 5 : 7, true);                                                                          // 2048\n\t}                                                                                                                 // 2049\n\t                                                                                                                  // 2050\n\t                                                                                                                  // 2051\n}                                                                                                                  // 2052\n                                                                                                                   // 2053\n;;                                                                                                                 // 2054\n                                                                                                                   // 2055\nfcViews.basicWeek = BasicWeekView;                                                                                 // 2056\n                                                                                                                   // 2057\nfunction BasicWeekView(element, calendar) {                                                                        // 2058\n\tvar t = this;                                                                                                     // 2059\n\t                                                                                                                  // 2060\n\t                                                                                                                  // 2061\n\t// exports                                                                                                        // 2062\n\tt.render = render;                                                                                                // 2063\n\t                                                                                                                  // 2064\n\t                                                                                                                  // 2065\n\t// imports                                                                                                        // 2066\n\tBasicView.call(t, element, calendar, 'basicWeek');                                                                // 2067\n\tvar opt = t.opt;                                                                                                  // 2068\n\tvar renderBasic = t.renderBasic;                                                                                  // 2069\n\tvar formatDates = calendar.formatDates;                                                                           // 2070\n\t                                                                                                                  // 2071\n\t                                                                                                                  // 2072\n\t                                                                                                                  // 2073\n\tfunction render(date, delta) {                                                                                    // 2074\n\t\tif (delta) {                                                                                                     // 2075\n\t\t\taddDays(date, delta * 7);                                                                                       // 2076\n\t\t}                                                                                                                // 2077\n\t\tvar start = addDays(cloneDate(date), -((date.getDay() - opt('firstDay') + 7) % 7));                              // 2078\n\t\tvar end = addDays(cloneDate(start), 7);                                                                          // 2079\n\t\tvar visStart = cloneDate(start);                                                                                 // 2080\n\t\tvar visEnd = cloneDate(end);                                                                                     // 2081\n\t\tvar weekends = opt('weekends');                                                                                  // 2082\n\t\tif (!weekends) {                                                                                                 // 2083\n\t\t\tskipWeekend(visStart);                                                                                          // 2084\n\t\t\tskipWeekend(visEnd, -1, true);                                                                                  // 2085\n\t\t}                                                                                                                // 2086\n\t\tt.title = formatDates(                                                                                           // 2087\n\t\t\tvisStart,                                                                                                       // 2088\n\t\t\taddDays(cloneDate(visEnd), -1),                                                                                 // 2089\n\t\t\topt('titleFormat')                                                                                              // 2090\n\t\t);                                                                                                               // 2091\n\t\tt.start = start;                                                                                                 // 2092\n\t\tt.end = end;                                                                                                     // 2093\n\t\tt.visStart = visStart;                                                                                           // 2094\n\t\tt.visEnd = visEnd;                                                                                               // 2095\n\t\trenderBasic(1, weekends ? 7 : 5, false);                                                                         // 2096\n\t}                                                                                                                 // 2097\n\t                                                                                                                  // 2098\n\t                                                                                                                  // 2099\n}                                                                                                                  // 2100\n                                                                                                                   // 2101\n;;                                                                                                                 // 2102\n                                                                                                                   // 2103\nfcViews.basicDay = BasicDayView;                                                                                   // 2104\n                                                                                                                   // 2105\n//TODO: when calendar's date starts out on a weekend, shouldn't happen                                             // 2106\n                                                                                                                   // 2107\n                                                                                                                   // 2108\nfunction BasicDayView(element, calendar) {                                                                         // 2109\n\tvar t = this;                                                                                                     // 2110\n\t                                                                                                                  // 2111\n\t                                                                                                                  // 2112\n\t// exports                                                                                                        // 2113\n\tt.render = render;                                                                                                // 2114\n\t                                                                                                                  // 2115\n\t                                                                                                                  // 2116\n\t// imports                                                                                                        // 2117\n\tBasicView.call(t, element, calendar, 'basicDay');                                                                 // 2118\n\tvar opt = t.opt;                                                                                                  // 2119\n\tvar renderBasic = t.renderBasic;                                                                                  // 2120\n\tvar formatDate = calendar.formatDate;                                                                             // 2121\n\t                                                                                                                  // 2122\n\t                                                                                                                  // 2123\n\t                                                                                                                  // 2124\n\tfunction render(date, delta) {                                                                                    // 2125\n\t\tif (delta) {                                                                                                     // 2126\n\t\t\taddDays(date, delta);                                                                                           // 2127\n\t\t\tif (!opt('weekends')) {                                                                                         // 2128\n\t\t\t\tskipWeekend(date, delta < 0 ? -1 : 1);                                                                         // 2129\n\t\t\t}                                                                                                               // 2130\n\t\t}                                                                                                                // 2131\n\t\tt.title = formatDate(date, opt('titleFormat'));                                                                  // 2132\n\t\tt.start = t.visStart = cloneDate(date, true);                                                                    // 2133\n\t\tt.end = t.visEnd = addDays(cloneDate(t.start), 1);                                                               // 2134\n\t\trenderBasic(1, 1, false);                                                                                        // 2135\n\t}                                                                                                                 // 2136\n\t                                                                                                                  // 2137\n\t                                                                                                                  // 2138\n}                                                                                                                  // 2139\n                                                                                                                   // 2140\n;;                                                                                                                 // 2141\n                                                                                                                   // 2142\nsetDefaults({                                                                                                      // 2143\n\tweekMode: 'fixed'                                                                                                 // 2144\n});                                                                                                                // 2145\n                                                                                                                   // 2146\n                                                                                                                   // 2147\nfunction BasicView(element, calendar, viewName) {                                                                  // 2148\n\tvar t = this;                                                                                                     // 2149\n\t                                                                                                                  // 2150\n\t                                                                                                                  // 2151\n\t// exports                                                                                                        // 2152\n\tt.renderBasic = renderBasic;                                                                                      // 2153\n\tt.setHeight = setHeight;                                                                                          // 2154\n\tt.setWidth = setWidth;                                                                                            // 2155\n\tt.renderDayOverlay = renderDayOverlay;                                                                            // 2156\n\tt.defaultSelectionEnd = defaultSelectionEnd;                                                                      // 2157\n\tt.renderSelection = renderSelection;                                                                              // 2158\n\tt.clearSelection = clearSelection;                                                                                // 2159\n\tt.reportDayClick = reportDayClick; // for selection (kinda hacky)                                                 // 2160\n\tt.dragStart = dragStart;                                                                                          // 2161\n\tt.dragStop = dragStop;                                                                                            // 2162\n\tt.defaultEventEnd = defaultEventEnd;                                                                              // 2163\n\tt.getHoverListener = function() { return hoverListener };                                                         // 2164\n\tt.colContentLeft = colContentLeft;                                                                                // 2165\n\tt.colContentRight = colContentRight;                                                                              // 2166\n\tt.dayOfWeekCol = dayOfWeekCol;                                                                                    // 2167\n\tt.dateCell = dateCell;                                                                                            // 2168\n\tt.cellDate = cellDate;                                                                                            // 2169\n\tt.cellIsAllDay = function() { return true };                                                                      // 2170\n\tt.allDayRow = allDayRow;                                                                                          // 2171\n\tt.allDayBounds = allDayBounds;                                                                                    // 2172\n\tt.getRowCnt = function() { return rowCnt };                                                                       // 2173\n\tt.getColCnt = function() { return colCnt };                                                                       // 2174\n\tt.getColWidth = function() { return colWidth };                                                                   // 2175\n\tt.getDaySegmentContainer = function() { return daySegmentContainer };                                             // 2176\n\t                                                                                                                  // 2177\n\t                                                                                                                  // 2178\n\t// imports                                                                                                        // 2179\n\tView.call(t, element, calendar, viewName);                                                                        // 2180\n\tOverlayManager.call(t);                                                                                           // 2181\n\tSelectionManager.call(t);                                                                                         // 2182\n\tBasicEventRenderer.call(t);                                                                                       // 2183\n\tvar opt = t.opt;                                                                                                  // 2184\n\tvar trigger = t.trigger;                                                                                          // 2185\n\tvar clearEvents = t.clearEvents;                                                                                  // 2186\n\tvar renderOverlay = t.renderOverlay;                                                                              // 2187\n\tvar clearOverlays = t.clearOverlays;                                                                              // 2188\n\tvar daySelectionMousedown = t.daySelectionMousedown;                                                              // 2189\n\tvar formatDate = calendar.formatDate;                                                                             // 2190\n\t                                                                                                                  // 2191\n\t                                                                                                                  // 2192\n\t// locals                                                                                                         // 2193\n\t                                                                                                                  // 2194\n\tvar table;                                                                                                        // 2195\n\tvar head;                                                                                                         // 2196\n\tvar headCells;                                                                                                    // 2197\n\tvar body;                                                                                                         // 2198\n\tvar bodyRows;                                                                                                     // 2199\n\tvar bodyCells;                                                                                                    // 2200\n\tvar bodyFirstCells;                                                                                               // 2201\n\tvar bodyCellTopInners;                                                                                            // 2202\n\tvar daySegmentContainer;                                                                                          // 2203\n\t                                                                                                                  // 2204\n\tvar viewWidth;                                                                                                    // 2205\n\tvar viewHeight;                                                                                                   // 2206\n\tvar colWidth;                                                                                                     // 2207\n\tvar weekNumberWidth;                                                                                              // 2208\n\t                                                                                                                  // 2209\n\tvar rowCnt, colCnt;                                                                                               // 2210\n\tvar coordinateGrid;                                                                                               // 2211\n\tvar hoverListener;                                                                                                // 2212\n\tvar colContentPositions;                                                                                          // 2213\n\t                                                                                                                  // 2214\n\tvar rtl, dis, dit;                                                                                                // 2215\n\tvar firstDay;                                                                                                     // 2216\n\tvar nwe; // no weekends? a 0 or 1 for easy computations                                                           // 2217\n\tvar tm;                                                                                                           // 2218\n\tvar colFormat;                                                                                                    // 2219\n\tvar showWeekNumbers;                                                                                              // 2220\n\tvar weekNumberTitle;                                                                                              // 2221\n\tvar weekNumberFormat;                                                                                             // 2222\n\t                                                                                                                  // 2223\n\t                                                                                                                  // 2224\n\t                                                                                                                  // 2225\n\t/* Rendering                                                                                                      // 2226\n\t------------------------------------------------------------*/                                                    // 2227\n\t                                                                                                                  // 2228\n\t                                                                                                                  // 2229\n\tdisableTextSelection(element.addClass('fc-grid'));                                                                // 2230\n\t                                                                                                                  // 2231\n\t                                                                                                                  // 2232\n\tfunction renderBasic(r, c, showNumbers) {                                                                         // 2233\n\t\trowCnt = r;                                                                                                      // 2234\n\t\tcolCnt = c;                                                                                                      // 2235\n\t\tupdateOptions();                                                                                                 // 2236\n\t\tvar firstTime = !body;                                                                                           // 2237\n\t\tif (firstTime) {                                                                                                 // 2238\n\t\t\tbuildEventContainer();                                                                                          // 2239\n\t\t}else{                                                                                                           // 2240\n\t\t\tclearEvents();                                                                                                  // 2241\n\t\t}                                                                                                                // 2242\n\t\tbuildTable(showNumbers);                                                                                         // 2243\n\t}                                                                                                                 // 2244\n\t                                                                                                                  // 2245\n\t                                                                                                                  // 2246\n\t                                                                                                                  // 2247\n\tfunction updateOptions() {                                                                                        // 2248\n\t\trtl = opt('isRTL');                                                                                              // 2249\n\t\tif (rtl) {                                                                                                       // 2250\n\t\t\tdis = -1;                                                                                                       // 2251\n\t\t\tdit = colCnt - 1;                                                                                               // 2252\n\t\t}else{                                                                                                           // 2253\n\t\t\tdis = 1;                                                                                                        // 2254\n\t\t\tdit = 0;                                                                                                        // 2255\n\t\t}                                                                                                                // 2256\n\t\tfirstDay = opt('firstDay');                                                                                      // 2257\n\t\tnwe = opt('weekends') ? 0 : 1;                                                                                   // 2258\n\t\ttm = opt('theme') ? 'ui' : 'fc';                                                                                 // 2259\n\t\tcolFormat = opt('columnFormat');                                                                                 // 2260\n                                                                                                                   // 2261\n\t\t// week # options. (TODO: bad, logic also in other views)                                                        // 2262\n\t\tshowWeekNumbers = opt('weekNumbers');                                                                            // 2263\n\t\tweekNumberTitle = opt('weekNumberTitle');                                                                        // 2264\n\t\tif (opt('weekNumberCalculation') != 'iso') {                                                                     // 2265\n\t\t\tweekNumberFormat = \"w\";                                                                                         // 2266\n\t\t}                                                                                                                // 2267\n\t\telse {                                                                                                           // 2268\n\t\t\tweekNumberFormat = \"W\";                                                                                         // 2269\n\t\t}                                                                                                                // 2270\n\t}                                                                                                                 // 2271\n\t                                                                                                                  // 2272\n\t                                                                                                                  // 2273\n\t                                                                                                                  // 2274\n\tfunction buildEventContainer() {                                                                                  // 2275\n\t\tdaySegmentContainer =                                                                                            // 2276\n\t\t\t$(\"<div style='position:absolute;z-index:8;top:0;left:0'/>\")                                                    // 2277\n\t\t\t\t.appendTo(element);                                                                                            // 2278\n\t}                                                                                                                 // 2279\n\t                                                                                                                  // 2280\n\t                                                                                                                  // 2281\n\t                                                                                                                  // 2282\n\tfunction buildTable(showNumbers) {                                                                                // 2283\n\t\tvar html = '';                                                                                                   // 2284\n\t\tvar i, j;                                                                                                        // 2285\n\t\tvar headerClass = tm + \"-widget-header\";                                                                         // 2286\n\t\tvar contentClass = tm + \"-widget-content\";                                                                       // 2287\n\t\tvar month = t.start.getMonth();                                                                                  // 2288\n\t\tvar today = clearTime(new Date());                                                                               // 2289\n\t\tvar cellDate; // not to be confused with local function. TODO: better names                                      // 2290\n\t\tvar cellClasses;                                                                                                 // 2291\n\t\tvar cell;                                                                                                        // 2292\n                                                                                                                   // 2293\n\t\thtml += \"<table class='fc-border-separate' style='width:100%' cellspacing='0'>\" +                                // 2294\n\t\t        \"<thead>\" +                                                                                              // 2295\n\t\t        \"<tr>\";                                                                                                  // 2296\n                                                                                                                   // 2297\n\t\tif (showWeekNumbers) {                                                                                           // 2298\n\t\t\thtml += \"<th class='fc-week-number \" + headerClass + \"'/>\";                                                     // 2299\n\t\t}                                                                                                                // 2300\n                                                                                                                   // 2301\n\t\tfor (i=0; i<colCnt; i++) {                                                                                       // 2302\n\t\t\tcellDate = _cellDate(0, i); // a little confusing. cellDate is local variable. _cellDate is private function    // 2303\n\t\t\thtml += \"<th class='fc-day-header fc-\" + dayIDs[cellDate.getDay()] + \" \" + headerClass + \"'/>\";                 // 2304\n\t\t}                                                                                                                // 2305\n                                                                                                                   // 2306\n\t\thtml += \"</tr>\" +                                                                                                // 2307\n\t\t        \"</thead>\" +                                                                                             // 2308\n\t\t        \"<tbody>\";                                                                                               // 2309\n                                                                                                                   // 2310\n\t\tfor (i=0; i<rowCnt; i++) {                                                                                       // 2311\n\t\t\thtml += \"<tr class='fc-week'>\";                                                                                 // 2312\n                                                                                                                   // 2313\n\t\t\tif (showWeekNumbers) {                                                                                          // 2314\n\t\t\t\thtml += \"<td class='fc-week-number \" + contentClass + \"'>\" +                                                   // 2315\n\t\t\t\t        \"<div/>\" +                                                                                             // 2316\n\t\t\t\t        \"</td>\";                                                                                               // 2317\n\t\t\t}                                                                                                               // 2318\n                                                                                                                   // 2319\n\t\t\tfor (j=0; j<colCnt; j++) {                                                                                      // 2320\n\t\t\t\tcellDate = _cellDate(i, j); // a little confusing. cellDate is local variable. _cellDate is private function   // 2321\n                                                                                                                   // 2322\n\t\t\t\tcellClasses = [                                                                                                // 2323\n\t\t\t\t\t'fc-day',                                                                                                     // 2324\n\t\t\t\t\t'fc-' + dayIDs[cellDate.getDay()],                                                                            // 2325\n\t\t\t\t\tcontentClass                                                                                                  // 2326\n\t\t\t\t];                                                                                                             // 2327\n\t\t\t\tif (cellDate.getMonth() != month) {                                                                            // 2328\n\t\t\t\t\tcellClasses.push('fc-other-month');                                                                           // 2329\n\t\t\t\t}                                                                                                              // 2330\n\t\t\t\tif (+cellDate == +today) {                                                                                     // 2331\n\t\t\t\t\tcellClasses.push('fc-today');                                                                                 // 2332\n\t\t\t\t\tcellClasses.push(tm + '-state-highlight');                                                                    // 2333\n\t\t\t\t}                                                                                                              // 2334\n                                                                                                                   // 2335\n\t\t\t\thtml += \"<td\" +                                                                                                // 2336\n\t\t\t\t        \" class='\" + cellClasses.join(' ') + \"'\" +                                                             // 2337\n\t\t\t\t        \" data-date='\" + formatDate(cellDate, 'yyyy-MM-dd') + \"'\" +                                            // 2338\n\t\t\t\t        \">\" +                                                                                                  // 2339\n\t\t\t\t        \"<div>\";                                                                                               // 2340\n\t\t\t\tif (showNumbers) {                                                                                             // 2341\n\t\t\t\t\thtml += \"<div class='fc-day-number'>\" + cellDate.getDate() + \"</div>\";                                        // 2342\n\t\t\t\t}                                                                                                              // 2343\n\t\t\t\thtml += \"<div class='fc-day-content'>\" +                                                                       // 2344\n\t\t\t\t        \"<div style='position:relative'>&nbsp;</div>\" +                                                        // 2345\n\t\t\t\t        \"</div>\" +                                                                                             // 2346\n\t\t\t\t        \"</div>\" +                                                                                             // 2347\n\t\t\t\t        \"</td>\";                                                                                               // 2348\n\t\t\t}                                                                                                               // 2349\n                                                                                                                   // 2350\n\t\t\thtml += \"</tr>\";                                                                                                // 2351\n\t\t}                                                                                                                // 2352\n\t\thtml += \"</tbody>\" +                                                                                             // 2353\n\t\t        \"</table>\";                                                                                              // 2354\n                                                                                                                   // 2355\n\t\tlockHeight(); // the unlock happens later, in setHeight()...                                                     // 2356\n\t\tif (table) {                                                                                                     // 2357\n\t\t\ttable.remove();                                                                                                 // 2358\n\t\t}                                                                                                                // 2359\n\t\ttable = $(html).appendTo(element);                                                                               // 2360\n                                                                                                                   // 2361\n\t\thead = table.find('thead');                                                                                      // 2362\n\t\theadCells = head.find('.fc-day-header');                                                                         // 2363\n\t\tbody = table.find('tbody');                                                                                      // 2364\n\t\tbodyRows = body.find('tr');                                                                                      // 2365\n\t\tbodyCells = body.find('.fc-day');                                                                                // 2366\n\t\tbodyFirstCells = bodyRows.find('td:first-child');                                                                // 2367\n\t\tbodyCellTopInners = bodyRows.eq(0).find('.fc-day-content > div');                                                // 2368\n\t\t                                                                                                                 // 2369\n\t\tmarkFirstLast(head.add(head.find('tr'))); // marks first+last tr/th's                                            // 2370\n\t\tmarkFirstLast(bodyRows); // marks first+last td's                                                                // 2371\n\t\tbodyRows.eq(0).addClass('fc-first');                                                                             // 2372\n\t\tbodyRows.filter(':last').addClass('fc-last');                                                                    // 2373\n\t                                                                                                                  // 2374\n\t\tif (showWeekNumbers) {                                                                                           // 2375\n\t\t\thead.find('.fc-week-number').text(weekNumberTitle);                                                             // 2376\n\t\t}                                                                                                                // 2377\n                                                                                                                   // 2378\n\t\theadCells.each(function(i, _cell) {                                                                              // 2379\n\t\t\tvar date = indexDate(i);                                                                                        // 2380\n\t\t\t$(_cell).text(formatDate(date, colFormat));                                                                     // 2381\n\t\t});                                                                                                              // 2382\n                                                                                                                   // 2383\n\t\tif (showWeekNumbers) {                                                                                           // 2384\n\t\t\tbody.find('.fc-week-number > div').each(function(i, _cell) {                                                    // 2385\n\t\t\t\tvar weekStart = _cellDate(i, 0);                                                                               // 2386\n\t\t\t\t$(_cell).text(formatDate(weekStart, weekNumberFormat));                                                        // 2387\n\t\t\t});                                                                                                             // 2388\n\t\t}                                                                                                                // 2389\n\t\t                                                                                                                 // 2390\n\t\tbodyCells.each(function(i, _cell) {                                                                              // 2391\n\t\t\tvar date = indexDate(i);                                                                                        // 2392\n\t\t\ttrigger('dayRender', t, date, $(_cell));                                                                        // 2393\n\t\t});                                                                                                              // 2394\n                                                                                                                   // 2395\n\t\tdayBind(bodyCells);                                                                                              // 2396\n\t}                                                                                                                 // 2397\n\t                                                                                                                  // 2398\n\t                                                                                                                  // 2399\n\t                                                                                                                  // 2400\n\tfunction setHeight(height) {                                                                                      // 2401\n\t\tviewHeight = height;                                                                                             // 2402\n\t\t                                                                                                                 // 2403\n\t\tvar bodyHeight = viewHeight - head.height();                                                                     // 2404\n\t\tvar rowHeight;                                                                                                   // 2405\n\t\tvar rowHeightLast;                                                                                               // 2406\n\t\tvar cell;                                                                                                        // 2407\n\t\t\t                                                                                                                // 2408\n\t\tif (opt('weekMode') == 'variable') {                                                                             // 2409\n\t\t\trowHeight = rowHeightLast = Math.floor(bodyHeight / (rowCnt==1 ? 2 : 6));                                       // 2410\n\t\t}else{                                                                                                           // 2411\n\t\t\trowHeight = Math.floor(bodyHeight / rowCnt);                                                                    // 2412\n\t\t\trowHeightLast = bodyHeight - rowHeight * (rowCnt-1);                                                            // 2413\n\t\t}                                                                                                                // 2414\n\t\t                                                                                                                 // 2415\n\t\tbodyFirstCells.each(function(i, _cell) {                                                                         // 2416\n\t\t\tif (i < rowCnt) {                                                                                               // 2417\n\t\t\t\tcell = $(_cell);                                                                                               // 2418\n\t\t\t\tsetMinHeight(                                                                                                  // 2419\n\t\t\t\t\tcell.find('> div'),                                                                                           // 2420\n\t\t\t\t\t(i==rowCnt-1 ? rowHeightLast : rowHeight) - vsides(cell)                                                      // 2421\n\t\t\t\t);                                                                                                             // 2422\n\t\t\t}                                                                                                               // 2423\n\t\t});                                                                                                              // 2424\n\t\t                                                                                                                 // 2425\n\t\tunlockHeight();                                                                                                  // 2426\n\t}                                                                                                                 // 2427\n\t                                                                                                                  // 2428\n\t                                                                                                                  // 2429\n\tfunction setWidth(width) {                                                                                        // 2430\n\t\tviewWidth = width;                                                                                               // 2431\n\t\tcolContentPositions.clear();                                                                                     // 2432\n                                                                                                                   // 2433\n\t\tweekNumberWidth = 0;                                                                                             // 2434\n\t\tif (showWeekNumbers) {                                                                                           // 2435\n\t\t\tweekNumberWidth = head.find('th.fc-week-number').outerWidth();                                                  // 2436\n\t\t}                                                                                                                // 2437\n                                                                                                                   // 2438\n\t\tcolWidth = Math.floor((viewWidth - weekNumberWidth) / colCnt);                                                   // 2439\n\t\tsetOuterWidth(headCells.slice(0, -1), colWidth);                                                                 // 2440\n\t}                                                                                                                 // 2441\n\t                                                                                                                  // 2442\n\t                                                                                                                  // 2443\n\t                                                                                                                  // 2444\n\t/* Day clicking and binding                                                                                       // 2445\n\t-----------------------------------------------------------*/                                                     // 2446\n\t                                                                                                                  // 2447\n\t                                                                                                                  // 2448\n\tfunction dayBind(days) {                                                                                          // 2449\n\t\tdays.click(dayClick)                                                                                             // 2450\n\t\t\t.mousedown(daySelectionMousedown);                                                                              // 2451\n\t}                                                                                                                 // 2452\n\t                                                                                                                  // 2453\n\t                                                                                                                  // 2454\n\tfunction dayClick(ev) {                                                                                           // 2455\n\t\tif (!opt('selectable')) { // if selectable, SelectionManager will worry about dayClick                           // 2456\n\t\t\tvar date = parseISO8601($(this).data('date'));                                                                  // 2457\n\t\t\ttrigger('dayClick', this, date, true, ev);                                                                      // 2458\n\t\t}                                                                                                                // 2459\n\t}                                                                                                                 // 2460\n\t                                                                                                                  // 2461\n\t                                                                                                                  // 2462\n\t                                                                                                                  // 2463\n\t/* Semi-transparent Overlay Helpers                                                                               // 2464\n\t------------------------------------------------------*/                                                          // 2465\n\t                                                                                                                  // 2466\n\t                                                                                                                  // 2467\n\tfunction renderDayOverlay(overlayStart, overlayEnd, refreshCoordinateGrid) { // overlayEnd is exclusive           // 2468\n\t\tif (refreshCoordinateGrid) {                                                                                     // 2469\n\t\t\tcoordinateGrid.build();                                                                                         // 2470\n\t\t}                                                                                                                // 2471\n\t\tvar rowStart = cloneDate(t.visStart);                                                                            // 2472\n\t\tvar rowEnd = addDays(cloneDate(rowStart), colCnt);                                                               // 2473\n\t\tfor (var i=0; i<rowCnt; i++) {                                                                                   // 2474\n\t\t\tvar stretchStart = new Date(Math.max(rowStart, overlayStart));                                                  // 2475\n\t\t\tvar stretchEnd = new Date(Math.min(rowEnd, overlayEnd));                                                        // 2476\n\t\t\tif (stretchStart < stretchEnd) {                                                                                // 2477\n\t\t\t\tvar colStart, colEnd;                                                                                          // 2478\n\t\t\t\tif (rtl) {                                                                                                     // 2479\n\t\t\t\t\tcolStart = dayDiff(stretchEnd, rowStart)*dis+dit+1;                                                           // 2480\n\t\t\t\t\tcolEnd = dayDiff(stretchStart, rowStart)*dis+dit+1;                                                           // 2481\n\t\t\t\t}else{                                                                                                         // 2482\n\t\t\t\t\tcolStart = dayDiff(stretchStart, rowStart);                                                                   // 2483\n\t\t\t\t\tcolEnd = dayDiff(stretchEnd, rowStart);                                                                       // 2484\n\t\t\t\t}                                                                                                              // 2485\n\t\t\t\tdayBind(                                                                                                       // 2486\n\t\t\t\t\trenderCellOverlay(i, colStart, i, colEnd-1)                                                                   // 2487\n\t\t\t\t);                                                                                                             // 2488\n\t\t\t}                                                                                                               // 2489\n\t\t\taddDays(rowStart, 7);                                                                                           // 2490\n\t\t\taddDays(rowEnd, 7);                                                                                             // 2491\n\t\t}                                                                                                                // 2492\n\t}                                                                                                                 // 2493\n\t                                                                                                                  // 2494\n\t                                                                                                                  // 2495\n\tfunction renderCellOverlay(row0, col0, row1, col1) { // row1,col1 is inclusive                                    // 2496\n\t\tvar rect = coordinateGrid.rect(row0, col0, row1, col1, element);                                                 // 2497\n\t\treturn renderOverlay(rect, element);                                                                             // 2498\n\t}                                                                                                                 // 2499\n\t                                                                                                                  // 2500\n\t                                                                                                                  // 2501\n\t                                                                                                                  // 2502\n\t/* Selection                                                                                                      // 2503\n\t-----------------------------------------------------------------------*/                                         // 2504\n\t                                                                                                                  // 2505\n\t                                                                                                                  // 2506\n\tfunction defaultSelectionEnd(startDate, allDay) {                                                                 // 2507\n\t\treturn cloneDate(startDate);                                                                                     // 2508\n\t}                                                                                                                 // 2509\n\t                                                                                                                  // 2510\n\t                                                                                                                  // 2511\n\tfunction renderSelection(startDate, endDate, allDay) {                                                            // 2512\n\t\trenderDayOverlay(startDate, addDays(cloneDate(endDate), 1), true); // rebuild every time???                      // 2513\n\t}                                                                                                                 // 2514\n\t                                                                                                                  // 2515\n\t                                                                                                                  // 2516\n\tfunction clearSelection() {                                                                                       // 2517\n\t\tclearOverlays();                                                                                                 // 2518\n\t}                                                                                                                 // 2519\n\t                                                                                                                  // 2520\n\t                                                                                                                  // 2521\n\tfunction reportDayClick(date, allDay, ev) {                                                                       // 2522\n\t\tvar cell = dateCell(date);                                                                                       // 2523\n\t\tvar _element = bodyCells[cell.row*colCnt + cell.col];                                                            // 2524\n\t\ttrigger('dayClick', _element, date, allDay, ev);                                                                 // 2525\n\t}                                                                                                                 // 2526\n\t                                                                                                                  // 2527\n\t                                                                                                                  // 2528\n\t                                                                                                                  // 2529\n\t/* External Dragging                                                                                              // 2530\n\t-----------------------------------------------------------------------*/                                         // 2531\n\t                                                                                                                  // 2532\n\t                                                                                                                  // 2533\n\tfunction dragStart(_dragElement, ev, ui) {                                                                        // 2534\n\t\thoverListener.start(function(cell) {                                                                             // 2535\n\t\t\tclearOverlays();                                                                                                // 2536\n\t\t\tif (cell) {                                                                                                     // 2537\n\t\t\t\trenderCellOverlay(cell.row, cell.col, cell.row, cell.col);                                                     // 2538\n\t\t\t}                                                                                                               // 2539\n\t\t}, ev);                                                                                                          // 2540\n\t}                                                                                                                 // 2541\n\t                                                                                                                  // 2542\n\t                                                                                                                  // 2543\n\tfunction dragStop(_dragElement, ev, ui) {                                                                         // 2544\n\t\tvar cell = hoverListener.stop();                                                                                 // 2545\n\t\tclearOverlays();                                                                                                 // 2546\n\t\tif (cell) {                                                                                                      // 2547\n\t\t\tvar d = cellDate(cell);                                                                                         // 2548\n\t\t\ttrigger('drop', _dragElement, d, true, ev, ui);                                                                 // 2549\n\t\t}                                                                                                                // 2550\n\t}                                                                                                                 // 2551\n\t                                                                                                                  // 2552\n\t                                                                                                                  // 2553\n\t                                                                                                                  // 2554\n\t/* Utilities                                                                                                      // 2555\n\t--------------------------------------------------------*/                                                        // 2556\n\t                                                                                                                  // 2557\n\t                                                                                                                  // 2558\n\tfunction defaultEventEnd(event) {                                                                                 // 2559\n\t\treturn cloneDate(event.start);                                                                                   // 2560\n\t}                                                                                                                 // 2561\n\t                                                                                                                  // 2562\n\t                                                                                                                  // 2563\n\tcoordinateGrid = new CoordinateGrid(function(rows, cols) {                                                        // 2564\n\t\tvar e, n, p;                                                                                                     // 2565\n\t\theadCells.each(function(i, _e) {                                                                                 // 2566\n\t\t\te = $(_e);                                                                                                      // 2567\n\t\t\tn = e.offset().left;                                                                                            // 2568\n\t\t\tif (i) {                                                                                                        // 2569\n\t\t\t\tp[1] = n;                                                                                                      // 2570\n\t\t\t}                                                                                                               // 2571\n\t\t\tp = [n];                                                                                                        // 2572\n\t\t\tcols[i] = p;                                                                                                    // 2573\n\t\t});                                                                                                              // 2574\n\t\tp[1] = n + e.outerWidth();                                                                                       // 2575\n\t\tbodyRows.each(function(i, _e) {                                                                                  // 2576\n\t\t\tif (i < rowCnt) {                                                                                               // 2577\n\t\t\t\te = $(_e);                                                                                                     // 2578\n\t\t\t\tn = e.offset().top;                                                                                            // 2579\n\t\t\t\tif (i) {                                                                                                       // 2580\n\t\t\t\t\tp[1] = n;                                                                                                     // 2581\n\t\t\t\t}                                                                                                              // 2582\n\t\t\t\tp = [n];                                                                                                       // 2583\n\t\t\t\trows[i] = p;                                                                                                   // 2584\n\t\t\t}                                                                                                               // 2585\n\t\t});                                                                                                              // 2586\n\t\tp[1] = n + e.outerHeight();                                                                                      // 2587\n\t});                                                                                                               // 2588\n\t                                                                                                                  // 2589\n\t                                                                                                                  // 2590\n\thoverListener = new HoverListener(coordinateGrid);                                                                // 2591\n\t                                                                                                                  // 2592\n\t                                                                                                                  // 2593\n\tcolContentPositions = new HorizontalPositionCache(function(col) {                                                 // 2594\n\t\treturn bodyCellTopInners.eq(col);                                                                                // 2595\n\t});                                                                                                               // 2596\n\t                                                                                                                  // 2597\n\t                                                                                                                  // 2598\n\tfunction colContentLeft(col) {                                                                                    // 2599\n\t\treturn colContentPositions.left(col);                                                                            // 2600\n\t}                                                                                                                 // 2601\n\t                                                                                                                  // 2602\n\t                                                                                                                  // 2603\n\tfunction colContentRight(col) {                                                                                   // 2604\n\t\treturn colContentPositions.right(col);                                                                           // 2605\n\t}                                                                                                                 // 2606\n\t                                                                                                                  // 2607\n\t                                                                                                                  // 2608\n\t                                                                                                                  // 2609\n\t                                                                                                                  // 2610\n\tfunction dateCell(date) {                                                                                         // 2611\n\t\treturn {                                                                                                         // 2612\n\t\t\trow: Math.floor(dayDiff(date, t.visStart) / 7),                                                                 // 2613\n\t\t\tcol: dayOfWeekCol(date.getDay())                                                                                // 2614\n\t\t};                                                                                                               // 2615\n\t}                                                                                                                 // 2616\n\t                                                                                                                  // 2617\n\t                                                                                                                  // 2618\n\tfunction cellDate(cell) {                                                                                         // 2619\n\t\treturn _cellDate(cell.row, cell.col);                                                                            // 2620\n\t}                                                                                                                 // 2621\n\t                                                                                                                  // 2622\n\t                                                                                                                  // 2623\n\tfunction _cellDate(row, col) {                                                                                    // 2624\n\t\treturn addDays(cloneDate(t.visStart), row*7 + col*dis+dit);                                                      // 2625\n\t\t// what about weekends in middle of week?                                                                        // 2626\n\t}                                                                                                                 // 2627\n\t                                                                                                                  // 2628\n\t                                                                                                                  // 2629\n\tfunction indexDate(index) {                                                                                       // 2630\n\t\treturn _cellDate(Math.floor(index/colCnt), index%colCnt);                                                        // 2631\n\t}                                                                                                                 // 2632\n\t                                                                                                                  // 2633\n\t                                                                                                                  // 2634\n\tfunction dayOfWeekCol(dayOfWeek) {                                                                                // 2635\n\t\treturn ((dayOfWeek - Math.max(firstDay, nwe) + colCnt) % colCnt) * dis + dit;                                    // 2636\n\t}                                                                                                                 // 2637\n\t                                                                                                                  // 2638\n\t                                                                                                                  // 2639\n\t                                                                                                                  // 2640\n\t                                                                                                                  // 2641\n\tfunction allDayRow(i) {                                                                                           // 2642\n\t\treturn bodyRows.eq(i);                                                                                           // 2643\n\t}                                                                                                                 // 2644\n\t                                                                                                                  // 2645\n\t                                                                                                                  // 2646\n\tfunction allDayBounds(i) {                                                                                        // 2647\n\t\tvar left = 0;                                                                                                    // 2648\n\t\tif (showWeekNumbers) {                                                                                           // 2649\n\t\t\tleft += weekNumberWidth;                                                                                        // 2650\n\t\t}                                                                                                                // 2651\n\t\treturn {                                                                                                         // 2652\n\t\t\tleft: left,                                                                                                     // 2653\n\t\t\tright: viewWidth                                                                                                // 2654\n\t\t};                                                                                                               // 2655\n\t}                                                                                                                 // 2656\n                                                                                                                   // 2657\n                                                                                                                   // 2658\n                                                                                                                   // 2659\n\t// makes sure height doesn't collapse while we destroy/render new cells                                           // 2660\n\t// (this causes a bad end-user scrollbar jump)                                                                    // 2661\n\t// TODO: generalize this for all view rendering. (also in Calendar.js)                                            // 2662\n                                                                                                                   // 2663\n\tfunction lockHeight() {                                                                                           // 2664\n\t\tsetMinHeight(element, element.height());                                                                         // 2665\n\t}                                                                                                                 // 2666\n                                                                                                                   // 2667\n\tfunction unlockHeight() {                                                                                         // 2668\n\t\tsetMinHeight(element, 1);                                                                                        // 2669\n\t}                                                                                                                 // 2670\n\t                                                                                                                  // 2671\n}                                                                                                                  // 2672\n                                                                                                                   // 2673\n;;                                                                                                                 // 2674\n                                                                                                                   // 2675\nfunction BasicEventRenderer() {                                                                                    // 2676\n\tvar t = this;                                                                                                     // 2677\n\t                                                                                                                  // 2678\n\t                                                                                                                  // 2679\n\t// exports                                                                                                        // 2680\n\tt.renderEvents = renderEvents;                                                                                    // 2681\n\tt.compileDaySegs = compileSegs; // for DayEventRenderer                                                           // 2682\n\tt.clearEvents = clearEvents;                                                                                      // 2683\n\tt.bindDaySeg = bindDaySeg;                                                                                        // 2684\n\t                                                                                                                  // 2685\n\t                                                                                                                  // 2686\n\t// imports                                                                                                        // 2687\n\tDayEventRenderer.call(t);                                                                                         // 2688\n\tvar opt = t.opt;                                                                                                  // 2689\n\tvar trigger = t.trigger;                                                                                          // 2690\n\t//var setOverflowHidden = t.setOverflowHidden;                                                                    // 2691\n\tvar isEventDraggable = t.isEventDraggable;                                                                        // 2692\n\tvar isEventResizable = t.isEventResizable;                                                                        // 2693\n\tvar reportEvents = t.reportEvents;                                                                                // 2694\n\tvar reportEventClear = t.reportEventClear;                                                                        // 2695\n\tvar eventElementHandlers = t.eventElementHandlers;                                                                // 2696\n\tvar showEvents = t.showEvents;                                                                                    // 2697\n\tvar hideEvents = t.hideEvents;                                                                                    // 2698\n\tvar eventDrop = t.eventDrop;                                                                                      // 2699\n\tvar getDaySegmentContainer = t.getDaySegmentContainer;                                                            // 2700\n\tvar getHoverListener = t.getHoverListener;                                                                        // 2701\n\tvar renderDayOverlay = t.renderDayOverlay;                                                                        // 2702\n\tvar clearOverlays = t.clearOverlays;                                                                              // 2703\n\tvar getRowCnt = t.getRowCnt;                                                                                      // 2704\n\tvar getColCnt = t.getColCnt;                                                                                      // 2705\n\tvar renderDaySegs = t.renderDaySegs;                                                                              // 2706\n\tvar resizableDayEvent = t.resizableDayEvent;                                                                      // 2707\n\t                                                                                                                  // 2708\n\t                                                                                                                  // 2709\n\t                                                                                                                  // 2710\n\t/* Rendering                                                                                                      // 2711\n\t--------------------------------------------------------------------*/                                            // 2712\n\t                                                                                                                  // 2713\n\t                                                                                                                  // 2714\n\tfunction renderEvents(events, modifiedEventId) {                                                                  // 2715\n\t\treportEvents(events);                                                                                            // 2716\n\t\trenderDaySegs(compileSegs(events), modifiedEventId);                                                             // 2717\n\t\ttrigger('eventAfterAllRender');                                                                                  // 2718\n\t}                                                                                                                 // 2719\n\t                                                                                                                  // 2720\n\t                                                                                                                  // 2721\n\tfunction clearEvents() {                                                                                          // 2722\n\t\treportEventClear();                                                                                              // 2723\n\t\tgetDaySegmentContainer().empty();                                                                                // 2724\n\t}                                                                                                                 // 2725\n\t                                                                                                                  // 2726\n\t                                                                                                                  // 2727\n\tfunction compileSegs(events) {                                                                                    // 2728\n\t\tvar rowCnt = getRowCnt(),                                                                                        // 2729\n\t\t\tcolCnt = getColCnt(),                                                                                           // 2730\n\t\t\td1 = cloneDate(t.visStart),                                                                                     // 2731\n\t\t\td2 = addDays(cloneDate(d1), colCnt),                                                                            // 2732\n\t\t\tvisEventsEnds = $.map(events, exclEndDay),                                                                      // 2733\n\t\t\ti, row,                                                                                                         // 2734\n\t\t\tj, level,                                                                                                       // 2735\n\t\t\tk, seg,                                                                                                         // 2736\n\t\t\tsegs=[];                                                                                                        // 2737\n\t\tfor (i=0; i<rowCnt; i++) {                                                                                       // 2738\n\t\t\trow = stackSegs(sliceSegs(events, visEventsEnds, d1, d2));                                                      // 2739\n\t\t\tfor (j=0; j<row.length; j++) {                                                                                  // 2740\n\t\t\t\tlevel = row[j];                                                                                                // 2741\n\t\t\t\tfor (k=0; k<level.length; k++) {                                                                               // 2742\n\t\t\t\t\tseg = level[k];                                                                                               // 2743\n\t\t\t\t\tseg.row = i;                                                                                                  // 2744\n\t\t\t\t\tseg.level = j; // not needed anymore                                                                          // 2745\n\t\t\t\t\tsegs.push(seg);                                                                                               // 2746\n\t\t\t\t}                                                                                                              // 2747\n\t\t\t}                                                                                                               // 2748\n\t\t\taddDays(d1, 7);                                                                                                 // 2749\n\t\t\taddDays(d2, 7);                                                                                                 // 2750\n\t\t}                                                                                                                // 2751\n\t\treturn segs;                                                                                                     // 2752\n\t}                                                                                                                 // 2753\n\t                                                                                                                  // 2754\n\t                                                                                                                  // 2755\n\tfunction bindDaySeg(event, eventElement, seg) {                                                                   // 2756\n\t\tif (isEventDraggable(event)) {                                                                                   // 2757\n\t\t\tdraggableDayEvent(event, eventElement);                                                                         // 2758\n\t\t}                                                                                                                // 2759\n\t\tif (seg.isEnd && isEventResizable(event)) {                                                                      // 2760\n\t\t\tresizableDayEvent(event, eventElement, seg);                                                                    // 2761\n\t\t}                                                                                                                // 2762\n\t\teventElementHandlers(event, eventElement);                                                                       // 2763\n\t\t\t// needs to be after, because resizableDayEvent might stopImmediatePropagation on click                         // 2764\n\t}                                                                                                                 // 2765\n\t                                                                                                                  // 2766\n\t                                                                                                                  // 2767\n\t                                                                                                                  // 2768\n\t/* Dragging                                                                                                       // 2769\n\t----------------------------------------------------------------------------*/                                    // 2770\n\t                                                                                                                  // 2771\n\t                                                                                                                  // 2772\n\tfunction draggableDayEvent(event, eventElement) {                                                                 // 2773\n\t\tvar hoverListener = getHoverListener();                                                                          // 2774\n\t\tvar dayDelta;                                                                                                    // 2775\n\t\teventElement.draggable({                                                                                         // 2776\n\t\t\tzIndex: 9,                                                                                                      // 2777\n\t\t\tdelay: 50,                                                                                                      // 2778\n\t\t\topacity: opt('dragOpacity'),                                                                                    // 2779\n\t\t\trevertDuration: opt('dragRevertDuration'),                                                                      // 2780\n\t\t\tstart: function(ev, ui) {                                                                                       // 2781\n\t\t\t\ttrigger('eventDragStart', eventElement, event, ev, ui);                                                        // 2782\n\t\t\t\thideEvents(event, eventElement);                                                                               // 2783\n\t\t\t\thoverListener.start(function(cell, origCell, rowDelta, colDelta) {                                             // 2784\n\t\t\t\t\teventElement.draggable('option', 'revert', !cell || !rowDelta && !colDelta);                                  // 2785\n\t\t\t\t\tclearOverlays();                                                                                              // 2786\n\t\t\t\t\tif (cell) {                                                                                                   // 2787\n\t\t\t\t\t\t//setOverflowHidden(true);                                                                                   // 2788\n\t\t\t\t\t\tdayDelta = rowDelta*7 + colDelta * (opt('isRTL') ? -1 : 1);                                                  // 2789\n\t\t\t\t\t\trenderDayOverlay(                                                                                            // 2790\n\t\t\t\t\t\t\taddDays(cloneDate(event.start), dayDelta),                                                                  // 2791\n\t\t\t\t\t\t\taddDays(exclEndDay(event), dayDelta)                                                                        // 2792\n\t\t\t\t\t\t);                                                                                                           // 2793\n\t\t\t\t\t}else{                                                                                                        // 2794\n\t\t\t\t\t\t//setOverflowHidden(false);                                                                                  // 2795\n\t\t\t\t\t\tdayDelta = 0;                                                                                                // 2796\n\t\t\t\t\t}                                                                                                             // 2797\n\t\t\t\t}, ev, 'drag');                                                                                                // 2798\n\t\t\t},                                                                                                              // 2799\n\t\t\tstop: function(ev, ui) {                                                                                        // 2800\n\t\t\t\thoverListener.stop();                                                                                          // 2801\n\t\t\t\tclearOverlays();                                                                                               // 2802\n\t\t\t\ttrigger('eventDragStop', eventElement, event, ev, ui);                                                         // 2803\n\t\t\t\tif (dayDelta) {                                                                                                // 2804\n\t\t\t\t\teventDrop(this, event, dayDelta, 0, event.allDay, ev, ui);                                                    // 2805\n\t\t\t\t}else{                                                                                                         // 2806\n\t\t\t\t\teventElement.css('filter', ''); // clear IE opacity side-effects                                              // 2807\n\t\t\t\t\tshowEvents(event, eventElement);                                                                              // 2808\n\t\t\t\t}                                                                                                              // 2809\n\t\t\t\t//setOverflowHidden(false);                                                                                    // 2810\n\t\t\t}                                                                                                               // 2811\n\t\t});                                                                                                              // 2812\n\t}                                                                                                                 // 2813\n                                                                                                                   // 2814\n                                                                                                                   // 2815\n}                                                                                                                  // 2816\n                                                                                                                   // 2817\n;;                                                                                                                 // 2818\n                                                                                                                   // 2819\nfcViews.agendaWeek = AgendaWeekView;                                                                               // 2820\n                                                                                                                   // 2821\nfunction AgendaWeekView(element, calendar) {                                                                       // 2822\n\tvar t = this;                                                                                                     // 2823\n\t                                                                                                                  // 2824\n\t                                                                                                                  // 2825\n\t// exports                                                                                                        // 2826\n\tt.render = render;                                                                                                // 2827\n\t                                                                                                                  // 2828\n\t                                                                                                                  // 2829\n\t// imports                                                                                                        // 2830\n\tAgendaView.call(t, element, calendar, 'agendaWeek');                                                              // 2831\n\tvar opt = t.opt;                                                                                                  // 2832\n\tvar renderAgenda = t.renderAgenda;                                                                                // 2833\n\tvar formatDates = calendar.formatDates;                                                                           // 2834\n\t                                                                                                                  // 2835\n\t                                                                                                                  // 2836\n\t                                                                                                                  // 2837\n\tfunction render(date, delta) {                                                                                    // 2838\n\t\tif (delta) {                                                                                                     // 2839\n\t\t\taddDays(date, delta * 7);                                                                                       // 2840\n\t\t}                                                                                                                // 2841\n\t\tvar start = addDays(cloneDate(date), -((date.getDay() - opt('firstDay') + 7) % 7));                              // 2842\n\t\tvar end = addDays(cloneDate(start), 7);                                                                          // 2843\n\t\tvar visStart = cloneDate(start);                                                                                 // 2844\n\t\tvar visEnd = cloneDate(end);                                                                                     // 2845\n\t\tvar weekends = opt('weekends');                                                                                  // 2846\n\t\tif (!weekends) {                                                                                                 // 2847\n\t\t\tskipWeekend(visStart);                                                                                          // 2848\n\t\t\tskipWeekend(visEnd, -1, true);                                                                                  // 2849\n\t\t}                                                                                                                // 2850\n\t\tt.title = formatDates(                                                                                           // 2851\n\t\t\tvisStart,                                                                                                       // 2852\n\t\t\taddDays(cloneDate(visEnd), -1),                                                                                 // 2853\n\t\t\topt('titleFormat')                                                                                              // 2854\n\t\t);                                                                                                               // 2855\n\t\tt.start = start;                                                                                                 // 2856\n\t\tt.end = end;                                                                                                     // 2857\n\t\tt.visStart = visStart;                                                                                           // 2858\n\t\tt.visEnd = visEnd;                                                                                               // 2859\n\t\trenderAgenda(weekends ? 7 : 5);                                                                                  // 2860\n\t}                                                                                                                 // 2861\n\t                                                                                                                  // 2862\n                                                                                                                   // 2863\n}                                                                                                                  // 2864\n                                                                                                                   // 2865\n;;                                                                                                                 // 2866\n                                                                                                                   // 2867\nfcViews.agendaDay = AgendaDayView;                                                                                 // 2868\n                                                                                                                   // 2869\nfunction AgendaDayView(element, calendar) {                                                                        // 2870\n\tvar t = this;                                                                                                     // 2871\n\t                                                                                                                  // 2872\n\t                                                                                                                  // 2873\n\t// exports                                                                                                        // 2874\n\tt.render = render;                                                                                                // 2875\n\t                                                                                                                  // 2876\n\t                                                                                                                  // 2877\n\t// imports                                                                                                        // 2878\n\tAgendaView.call(t, element, calendar, 'agendaDay');                                                               // 2879\n\tvar opt = t.opt;                                                                                                  // 2880\n\tvar renderAgenda = t.renderAgenda;                                                                                // 2881\n\tvar formatDate = calendar.formatDate;                                                                             // 2882\n\t                                                                                                                  // 2883\n\t                                                                                                                  // 2884\n\t                                                                                                                  // 2885\n\tfunction render(date, delta) {                                                                                    // 2886\n\t\tif (delta) {                                                                                                     // 2887\n\t\t\taddDays(date, delta);                                                                                           // 2888\n\t\t\tif (!opt('weekends')) {                                                                                         // 2889\n\t\t\t\tskipWeekend(date, delta < 0 ? -1 : 1);                                                                         // 2890\n\t\t\t}                                                                                                               // 2891\n\t\t}                                                                                                                // 2892\n\t\tvar start = cloneDate(date, true);                                                                               // 2893\n\t\tvar end = addDays(cloneDate(start), 1);                                                                          // 2894\n\t\tt.title = formatDate(date, opt('titleFormat'));                                                                  // 2895\n\t\tt.start = t.visStart = start;                                                                                    // 2896\n\t\tt.end = t.visEnd = end;                                                                                          // 2897\n\t\trenderAgenda(1);                                                                                                 // 2898\n\t}                                                                                                                 // 2899\n\t                                                                                                                  // 2900\n                                                                                                                   // 2901\n}                                                                                                                  // 2902\n                                                                                                                   // 2903\n;;                                                                                                                 // 2904\n                                                                                                                   // 2905\nsetDefaults({                                                                                                      // 2906\n\tallDaySlot: true,                                                                                                 // 2907\n\tallDayText: 'all-day',                                                                                            // 2908\n\tfirstHour: 6,                                                                                                     // 2909\n\tslotMinutes: 30,                                                                                                  // 2910\n\tdefaultEventMinutes: 120,                                                                                         // 2911\n\taxisFormat: 'h(:mm)tt',                                                                                           // 2912\n\ttimeFormat: {                                                                                                     // 2913\n\t\tagenda: 'h:mm{ - h:mm}'                                                                                          // 2914\n\t},                                                                                                                // 2915\n\tdragOpacity: {                                                                                                    // 2916\n\t\tagenda: .5                                                                                                       // 2917\n\t},                                                                                                                // 2918\n\tminTime: 0,                                                                                                       // 2919\n\tmaxTime: 24                                                                                                       // 2920\n});                                                                                                                // 2921\n                                                                                                                   // 2922\n                                                                                                                   // 2923\n// TODO: make it work in quirks mode (event corners, all-day height)                                               // 2924\n// TODO: test liquid width, especially in IE6                                                                      // 2925\n                                                                                                                   // 2926\n                                                                                                                   // 2927\nfunction AgendaView(element, calendar, viewName) {                                                                 // 2928\n\tvar t = this;                                                                                                     // 2929\n\t                                                                                                                  // 2930\n\t                                                                                                                  // 2931\n\t// exports                                                                                                        // 2932\n\tt.renderAgenda = renderAgenda;                                                                                    // 2933\n\tt.setWidth = setWidth;                                                                                            // 2934\n\tt.setHeight = setHeight;                                                                                          // 2935\n\tt.beforeHide = beforeHide;                                                                                        // 2936\n\tt.afterShow = afterShow;                                                                                          // 2937\n\tt.defaultEventEnd = defaultEventEnd;                                                                              // 2938\n\tt.timePosition = timePosition;                                                                                    // 2939\n\tt.dayOfWeekCol = dayOfWeekCol;                                                                                    // 2940\n\tt.dateCell = dateCell;                                                                                            // 2941\n\tt.cellDate = cellDate;                                                                                            // 2942\n\tt.cellIsAllDay = cellIsAllDay;                                                                                    // 2943\n\tt.allDayRow = getAllDayRow;                                                                                       // 2944\n\tt.allDayBounds = allDayBounds;                                                                                    // 2945\n\tt.getHoverListener = function() { return hoverListener };                                                         // 2946\n\tt.colContentLeft = colContentLeft;                                                                                // 2947\n\tt.colContentRight = colContentRight;                                                                              // 2948\n\tt.getDaySegmentContainer = function() { return daySegmentContainer };                                             // 2949\n\tt.getSlotSegmentContainer = function() { return slotSegmentContainer };                                           // 2950\n\tt.getMinMinute = function() { return minMinute };                                                                 // 2951\n\tt.getMaxMinute = function() { return maxMinute };                                                                 // 2952\n\tt.getBodyContent = function() { return slotContent }; // !!??                                                     // 2953\n\tt.getRowCnt = function() { return 1 };                                                                            // 2954\n\tt.getColCnt = function() { return colCnt };                                                                       // 2955\n\tt.getColWidth = function() { return colWidth };                                                                   // 2956\n\tt.getSnapHeight = function() { return snapHeight };                                                               // 2957\n\tt.getSnapMinutes = function() { return snapMinutes };                                                             // 2958\n\tt.defaultSelectionEnd = defaultSelectionEnd;                                                                      // 2959\n\tt.renderDayOverlay = renderDayOverlay;                                                                            // 2960\n\tt.renderSelection = renderSelection;                                                                              // 2961\n\tt.clearSelection = clearSelection;                                                                                // 2962\n\tt.reportDayClick = reportDayClick; // selection mousedown hack                                                    // 2963\n\tt.dragStart = dragStart;                                                                                          // 2964\n\tt.dragStop = dragStop;                                                                                            // 2965\n\t                                                                                                                  // 2966\n\t                                                                                                                  // 2967\n\t// imports                                                                                                        // 2968\n\tView.call(t, element, calendar, viewName);                                                                        // 2969\n\tOverlayManager.call(t);                                                                                           // 2970\n\tSelectionManager.call(t);                                                                                         // 2971\n\tAgendaEventRenderer.call(t);                                                                                      // 2972\n\tvar opt = t.opt;                                                                                                  // 2973\n\tvar trigger = t.trigger;                                                                                          // 2974\n\tvar clearEvents = t.clearEvents;                                                                                  // 2975\n\tvar renderOverlay = t.renderOverlay;                                                                              // 2976\n\tvar clearOverlays = t.clearOverlays;                                                                              // 2977\n\tvar reportSelection = t.reportSelection;                                                                          // 2978\n\tvar unselect = t.unselect;                                                                                        // 2979\n\tvar daySelectionMousedown = t.daySelectionMousedown;                                                              // 2980\n\tvar slotSegHtml = t.slotSegHtml;                                                                                  // 2981\n\tvar formatDate = calendar.formatDate;                                                                             // 2982\n\t                                                                                                                  // 2983\n\t                                                                                                                  // 2984\n\t// locals                                                                                                         // 2985\n\t                                                                                                                  // 2986\n\tvar dayTable;                                                                                                     // 2987\n\tvar dayHead;                                                                                                      // 2988\n\tvar dayHeadCells;                                                                                                 // 2989\n\tvar dayBody;                                                                                                      // 2990\n\tvar dayBodyCells;                                                                                                 // 2991\n\tvar dayBodyCellInners;                                                                                            // 2992\n\tvar dayBodyFirstCell;                                                                                             // 2993\n\tvar dayBodyFirstCellStretcher;                                                                                    // 2994\n\tvar slotLayer;                                                                                                    // 2995\n\tvar daySegmentContainer;                                                                                          // 2996\n\tvar allDayTable;                                                                                                  // 2997\n\tvar allDayRow;                                                                                                    // 2998\n\tvar slotScroller;                                                                                                 // 2999\n\tvar slotContent;                                                                                                  // 3000\n\tvar slotSegmentContainer;                                                                                         // 3001\n\tvar slotTable;                                                                                                    // 3002\n\tvar slotTableFirstInner;                                                                                          // 3003\n\tvar axisFirstCells;                                                                                               // 3004\n\tvar gutterCells;                                                                                                  // 3005\n\tvar selectionHelper;                                                                                              // 3006\n\t                                                                                                                  // 3007\n\tvar viewWidth;                                                                                                    // 3008\n\tvar viewHeight;                                                                                                   // 3009\n\tvar axisWidth;                                                                                                    // 3010\n\tvar colWidth;                                                                                                     // 3011\n\tvar gutterWidth;                                                                                                  // 3012\n\tvar slotHeight; // TODO: what if slotHeight changes? (see issue 650)                                              // 3013\n                                                                                                                   // 3014\n\tvar snapMinutes;                                                                                                  // 3015\n\tvar snapRatio; // ratio of number of \"selection\" slots to normal slots. (ex: 1, 2, 4)                             // 3016\n\tvar snapHeight; // holds the pixel hight of a \"selection\" slot                                                    // 3017\n\t                                                                                                                  // 3018\n\tvar colCnt;                                                                                                       // 3019\n\tvar slotCnt;                                                                                                      // 3020\n\tvar coordinateGrid;                                                                                               // 3021\n\tvar hoverListener;                                                                                                // 3022\n\tvar colContentPositions;                                                                                          // 3023\n\tvar slotTopCache = {};                                                                                            // 3024\n\tvar savedScrollTop;                                                                                               // 3025\n\t                                                                                                                  // 3026\n\tvar tm;                                                                                                           // 3027\n\tvar firstDay;                                                                                                     // 3028\n\tvar nwe;            // no weekends (int)                                                                          // 3029\n\tvar rtl, dis, dit;  // day index sign / translate                                                                 // 3030\n\tvar minMinute, maxMinute;                                                                                         // 3031\n\tvar colFormat;                                                                                                    // 3032\n\tvar showWeekNumbers;                                                                                              // 3033\n\tvar weekNumberTitle;                                                                                              // 3034\n\tvar weekNumberFormat;                                                                                             // 3035\n\t                                                                                                                  // 3036\n                                                                                                                   // 3037\n\t                                                                                                                  // 3038\n\t/* Rendering                                                                                                      // 3039\n\t-----------------------------------------------------------------------------*/                                   // 3040\n\t                                                                                                                  // 3041\n\t                                                                                                                  // 3042\n\tdisableTextSelection(element.addClass('fc-agenda'));                                                              // 3043\n\t                                                                                                                  // 3044\n\t                                                                                                                  // 3045\n\tfunction renderAgenda(c) {                                                                                        // 3046\n\t\tcolCnt = c;                                                                                                      // 3047\n\t\tupdateOptions();                                                                                                 // 3048\n\t\tif (!dayTable) {                                                                                                 // 3049\n\t\t\tbuildSkeleton();                                                                                                // 3050\n\t\t}else{                                                                                                           // 3051\n\t\t\tclearEvents();                                                                                                  // 3052\n\t\t}                                                                                                                // 3053\n\t\tupdateCells();                                                                                                   // 3054\n\t}                                                                                                                 // 3055\n\t                                                                                                                  // 3056\n\t                                                                                                                  // 3057\n\t                                                                                                                  // 3058\n\tfunction updateOptions() {                                                                                        // 3059\n\t\ttm = opt('theme') ? 'ui' : 'fc';                                                                                 // 3060\n\t\tnwe = opt('weekends') ? 0 : 1;                                                                                   // 3061\n\t\tfirstDay = opt('firstDay');                                                                                      // 3062\n\t\tif (rtl = opt('isRTL')) {                                                                                        // 3063\n\t\t\tdis = -1;                                                                                                       // 3064\n\t\t\tdit = colCnt - 1;                                                                                               // 3065\n\t\t}else{                                                                                                           // 3066\n\t\t\tdis = 1;                                                                                                        // 3067\n\t\t\tdit = 0;                                                                                                        // 3068\n\t\t}                                                                                                                // 3069\n\t\tminMinute = parseTime(opt('minTime'));                                                                           // 3070\n\t\tmaxMinute = parseTime(opt('maxTime'));                                                                           // 3071\n\t\tcolFormat = opt('columnFormat');                                                                                 // 3072\n                                                                                                                   // 3073\n\t\t// week # options. (TODO: bad, logic also in other views)                                                        // 3074\n\t\tshowWeekNumbers = opt('weekNumbers');                                                                            // 3075\n\t\tweekNumberTitle = opt('weekNumberTitle');                                                                        // 3076\n\t\tif (opt('weekNumberCalculation') != 'iso') {                                                                     // 3077\n\t\t\tweekNumberFormat = \"w\";                                                                                         // 3078\n\t\t}                                                                                                                // 3079\n\t\telse {                                                                                                           // 3080\n\t\t\tweekNumberFormat = \"W\";                                                                                         // 3081\n\t\t}                                                                                                                // 3082\n                                                                                                                   // 3083\n\t\tsnapMinutes = opt('snapMinutes') || opt('slotMinutes');                                                          // 3084\n\t}                                                                                                                 // 3085\n\t                                                                                                                  // 3086\n\t                                                                                                                  // 3087\n\t                                                                                                                  // 3088\n\tfunction buildSkeleton() {                                                                                        // 3089\n\t\tvar headerClass = tm + \"-widget-header\";                                                                         // 3090\n\t\tvar contentClass = tm + \"-widget-content\";                                                                       // 3091\n\t\tvar s;                                                                                                           // 3092\n\t\tvar i;                                                                                                           // 3093\n\t\tvar d;                                                                                                           // 3094\n\t\tvar maxd;                                                                                                        // 3095\n\t\tvar minutes;                                                                                                     // 3096\n\t\tvar slotNormal = opt('slotMinutes') % 15 == 0;                                                                   // 3097\n\t\t                                                                                                                 // 3098\n\t\ts =                                                                                                              // 3099\n\t\t\t\"<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>\" +                        // 3100\n\t\t\t\"<thead>\" +                                                                                                     // 3101\n\t\t\t\"<tr>\";                                                                                                         // 3102\n                                                                                                                   // 3103\n\t\tif (showWeekNumbers) {                                                                                           // 3104\n\t\t\ts += \"<th class='fc-agenda-axis fc-week-number \" + headerClass + \"'/>\";                                         // 3105\n\t\t}                                                                                                                // 3106\n\t\telse {                                                                                                           // 3107\n\t\t\ts += \"<th class='fc-agenda-axis \" + headerClass + \"'>&nbsp;</th>\";                                              // 3108\n\t\t}                                                                                                                // 3109\n                                                                                                                   // 3110\n\t\tfor (i=0; i<colCnt; i++) {                                                                                       // 3111\n\t\t\ts +=                                                                                                            // 3112\n\t\t\t\t\"<th class='fc- fc-col\" + i + ' ' + headerClass + \"'/>\"; // fc- needed for setDayID                            // 3113\n\t\t}                                                                                                                // 3114\n\t\ts +=                                                                                                             // 3115\n\t\t\t\"<th class='fc-agenda-gutter \" + headerClass + \"'>&nbsp;</th>\" +                                                // 3116\n\t\t\t\"</tr>\" +                                                                                                       // 3117\n\t\t\t\"</thead>\" +                                                                                                    // 3118\n\t\t\t\"<tbody>\" +                                                                                                     // 3119\n\t\t\t\"<tr>\" +                                                                                                        // 3120\n\t\t\t\"<th class='fc-agenda-axis \" + headerClass + \"'>&nbsp;</th>\";                                                   // 3121\n\t\tfor (i=0; i<colCnt; i++) {                                                                                       // 3122\n\t\t\ts +=                                                                                                            // 3123\n\t\t\t\t\"<td class='fc- fc-col\" + i + ' ' + contentClass + \"'>\" + // fc- needed for setDayID                           // 3124\n\t\t\t\t\"<div>\" +                                                                                                      // 3125\n\t\t\t\t\"<div class='fc-day-content'>\" +                                                                               // 3126\n\t\t\t\t\"<div style='position:relative'>&nbsp;</div>\" +                                                                // 3127\n\t\t\t\t\"</div>\" +                                                                                                     // 3128\n\t\t\t\t\"</div>\" +                                                                                                     // 3129\n\t\t\t\t\"</td>\";                                                                                                       // 3130\n\t\t}                                                                                                                // 3131\n\t\ts +=                                                                                                             // 3132\n\t\t\t\"<td class='fc-agenda-gutter \" + contentClass + \"'>&nbsp;</td>\" +                                               // 3133\n\t\t\t\"</tr>\" +                                                                                                       // 3134\n\t\t\t\"</tbody>\" +                                                                                                    // 3135\n\t\t\t\"</table>\";                                                                                                     // 3136\n\t\tdayTable = $(s).appendTo(element);                                                                               // 3137\n\t\tdayHead = dayTable.find('thead');                                                                                // 3138\n\t\tdayHeadCells = dayHead.find('th').slice(1, -1);                                                                  // 3139\n\t\tdayBody = dayTable.find('tbody');                                                                                // 3140\n\t\tdayBodyCells = dayBody.find('td').slice(0, -1);                                                                  // 3141\n\t\tdayBodyCellInners = dayBodyCells.find('div.fc-day-content div');                                                 // 3142\n\t\tdayBodyFirstCell = dayBodyCells.eq(0);                                                                           // 3143\n\t\tdayBodyFirstCellStretcher = dayBodyFirstCell.find('> div');                                                      // 3144\n\t\t                                                                                                                 // 3145\n\t\tmarkFirstLast(dayHead.add(dayHead.find('tr')));                                                                  // 3146\n\t\tmarkFirstLast(dayBody.add(dayBody.find('tr')));                                                                  // 3147\n\t\t                                                                                                                 // 3148\n\t\taxisFirstCells = dayHead.find('th:first');                                                                       // 3149\n\t\tgutterCells = dayTable.find('.fc-agenda-gutter');                                                                // 3150\n\t\t                                                                                                                 // 3151\n\t\tslotLayer =                                                                                                      // 3152\n\t\t\t$(\"<div style='position:absolute;z-index:2;left:0;width:100%'/>\")                                               // 3153\n\t\t\t\t.appendTo(element);                                                                                            // 3154\n\t\t\t\t                                                                                                               // 3155\n\t\tif (opt('allDaySlot')) {                                                                                         // 3156\n\t\t                                                                                                                 // 3157\n\t\t\tdaySegmentContainer =                                                                                           // 3158\n\t\t\t\t$(\"<div style='position:absolute;z-index:8;top:0;left:0'/>\")                                                   // 3159\n\t\t\t\t\t.appendTo(slotLayer);                                                                                         // 3160\n\t\t                                                                                                                 // 3161\n\t\t\ts =                                                                                                             // 3162\n\t\t\t\t\"<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>\" +                                        // 3163\n\t\t\t\t\"<tr>\" +                                                                                                       // 3164\n\t\t\t\t\"<th class='\" + headerClass + \" fc-agenda-axis'>\" + opt('allDayText') + \"</th>\" +                              // 3165\n\t\t\t\t\"<td>\" +                                                                                                       // 3166\n\t\t\t\t\"<div class='fc-day-content'><div style='position:relative'/></div>\" +                                         // 3167\n\t\t\t\t\"</td>\" +                                                                                                      // 3168\n\t\t\t\t\"<th class='\" + headerClass + \" fc-agenda-gutter'>&nbsp;</th>\" +                                               // 3169\n\t\t\t\t\"</tr>\" +                                                                                                      // 3170\n\t\t\t\t\"</table>\";                                                                                                    // 3171\n\t\t\tallDayTable = $(s).appendTo(slotLayer);                                                                         // 3172\n\t\t\tallDayRow = allDayTable.find('tr');                                                                             // 3173\n\t\t\t                                                                                                                // 3174\n\t\t\tdayBind(allDayRow.find('td'));                                                                                  // 3175\n\t\t\t                                                                                                                // 3176\n\t\t\taxisFirstCells = axisFirstCells.add(allDayTable.find('th:first'));                                              // 3177\n\t\t\tgutterCells = gutterCells.add(allDayTable.find('th.fc-agenda-gutter'));                                         // 3178\n\t\t\t                                                                                                                // 3179\n\t\t\tslotLayer.append(                                                                                               // 3180\n\t\t\t\t\"<div class='fc-agenda-divider \" + headerClass + \"'>\" +                                                        // 3181\n\t\t\t\t\"<div class='fc-agenda-divider-inner'/>\" +                                                                     // 3182\n\t\t\t\t\"</div>\"                                                                                                       // 3183\n\t\t\t);                                                                                                              // 3184\n\t\t\t                                                                                                                // 3185\n\t\t}else{                                                                                                           // 3186\n\t\t                                                                                                                 // 3187\n\t\t\tdaySegmentContainer = $([]); // in jQuery 1.4, we can just do $()                                               // 3188\n\t\t                                                                                                                 // 3189\n\t\t}                                                                                                                // 3190\n\t\t                                                                                                                 // 3191\n\t\tslotScroller =                                                                                                   // 3192\n\t\t\t$(\"<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>\")                              // 3193\n\t\t\t\t.appendTo(slotLayer);                                                                                          // 3194\n\t\t\t\t                                                                                                               // 3195\n\t\tslotContent =                                                                                                    // 3196\n\t\t\t$(\"<div style='position:relative;width:100%;overflow:hidden'/>\")                                                // 3197\n\t\t\t\t.appendTo(slotScroller);                                                                                       // 3198\n\t\t\t\t                                                                                                               // 3199\n\t\tslotSegmentContainer =                                                                                           // 3200\n\t\t\t$(\"<div style='position:absolute;z-index:8;top:0;left:0'/>\")                                                    // 3201\n\t\t\t\t.appendTo(slotContent);                                                                                        // 3202\n\t\t                                                                                                                 // 3203\n\t\ts =                                                                                                              // 3204\n\t\t\t\"<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>\" +                                          // 3205\n\t\t\t\"<tbody>\";                                                                                                      // 3206\n\t\td = zeroDate();                                                                                                  // 3207\n\t\tmaxd = addMinutes(cloneDate(d), maxMinute);                                                                      // 3208\n\t\taddMinutes(d, minMinute);                                                                                        // 3209\n\t\tslotCnt = 0;                                                                                                     // 3210\n\t\tfor (i=0; d < maxd; i++) {                                                                                       // 3211\n\t\t\tminutes = d.getMinutes();                                                                                       // 3212\n\t\t\ts +=                                                                                                            // 3213\n\t\t\t\t\"<tr class='fc-slot\" + i + ' ' + (!minutes ? '' : 'fc-minor') + \"'>\" +                                         // 3214\n\t\t\t\t\"<th class='fc-agenda-axis \" + headerClass + \"'>\" +                                                            // 3215\n\t\t\t\t((!slotNormal || !minutes) ? formatDate(d, opt('axisFormat')) : '&nbsp;') +                                    // 3216\n\t\t\t\t\"</th>\" +                                                                                                      // 3217\n\t\t\t\t\"<td class='\" + contentClass + \"'>\" +                                                                          // 3218\n\t\t\t\t\"<div style='position:relative'>&nbsp;</div>\" +                                                                // 3219\n\t\t\t\t\"</td>\" +                                                                                                      // 3220\n\t\t\t\t\"</tr>\";                                                                                                       // 3221\n\t\t\taddMinutes(d, opt('slotMinutes'));                                                                              // 3222\n\t\t\tslotCnt++;                                                                                                      // 3223\n\t\t}                                                                                                                // 3224\n\t\ts +=                                                                                                             // 3225\n\t\t\t\"</tbody>\" +                                                                                                    // 3226\n\t\t\t\"</table>\";                                                                                                     // 3227\n\t\tslotTable = $(s).appendTo(slotContent);                                                                          // 3228\n\t\tslotTableFirstInner = slotTable.find('div:first');                                                               // 3229\n\t\t                                                                                                                 // 3230\n\t\tslotBind(slotTable.find('td'));                                                                                  // 3231\n\t\t                                                                                                                 // 3232\n\t\taxisFirstCells = axisFirstCells.add(slotTable.find('th:first'));                                                 // 3233\n\t}                                                                                                                 // 3234\n\t                                                                                                                  // 3235\n\t                                                                                                                  // 3236\n\t                                                                                                                  // 3237\n\tfunction updateCells() {                                                                                          // 3238\n\t\tvar i;                                                                                                           // 3239\n\t\tvar headCell;                                                                                                    // 3240\n\t\tvar bodyCell;                                                                                                    // 3241\n\t\tvar date;                                                                                                        // 3242\n\t\tvar today = clearTime(new Date());                                                                               // 3243\n                                                                                                                   // 3244\n\t\tif (showWeekNumbers) {                                                                                           // 3245\n\t\t\tvar weekText = formatDate(colDate(0), weekNumberFormat);                                                        // 3246\n\t\t\tif (rtl) {                                                                                                      // 3247\n\t\t\t\tweekText = weekText + weekNumberTitle;                                                                         // 3248\n\t\t\t}                                                                                                               // 3249\n\t\t\telse {                                                                                                          // 3250\n\t\t\t\tweekText = weekNumberTitle + weekText;                                                                         // 3251\n\t\t\t}                                                                                                               // 3252\n\t\t\tdayHead.find('.fc-week-number').text(weekText);                                                                 // 3253\n\t\t}                                                                                                                // 3254\n                                                                                                                   // 3255\n\t\tfor (i=0; i<colCnt; i++) {                                                                                       // 3256\n\t\t\tdate = colDate(i);                                                                                              // 3257\n\t\t\theadCell = dayHeadCells.eq(i);                                                                                  // 3258\n\t\t\theadCell.html(formatDate(date, colFormat));                                                                     // 3259\n\t\t\tbodyCell = dayBodyCells.eq(i);                                                                                  // 3260\n\t\t\tif (+date == +today) {                                                                                          // 3261\n\t\t\t\tbodyCell.addClass(tm + '-state-highlight fc-today');                                                           // 3262\n\t\t\t}else{                                                                                                          // 3263\n\t\t\t\tbodyCell.removeClass(tm + '-state-highlight fc-today');                                                        // 3264\n\t\t\t}                                                                                                               // 3265\n\t\t\tsetDayID(headCell.add(bodyCell), date);                                                                         // 3266\n\t\t}                                                                                                                // 3267\n\t}                                                                                                                 // 3268\n\t                                                                                                                  // 3269\n\t                                                                                                                  // 3270\n\t                                                                                                                  // 3271\n\tfunction setHeight(height, dateChanged) {                                                                         // 3272\n\t\tif (height === undefined) {                                                                                      // 3273\n\t\t\theight = viewHeight;                                                                                            // 3274\n\t\t}                                                                                                                // 3275\n\t\tviewHeight = height;                                                                                             // 3276\n\t\tslotTopCache = {};                                                                                               // 3277\n\t                                                                                                                  // 3278\n\t\tvar headHeight = dayBody.position().top;                                                                         // 3279\n\t\tvar allDayHeight = slotScroller.position().top; // including divider                                             // 3280\n\t\tvar bodyHeight = Math.min( // total body height, including borders                                               // 3281\n\t\t\theight - headHeight,   // when scrollbars                                                                       // 3282\n\t\t\tslotTable.height() + allDayHeight + 1 // when no scrollbars. +1 for bottom border                               // 3283\n\t\t);                                                                                                               // 3284\n\t\t                                                                                                                 // 3285\n\t\tdayBodyFirstCellStretcher                                                                                        // 3286\n\t\t\t.height(bodyHeight - vsides(dayBodyFirstCell));                                                                 // 3287\n\t\t                                                                                                                 // 3288\n\t\tslotLayer.css('top', headHeight);                                                                                // 3289\n\t\t                                                                                                                 // 3290\n\t\tslotScroller.height(bodyHeight - allDayHeight - 1);                                                              // 3291\n\t\t                                                                                                                 // 3292\n\t\tslotHeight = slotTableFirstInner.height() + 1; // +1 for border                                                  // 3293\n                                                                                                                   // 3294\n\t\tsnapRatio = opt('slotMinutes') / snapMinutes;                                                                    // 3295\n\t\tsnapHeight = slotHeight / snapRatio;                                                                             // 3296\n\t\t                                                                                                                 // 3297\n\t\tif (dateChanged) {                                                                                               // 3298\n\t\t\tresetScroll();                                                                                                  // 3299\n\t\t}                                                                                                                // 3300\n\t}                                                                                                                 // 3301\n\t                                                                                                                  // 3302\n\t                                                                                                                  // 3303\n\t                                                                                                                  // 3304\n\tfunction setWidth(width) {                                                                                        // 3305\n\t\tviewWidth = width;                                                                                               // 3306\n\t\tcolContentPositions.clear();                                                                                     // 3307\n\t\t                                                                                                                 // 3308\n\t\taxisWidth = 0;                                                                                                   // 3309\n\t\tsetOuterWidth(                                                                                                   // 3310\n\t\t\taxisFirstCells                                                                                                  // 3311\n\t\t\t\t.width('')                                                                                                     // 3312\n\t\t\t\t.each(function(i, _cell) {                                                                                     // 3313\n\t\t\t\t\taxisWidth = Math.max(axisWidth, $(_cell).outerWidth());                                                       // 3314\n\t\t\t\t}),                                                                                                            // 3315\n\t\t\taxisWidth                                                                                                       // 3316\n\t\t);                                                                                                               // 3317\n\t\t                                                                                                                 // 3318\n\t\tvar slotTableWidth = slotScroller[0].clientWidth; // needs to be done after axisWidth (for IE7)                  // 3319\n\t\t//slotTable.width(slotTableWidth);                                                                               // 3320\n\t\t                                                                                                                 // 3321\n\t\tgutterWidth = slotScroller.width() - slotTableWidth;                                                             // 3322\n\t\tif (gutterWidth) {                                                                                               // 3323\n\t\t\tsetOuterWidth(gutterCells, gutterWidth);                                                                        // 3324\n\t\t\tgutterCells                                                                                                     // 3325\n\t\t\t\t.show()                                                                                                        // 3326\n\t\t\t\t.prev()                                                                                                        // 3327\n\t\t\t\t.removeClass('fc-last');                                                                                       // 3328\n\t\t}else{                                                                                                           // 3329\n\t\t\tgutterCells                                                                                                     // 3330\n\t\t\t\t.hide()                                                                                                        // 3331\n\t\t\t\t.prev()                                                                                                        // 3332\n\t\t\t\t.addClass('fc-last');                                                                                          // 3333\n\t\t}                                                                                                                // 3334\n\t\t                                                                                                                 // 3335\n\t\tcolWidth = Math.floor((slotTableWidth - axisWidth) / colCnt);                                                    // 3336\n\t\tsetOuterWidth(dayHeadCells.slice(0, -1), colWidth);                                                              // 3337\n\t}                                                                                                                 // 3338\n\t                                                                                                                  // 3339\n                                                                                                                   // 3340\n                                                                                                                   // 3341\n\tfunction resetScroll() {                                                                                          // 3342\n\t\tvar d0 = zeroDate();                                                                                             // 3343\n\t\tvar scrollDate = cloneDate(d0);                                                                                  // 3344\n\t\tscrollDate.setHours(opt('firstHour'));                                                                           // 3345\n\t\tvar top = timePosition(d0, scrollDate) + 1; // +1 for the border                                                 // 3346\n\t\tfunction scroll() {                                                                                              // 3347\n\t\t\tslotScroller.scrollTop(top);                                                                                    // 3348\n\t\t}                                                                                                                // 3349\n\t\tscroll();                                                                                                        // 3350\n\t\tsetTimeout(scroll, 0); // overrides any previous scroll state made by the browser                                // 3351\n\t}                                                                                                                 // 3352\n\t                                                                                                                  // 3353\n\t                                                                                                                  // 3354\n\tfunction beforeHide() {                                                                                           // 3355\n\t\tsavedScrollTop = slotScroller.scrollTop();                                                                       // 3356\n\t}                                                                                                                 // 3357\n\t                                                                                                                  // 3358\n\t                                                                                                                  // 3359\n\tfunction afterShow() {                                                                                            // 3360\n\t\tslotScroller.scrollTop(savedScrollTop);                                                                          // 3361\n\t}                                                                                                                 // 3362\n\t                                                                                                                  // 3363\n\t                                                                                                                  // 3364\n\t                                                                                                                  // 3365\n\t/* Slot/Day clicking and binding                                                                                  // 3366\n\t-----------------------------------------------------------------------*/                                         // 3367\n\t                                                                                                                  // 3368\n                                                                                                                   // 3369\n\tfunction dayBind(cells) {                                                                                         // 3370\n\t\tcells.click(slotClick)                                                                                           // 3371\n\t\t\t.mousedown(daySelectionMousedown);                                                                              // 3372\n\t}                                                                                                                 // 3373\n                                                                                                                   // 3374\n                                                                                                                   // 3375\n\tfunction slotBind(cells) {                                                                                        // 3376\n\t\tcells.click(slotClick)                                                                                           // 3377\n\t\t\t.mousedown(slotSelectionMousedown);                                                                             // 3378\n\t}                                                                                                                 // 3379\n\t                                                                                                                  // 3380\n\t                                                                                                                  // 3381\n\tfunction slotClick(ev) {                                                                                          // 3382\n\t\tif (!opt('selectable')) { // if selectable, SelectionManager will worry about dayClick                           // 3383\n\t\t\tvar col = Math.min(colCnt-1, Math.floor((ev.pageX - dayTable.offset().left - axisWidth) / colWidth));           // 3384\n\t\t\tvar date = colDate(col);                                                                                        // 3385\n\t\t\tvar rowMatch = this.parentNode.className.match(/fc-slot(\\d+)/); // TODO: maybe use data                         // 3386\n\t\t\tif (rowMatch) {                                                                                                 // 3387\n\t\t\t\tvar mins = parseInt(rowMatch[1]) * opt('slotMinutes');                                                         // 3388\n\t\t\t\tvar hours = Math.floor(mins/60);                                                                               // 3389\n\t\t\t\tdate.setHours(hours);                                                                                          // 3390\n\t\t\t\tdate.setMinutes(mins%60 + minMinute);                                                                          // 3391\n\t\t\t\ttrigger('dayClick', dayBodyCells[col], date, false, ev);                                                       // 3392\n\t\t\t}else{                                                                                                          // 3393\n\t\t\t\ttrigger('dayClick', dayBodyCells[col], date, true, ev);                                                        // 3394\n\t\t\t}                                                                                                               // 3395\n\t\t}                                                                                                                // 3396\n\t}                                                                                                                 // 3397\n\t                                                                                                                  // 3398\n\t                                                                                                                  // 3399\n\t                                                                                                                  // 3400\n\t/* Semi-transparent Overlay Helpers                                                                               // 3401\n\t-----------------------------------------------------*/                                                           // 3402\n\t                                                                                                                  // 3403\n                                                                                                                   // 3404\n\tfunction renderDayOverlay(startDate, endDate, refreshCoordinateGrid) { // endDate is exclusive                    // 3405\n\t\tif (refreshCoordinateGrid) {                                                                                     // 3406\n\t\t\tcoordinateGrid.build();                                                                                         // 3407\n\t\t}                                                                                                                // 3408\n\t\tvar visStart = cloneDate(t.visStart);                                                                            // 3409\n\t\tvar startCol, endCol;                                                                                            // 3410\n\t\tif (rtl) {                                                                                                       // 3411\n\t\t\tstartCol = dayDiff(endDate, visStart)*dis+dit+1;                                                                // 3412\n\t\t\tendCol = dayDiff(startDate, visStart)*dis+dit+1;                                                                // 3413\n\t\t}else{                                                                                                           // 3414\n\t\t\tstartCol = dayDiff(startDate, visStart);                                                                        // 3415\n\t\t\tendCol = dayDiff(endDate, visStart);                                                                            // 3416\n\t\t}                                                                                                                // 3417\n\t\tstartCol = Math.max(0, startCol);                                                                                // 3418\n\t\tendCol = Math.min(colCnt, endCol);                                                                               // 3419\n\t\tif (startCol < endCol) {                                                                                         // 3420\n\t\t\tdayBind(                                                                                                        // 3421\n\t\t\t\trenderCellOverlay(0, startCol, 0, endCol-1)                                                                    // 3422\n\t\t\t);                                                                                                              // 3423\n\t\t}                                                                                                                // 3424\n\t}                                                                                                                 // 3425\n\t                                                                                                                  // 3426\n\t                                                                                                                  // 3427\n\tfunction renderCellOverlay(row0, col0, row1, col1) { // only for all-day?                                         // 3428\n\t\tvar rect = coordinateGrid.rect(row0, col0, row1, col1, slotLayer);                                               // 3429\n\t\treturn renderOverlay(rect, slotLayer);                                                                           // 3430\n\t}                                                                                                                 // 3431\n\t                                                                                                                  // 3432\n                                                                                                                   // 3433\n\tfunction renderSlotOverlay(overlayStart, overlayEnd) {                                                            // 3434\n\t\tvar dayStart = cloneDate(t.visStart);                                                                            // 3435\n\t\tvar dayEnd = addDays(cloneDate(dayStart), 1);                                                                    // 3436\n\t\tfor (var i=0; i<colCnt; i++) {                                                                                   // 3437\n\t\t\tvar stretchStart = new Date(Math.max(dayStart, overlayStart));                                                  // 3438\n\t\t\tvar stretchEnd = new Date(Math.min(dayEnd, overlayEnd));                                                        // 3439\n\t\t\tif (stretchStart < stretchEnd) {                                                                                // 3440\n\t\t\t\tvar col = i*dis+dit;                                                                                           // 3441\n\t\t\t\tvar rect = coordinateGrid.rect(0, col, 0, col, slotContent); // only use it for horizontal coords              // 3442\n\t\t\t\tvar top = timePosition(dayStart, stretchStart);                                                                // 3443\n\t\t\t\tvar bottom = timePosition(dayStart, stretchEnd);                                                               // 3444\n\t\t\t\trect.top = top;                                                                                                // 3445\n\t\t\t\trect.height = bottom - top;                                                                                    // 3446\n\t\t\t\tslotBind(                                                                                                      // 3447\n\t\t\t\t\trenderOverlay(rect, slotContent)                                                                              // 3448\n\t\t\t\t);                                                                                                             // 3449\n\t\t\t}                                                                                                               // 3450\n\t\t\taddDays(dayStart, 1);                                                                                           // 3451\n\t\t\taddDays(dayEnd, 1);                                                                                             // 3452\n\t\t}                                                                                                                // 3453\n\t}                                                                                                                 // 3454\n\t                                                                                                                  // 3455\n\t                                                                                                                  // 3456\n\t                                                                                                                  // 3457\n\t/* Coordinate Utilities                                                                                           // 3458\n\t-----------------------------------------------------------------------------*/                                   // 3459\n\t                                                                                                                  // 3460\n\t                                                                                                                  // 3461\n\tcoordinateGrid = new CoordinateGrid(function(rows, cols) {                                                        // 3462\n\t\tvar e, n, p;                                                                                                     // 3463\n\t\tdayHeadCells.each(function(i, _e) {                                                                              // 3464\n\t\t\te = $(_e);                                                                                                      // 3465\n\t\t\tn = e.offset().left;                                                                                            // 3466\n\t\t\tif (i) {                                                                                                        // 3467\n\t\t\t\tp[1] = n;                                                                                                      // 3468\n\t\t\t}                                                                                                               // 3469\n\t\t\tp = [n];                                                                                                        // 3470\n\t\t\tcols[i] = p;                                                                                                    // 3471\n\t\t});                                                                                                              // 3472\n\t\tp[1] = n + e.outerWidth();                                                                                       // 3473\n\t\tif (opt('allDaySlot')) {                                                                                         // 3474\n\t\t\te = allDayRow;                                                                                                  // 3475\n\t\t\tn = e.offset().top;                                                                                             // 3476\n\t\t\trows[0] = [n, n+e.outerHeight()];                                                                               // 3477\n\t\t}                                                                                                                // 3478\n\t\tvar slotTableTop = slotContent.offset().top;                                                                     // 3479\n\t\tvar slotScrollerTop = slotScroller.offset().top;                                                                 // 3480\n\t\tvar slotScrollerBottom = slotScrollerTop + slotScroller.outerHeight();                                           // 3481\n\t\tfunction constrain(n) {                                                                                          // 3482\n\t\t\treturn Math.max(slotScrollerTop, Math.min(slotScrollerBottom, n));                                              // 3483\n\t\t}                                                                                                                // 3484\n\t\tfor (var i=0; i<slotCnt*snapRatio; i++) { // adapt slot count to increased/decreased selection slot count        // 3485\n\t\t\trows.push([                                                                                                     // 3486\n\t\t\t\tconstrain(slotTableTop + snapHeight*i),                                                                        // 3487\n\t\t\t\tconstrain(slotTableTop + snapHeight*(i+1))                                                                     // 3488\n\t\t\t]);                                                                                                             // 3489\n\t\t}                                                                                                                // 3490\n\t});                                                                                                               // 3491\n\t                                                                                                                  // 3492\n\t                                                                                                                  // 3493\n\thoverListener = new HoverListener(coordinateGrid);                                                                // 3494\n\t                                                                                                                  // 3495\n\t                                                                                                                  // 3496\n\tcolContentPositions = new HorizontalPositionCache(function(col) {                                                 // 3497\n\t\treturn dayBodyCellInners.eq(col);                                                                                // 3498\n\t});                                                                                                               // 3499\n\t                                                                                                                  // 3500\n\t                                                                                                                  // 3501\n\tfunction colContentLeft(col) {                                                                                    // 3502\n\t\treturn colContentPositions.left(col);                                                                            // 3503\n\t}                                                                                                                 // 3504\n\t                                                                                                                  // 3505\n\t                                                                                                                  // 3506\n\tfunction colContentRight(col) {                                                                                   // 3507\n\t\treturn colContentPositions.right(col);                                                                           // 3508\n\t}                                                                                                                 // 3509\n\t                                                                                                                  // 3510\n\t                                                                                                                  // 3511\n\t                                                                                                                  // 3512\n\t                                                                                                                  // 3513\n\tfunction dateCell(date) { // \"cell\" terminology is now confusing                                                  // 3514\n\t\treturn {                                                                                                         // 3515\n\t\t\trow: Math.floor(dayDiff(date, t.visStart) / 7),                                                                 // 3516\n\t\t\tcol: dayOfWeekCol(date.getDay())                                                                                // 3517\n\t\t};                                                                                                               // 3518\n\t}                                                                                                                 // 3519\n\t                                                                                                                  // 3520\n\t                                                                                                                  // 3521\n\tfunction cellDate(cell) {                                                                                         // 3522\n\t\tvar d = colDate(cell.col);                                                                                       // 3523\n\t\tvar slotIndex = cell.row;                                                                                        // 3524\n\t\tif (opt('allDaySlot')) {                                                                                         // 3525\n\t\t\tslotIndex--;                                                                                                    // 3526\n\t\t}                                                                                                                // 3527\n\t\tif (slotIndex >= 0) {                                                                                            // 3528\n\t\t\taddMinutes(d, minMinute + slotIndex * snapMinutes);                                                             // 3529\n\t\t}                                                                                                                // 3530\n\t\treturn d;                                                                                                        // 3531\n\t}                                                                                                                 // 3532\n\t                                                                                                                  // 3533\n\t                                                                                                                  // 3534\n\tfunction colDate(col) { // returns dates with 00:00:00                                                            // 3535\n\t\treturn addDays(cloneDate(t.visStart), col*dis+dit);                                                              // 3536\n\t}                                                                                                                 // 3537\n\t                                                                                                                  // 3538\n\t                                                                                                                  // 3539\n\tfunction cellIsAllDay(cell) {                                                                                     // 3540\n\t\treturn opt('allDaySlot') && !cell.row;                                                                           // 3541\n\t}                                                                                                                 // 3542\n\t                                                                                                                  // 3543\n\t                                                                                                                  // 3544\n\tfunction dayOfWeekCol(dayOfWeek) {                                                                                // 3545\n\t\treturn ((dayOfWeek - Math.max(firstDay, nwe) + colCnt) % colCnt)*dis+dit;                                        // 3546\n\t}                                                                                                                 // 3547\n\t                                                                                                                  // 3548\n\t                                                                                                                  // 3549\n\t                                                                                                                  // 3550\n\t                                                                                                                  // 3551\n\t// get the Y coordinate of the given time on the given day (both Date objects)                                    // 3552\n\tfunction timePosition(day, time) { // both date objects. day holds 00:00 of current day                           // 3553\n\t\tday = cloneDate(day, true);                                                                                      // 3554\n\t\tif (time < addMinutes(cloneDate(day), minMinute)) {                                                              // 3555\n\t\t\treturn 0;                                                                                                       // 3556\n\t\t}                                                                                                                // 3557\n\t\tif (time >= addMinutes(cloneDate(day), maxMinute)) {                                                             // 3558\n\t\t\treturn slotTable.height();                                                                                      // 3559\n\t\t}                                                                                                                // 3560\n\t\tvar slotMinutes = opt('slotMinutes'),                                                                            // 3561\n\t\t\tminutes = time.getHours()*60 + time.getMinutes() - minMinute,                                                   // 3562\n\t\t\tslotI = Math.floor(minutes / slotMinutes),                                                                      // 3563\n\t\t\tslotTop = slotTopCache[slotI];                                                                                  // 3564\n\t\tif (slotTop === undefined) {                                                                                     // 3565\n\t\t\tslotTop = slotTopCache[slotI] = slotTable.find('tr:eq(' + slotI + ') td div')[0].offsetTop; //.position().top; // need this optimization???\n\t\t}                                                                                                                // 3567\n\t\treturn Math.max(0, Math.round(                                                                                   // 3568\n\t\t\tslotTop - 1 + slotHeight * ((minutes % slotMinutes) / slotMinutes)                                              // 3569\n\t\t));                                                                                                              // 3570\n\t}                                                                                                                 // 3571\n\t                                                                                                                  // 3572\n\t                                                                                                                  // 3573\n\tfunction allDayBounds() {                                                                                         // 3574\n\t\treturn {                                                                                                         // 3575\n\t\t\tleft: axisWidth,                                                                                                // 3576\n\t\t\tright: viewWidth - gutterWidth                                                                                  // 3577\n\t\t}                                                                                                                // 3578\n\t}                                                                                                                 // 3579\n\t                                                                                                                  // 3580\n\t                                                                                                                  // 3581\n\tfunction getAllDayRow(index) {                                                                                    // 3582\n\t\treturn allDayRow;                                                                                                // 3583\n\t}                                                                                                                 // 3584\n\t                                                                                                                  // 3585\n\t                                                                                                                  // 3586\n\tfunction defaultEventEnd(event) {                                                                                 // 3587\n\t\tvar start = cloneDate(event.start);                                                                              // 3588\n\t\tif (event.allDay) {                                                                                              // 3589\n\t\t\treturn start;                                                                                                   // 3590\n\t\t}                                                                                                                // 3591\n\t\treturn addMinutes(start, opt('defaultEventMinutes'));                                                            // 3592\n\t}                                                                                                                 // 3593\n\t                                                                                                                  // 3594\n\t                                                                                                                  // 3595\n\t                                                                                                                  // 3596\n\t/* Selection                                                                                                      // 3597\n\t---------------------------------------------------------------------------------*/                               // 3598\n\t                                                                                                                  // 3599\n\t                                                                                                                  // 3600\n\tfunction defaultSelectionEnd(startDate, allDay) {                                                                 // 3601\n\t\tif (allDay) {                                                                                                    // 3602\n\t\t\treturn cloneDate(startDate);                                                                                    // 3603\n\t\t}                                                                                                                // 3604\n\t\treturn addMinutes(cloneDate(startDate), opt('slotMinutes'));                                                     // 3605\n\t}                                                                                                                 // 3606\n\t                                                                                                                  // 3607\n\t                                                                                                                  // 3608\n\tfunction renderSelection(startDate, endDate, allDay) { // only for all-day                                        // 3609\n\t\tif (allDay) {                                                                                                    // 3610\n\t\t\tif (opt('allDaySlot')) {                                                                                        // 3611\n\t\t\t\trenderDayOverlay(startDate, addDays(cloneDate(endDate), 1), true);                                             // 3612\n\t\t\t}                                                                                                               // 3613\n\t\t}else{                                                                                                           // 3614\n\t\t\trenderSlotSelection(startDate, endDate);                                                                        // 3615\n\t\t}                                                                                                                // 3616\n\t}                                                                                                                 // 3617\n\t                                                                                                                  // 3618\n\t                                                                                                                  // 3619\n\tfunction renderSlotSelection(startDate, endDate) {                                                                // 3620\n\t\tvar helperOption = opt('selectHelper');                                                                          // 3621\n\t\tcoordinateGrid.build();                                                                                          // 3622\n\t\tif (helperOption) {                                                                                              // 3623\n\t\t\tvar col = dayDiff(startDate, t.visStart) * dis + dit;                                                           // 3624\n\t\t\tif (col >= 0 && col < colCnt) { // only works when times are on same day                                        // 3625\n\t\t\t\tvar rect = coordinateGrid.rect(0, col, 0, col, slotContent); // only for horizontal coords                     // 3626\n\t\t\t\tvar top = timePosition(startDate, startDate);                                                                  // 3627\n\t\t\t\tvar bottom = timePosition(startDate, endDate);                                                                 // 3628\n\t\t\t\tif (bottom > top) { // protect against selections that are entirely before or after visible range              // 3629\n\t\t\t\t\trect.top = top;                                                                                               // 3630\n\t\t\t\t\trect.height = bottom - top;                                                                                   // 3631\n\t\t\t\t\trect.left += 2;                                                                                               // 3632\n\t\t\t\t\trect.width -= 5;                                                                                              // 3633\n\t\t\t\t\tif ($.isFunction(helperOption)) {                                                                             // 3634\n\t\t\t\t\t\tvar helperRes = helperOption(startDate, endDate);                                                            // 3635\n\t\t\t\t\t\tif (helperRes) {                                                                                             // 3636\n\t\t\t\t\t\t\trect.position = 'absolute';                                                                                 // 3637\n\t\t\t\t\t\t\trect.zIndex = 8;                                                                                            // 3638\n\t\t\t\t\t\t\tselectionHelper = $(helperRes)                                                                              // 3639\n\t\t\t\t\t\t\t\t.css(rect)                                                                                                 // 3640\n\t\t\t\t\t\t\t\t.appendTo(slotContent);                                                                                    // 3641\n\t\t\t\t\t\t}                                                                                                            // 3642\n\t\t\t\t\t}else{                                                                                                        // 3643\n\t\t\t\t\t\trect.isStart = true; // conside rect a \"seg\" now                                                             // 3644\n\t\t\t\t\t\trect.isEnd = true;   //                                                                                      // 3645\n\t\t\t\t\t\tselectionHelper = $(slotSegHtml(                                                                             // 3646\n\t\t\t\t\t\t\t{                                                                                                           // 3647\n\t\t\t\t\t\t\t\ttitle: '',                                                                                                 // 3648\n\t\t\t\t\t\t\t\tstart: startDate,                                                                                          // 3649\n\t\t\t\t\t\t\t\tend: endDate,                                                                                              // 3650\n\t\t\t\t\t\t\t\tclassName: ['fc-select-helper'],                                                                           // 3651\n\t\t\t\t\t\t\t\teditable: false                                                                                            // 3652\n\t\t\t\t\t\t\t},                                                                                                          // 3653\n\t\t\t\t\t\t\trect                                                                                                        // 3654\n\t\t\t\t\t\t));                                                                                                          // 3655\n\t\t\t\t\t\tselectionHelper.css('opacity', opt('dragOpacity'));                                                          // 3656\n\t\t\t\t\t}                                                                                                             // 3657\n\t\t\t\t\tif (selectionHelper) {                                                                                        // 3658\n\t\t\t\t\t\tslotBind(selectionHelper);                                                                                   // 3659\n\t\t\t\t\t\tslotContent.append(selectionHelper);                                                                         // 3660\n\t\t\t\t\t\tsetOuterWidth(selectionHelper, rect.width, true); // needs to be after appended                              // 3661\n\t\t\t\t\t\tsetOuterHeight(selectionHelper, rect.height, true);                                                          // 3662\n\t\t\t\t\t}                                                                                                             // 3663\n\t\t\t\t}                                                                                                              // 3664\n\t\t\t}                                                                                                               // 3665\n\t\t}else{                                                                                                           // 3666\n\t\t\trenderSlotOverlay(startDate, endDate);                                                                          // 3667\n\t\t}                                                                                                                // 3668\n\t}                                                                                                                 // 3669\n\t                                                                                                                  // 3670\n\t                                                                                                                  // 3671\n\tfunction clearSelection() {                                                                                       // 3672\n\t\tclearOverlays();                                                                                                 // 3673\n\t\tif (selectionHelper) {                                                                                           // 3674\n\t\t\tselectionHelper.remove();                                                                                       // 3675\n\t\t\tselectionHelper = null;                                                                                         // 3676\n\t\t}                                                                                                                // 3677\n\t}                                                                                                                 // 3678\n\t                                                                                                                  // 3679\n\t                                                                                                                  // 3680\n\tfunction slotSelectionMousedown(ev) {                                                                             // 3681\n\t\tif (ev.which == 1 && opt('selectable')) { // ev.which==1 means left mouse button                                 // 3682\n\t\t\tunselect(ev);                                                                                                   // 3683\n\t\t\tvar dates;                                                                                                      // 3684\n\t\t\thoverListener.start(function(cell, origCell) {                                                                  // 3685\n\t\t\t\tclearSelection();                                                                                              // 3686\n\t\t\t\tif (cell && cell.col == origCell.col && !cellIsAllDay(cell)) {                                                 // 3687\n\t\t\t\t\tvar d1 = cellDate(origCell);                                                                                  // 3688\n\t\t\t\t\tvar d2 = cellDate(cell);                                                                                      // 3689\n\t\t\t\t\tdates = [                                                                                                     // 3690\n\t\t\t\t\t\td1,                                                                                                          // 3691\n\t\t\t\t\t\taddMinutes(cloneDate(d1), snapMinutes), // calculate minutes depending on selection slot minutes             // 3692\n\t\t\t\t\t\td2,                                                                                                          // 3693\n\t\t\t\t\t\taddMinutes(cloneDate(d2), snapMinutes)                                                                       // 3694\n\t\t\t\t\t].sort(cmp);                                                                                                  // 3695\n\t\t\t\t\trenderSlotSelection(dates[0], dates[3]);                                                                      // 3696\n\t\t\t\t}else{                                                                                                         // 3697\n\t\t\t\t\tdates = null;                                                                                                 // 3698\n\t\t\t\t}                                                                                                              // 3699\n\t\t\t}, ev);                                                                                                         // 3700\n\t\t\t$(document).one('mouseup', function(ev) {                                                                       // 3701\n\t\t\t\thoverListener.stop();                                                                                          // 3702\n\t\t\t\tif (dates) {                                                                                                   // 3703\n\t\t\t\t\tif (+dates[0] == +dates[1]) {                                                                                 // 3704\n\t\t\t\t\t\treportDayClick(dates[0], false, ev);                                                                         // 3705\n\t\t\t\t\t}                                                                                                             // 3706\n\t\t\t\t\treportSelection(dates[0], dates[3], false, ev);                                                               // 3707\n\t\t\t\t}                                                                                                              // 3708\n\t\t\t});                                                                                                             // 3709\n\t\t}                                                                                                                // 3710\n\t}                                                                                                                 // 3711\n\t                                                                                                                  // 3712\n\t                                                                                                                  // 3713\n\tfunction reportDayClick(date, allDay, ev) {                                                                       // 3714\n\t\ttrigger('dayClick', dayBodyCells[dayOfWeekCol(date.getDay())], date, allDay, ev);                                // 3715\n\t}                                                                                                                 // 3716\n\t                                                                                                                  // 3717\n\t                                                                                                                  // 3718\n\t                                                                                                                  // 3719\n\t/* External Dragging                                                                                              // 3720\n\t--------------------------------------------------------------------------------*/                                // 3721\n\t                                                                                                                  // 3722\n\t                                                                                                                  // 3723\n\tfunction dragStart(_dragElement, ev, ui) {                                                                        // 3724\n\t\thoverListener.start(function(cell) {                                                                             // 3725\n\t\t\tclearOverlays();                                                                                                // 3726\n\t\t\tif (cell) {                                                                                                     // 3727\n\t\t\t\tif (cellIsAllDay(cell)) {                                                                                      // 3728\n\t\t\t\t\trenderCellOverlay(cell.row, cell.col, cell.row, cell.col);                                                    // 3729\n\t\t\t\t}else{                                                                                                         // 3730\n\t\t\t\t\tvar d1 = cellDate(cell);                                                                                      // 3731\n\t\t\t\t\tvar d2 = addMinutes(cloneDate(d1), opt('defaultEventMinutes'));                                               // 3732\n\t\t\t\t\trenderSlotOverlay(d1, d2);                                                                                    // 3733\n\t\t\t\t}                                                                                                              // 3734\n\t\t\t}                                                                                                               // 3735\n\t\t}, ev);                                                                                                          // 3736\n\t}                                                                                                                 // 3737\n\t                                                                                                                  // 3738\n\t                                                                                                                  // 3739\n\tfunction dragStop(_dragElement, ev, ui) {                                                                         // 3740\n\t\tvar cell = hoverListener.stop();                                                                                 // 3741\n\t\tclearOverlays();                                                                                                 // 3742\n\t\tif (cell) {                                                                                                      // 3743\n\t\t\ttrigger('drop', _dragElement, cellDate(cell), cellIsAllDay(cell), ev, ui);                                      // 3744\n\t\t}                                                                                                                // 3745\n\t}                                                                                                                 // 3746\n                                                                                                                   // 3747\n                                                                                                                   // 3748\n}                                                                                                                  // 3749\n                                                                                                                   // 3750\n;;                                                                                                                 // 3751\n                                                                                                                   // 3752\nfunction AgendaEventRenderer() {                                                                                   // 3753\n\tvar t = this;                                                                                                     // 3754\n\t                                                                                                                  // 3755\n\t                                                                                                                  // 3756\n\t// exports                                                                                                        // 3757\n\tt.renderEvents = renderEvents;                                                                                    // 3758\n\tt.compileDaySegs = compileDaySegs; // for DayEventRenderer                                                        // 3759\n\tt.clearEvents = clearEvents;                                                                                      // 3760\n\tt.slotSegHtml = slotSegHtml;                                                                                      // 3761\n\tt.bindDaySeg = bindDaySeg;                                                                                        // 3762\n\t                                                                                                                  // 3763\n\t                                                                                                                  // 3764\n\t// imports                                                                                                        // 3765\n\tDayEventRenderer.call(t);                                                                                         // 3766\n\tvar opt = t.opt;                                                                                                  // 3767\n\tvar trigger = t.trigger;                                                                                          // 3768\n\t//var setOverflowHidden = t.setOverflowHidden;                                                                    // 3769\n\tvar isEventDraggable = t.isEventDraggable;                                                                        // 3770\n\tvar isEventResizable = t.isEventResizable;                                                                        // 3771\n\tvar eventEnd = t.eventEnd;                                                                                        // 3772\n\tvar reportEvents = t.reportEvents;                                                                                // 3773\n\tvar reportEventClear = t.reportEventClear;                                                                        // 3774\n\tvar eventElementHandlers = t.eventElementHandlers;                                                                // 3775\n\tvar setHeight = t.setHeight;                                                                                      // 3776\n\tvar getDaySegmentContainer = t.getDaySegmentContainer;                                                            // 3777\n\tvar getSlotSegmentContainer = t.getSlotSegmentContainer;                                                          // 3778\n\tvar getHoverListener = t.getHoverListener;                                                                        // 3779\n\tvar getMaxMinute = t.getMaxMinute;                                                                                // 3780\n\tvar getMinMinute = t.getMinMinute;                                                                                // 3781\n\tvar timePosition = t.timePosition;                                                                                // 3782\n\tvar colContentLeft = t.colContentLeft;                                                                            // 3783\n\tvar colContentRight = t.colContentRight;                                                                          // 3784\n\tvar renderDaySegs = t.renderDaySegs;                                                                              // 3785\n\tvar resizableDayEvent = t.resizableDayEvent; // TODO: streamline binding architecture                             // 3786\n\tvar getColCnt = t.getColCnt;                                                                                      // 3787\n\tvar getColWidth = t.getColWidth;                                                                                  // 3788\n\tvar getSnapHeight = t.getSnapHeight;                                                                              // 3789\n\tvar getSnapMinutes = t.getSnapMinutes;                                                                            // 3790\n\tvar getBodyContent = t.getBodyContent;                                                                            // 3791\n\tvar reportEventElement = t.reportEventElement;                                                                    // 3792\n\tvar showEvents = t.showEvents;                                                                                    // 3793\n\tvar hideEvents = t.hideEvents;                                                                                    // 3794\n\tvar eventDrop = t.eventDrop;                                                                                      // 3795\n\tvar eventResize = t.eventResize;                                                                                  // 3796\n\tvar renderDayOverlay = t.renderDayOverlay;                                                                        // 3797\n\tvar clearOverlays = t.clearOverlays;                                                                              // 3798\n\tvar calendar = t.calendar;                                                                                        // 3799\n\tvar formatDate = calendar.formatDate;                                                                             // 3800\n\tvar formatDates = calendar.formatDates;                                                                           // 3801\n\t                                                                                                                  // 3802\n\t                                                                                                                  // 3803\n\t                                                                                                                  // 3804\n\t/* Rendering                                                                                                      // 3805\n\t----------------------------------------------------------------------------*/                                    // 3806\n\t                                                                                                                  // 3807\n                                                                                                                   // 3808\n\tfunction renderEvents(events, modifiedEventId) {                                                                  // 3809\n\t\treportEvents(events);                                                                                            // 3810\n\t\tvar i, len=events.length,                                                                                        // 3811\n\t\t\tdayEvents=[],                                                                                                   // 3812\n\t\t\tslotEvents=[];                                                                                                  // 3813\n\t\tfor (i=0; i<len; i++) {                                                                                          // 3814\n\t\t\tif (events[i].allDay) {                                                                                         // 3815\n\t\t\t\tdayEvents.push(events[i]);                                                                                     // 3816\n\t\t\t}else{                                                                                                          // 3817\n\t\t\t\tslotEvents.push(events[i]);                                                                                    // 3818\n\t\t\t}                                                                                                               // 3819\n\t\t}                                                                                                                // 3820\n\t\tif (opt('allDaySlot')) {                                                                                         // 3821\n\t\t\trenderDaySegs(compileDaySegs(dayEvents), modifiedEventId);                                                      // 3822\n\t\t\tsetHeight(); // no params means set to viewHeight                                                               // 3823\n\t\t}                                                                                                                // 3824\n\t\trenderSlotSegs(compileSlotSegs(slotEvents), modifiedEventId);                                                    // 3825\n\t\ttrigger('eventAfterAllRender');                                                                                  // 3826\n\t}                                                                                                                 // 3827\n\t                                                                                                                  // 3828\n\t                                                                                                                  // 3829\n\tfunction clearEvents() {                                                                                          // 3830\n\t\treportEventClear();                                                                                              // 3831\n\t\tgetDaySegmentContainer().empty();                                                                                // 3832\n\t\tgetSlotSegmentContainer().empty();                                                                               // 3833\n\t}                                                                                                                 // 3834\n\t                                                                                                                  // 3835\n\t                                                                                                                  // 3836\n\tfunction compileDaySegs(events) {                                                                                 // 3837\n\t\tvar levels = stackSegs(sliceSegs(events, $.map(events, exclEndDay), t.visStart, t.visEnd)),                      // 3838\n\t\t\ti, levelCnt=levels.length, level,                                                                               // 3839\n\t\t\tj, seg,                                                                                                         // 3840\n\t\t\tsegs=[];                                                                                                        // 3841\n\t\tfor (i=0; i<levelCnt; i++) {                                                                                     // 3842\n\t\t\tlevel = levels[i];                                                                                              // 3843\n\t\t\tfor (j=0; j<level.length; j++) {                                                                                // 3844\n\t\t\t\tseg = level[j];                                                                                                // 3845\n\t\t\t\tseg.row = 0;                                                                                                   // 3846\n\t\t\t\tseg.level = i; // not needed anymore                                                                           // 3847\n\t\t\t\tsegs.push(seg);                                                                                                // 3848\n\t\t\t}                                                                                                               // 3849\n\t\t}                                                                                                                // 3850\n\t\treturn segs;                                                                                                     // 3851\n\t}                                                                                                                 // 3852\n\t                                                                                                                  // 3853\n\t                                                                                                                  // 3854\n\tfunction compileSlotSegs(events) {                                                                                // 3855\n\t\tvar colCnt = getColCnt(),                                                                                        // 3856\n\t\t\tminMinute = getMinMinute(),                                                                                     // 3857\n\t\t\tmaxMinute = getMaxMinute(),                                                                                     // 3858\n\t\t\td = addMinutes(cloneDate(t.visStart), minMinute),                                                               // 3859\n\t\t\tvisEventEnds = $.map(events, slotEventEnd),                                                                     // 3860\n\t\t\ti, col,                                                                                                         // 3861\n\t\t\tj, level,                                                                                                       // 3862\n\t\t\tk, seg,                                                                                                         // 3863\n\t\t\tsegs=[];                                                                                                        // 3864\n\t\tfor (i=0; i<colCnt; i++) {                                                                                       // 3865\n\t\t\tcol = stackSegs(sliceSegs(events, visEventEnds, d, addMinutes(cloneDate(d), maxMinute-minMinute)));             // 3866\n\t\t\tcountForwardSegs(col);                                                                                          // 3867\n\t\t\tfor (j=0; j<col.length; j++) {                                                                                  // 3868\n\t\t\t\tlevel = col[j];                                                                                                // 3869\n\t\t\t\tfor (k=0; k<level.length; k++) {                                                                               // 3870\n\t\t\t\t\tseg = level[k];                                                                                               // 3871\n\t\t\t\t\tseg.col = i;                                                                                                  // 3872\n\t\t\t\t\tseg.level = j;                                                                                                // 3873\n\t\t\t\t\tsegs.push(seg);                                                                                               // 3874\n\t\t\t\t}                                                                                                              // 3875\n\t\t\t}                                                                                                               // 3876\n\t\t\taddDays(d, 1, true);                                                                                            // 3877\n\t\t}                                                                                                                // 3878\n\t\treturn segs;                                                                                                     // 3879\n\t}                                                                                                                 // 3880\n\t                                                                                                                  // 3881\n\t                                                                                                                  // 3882\n\tfunction slotEventEnd(event) {                                                                                    // 3883\n\t\tif (event.end) {                                                                                                 // 3884\n\t\t\treturn cloneDate(event.end);                                                                                    // 3885\n\t\t}else{                                                                                                           // 3886\n\t\t\treturn addMinutes(cloneDate(event.start), opt('defaultEventMinutes'));                                          // 3887\n\t\t}                                                                                                                // 3888\n\t}                                                                                                                 // 3889\n\t                                                                                                                  // 3890\n\t                                                                                                                  // 3891\n\t// renders events in the 'time slots' at the bottom                                                               // 3892\n\t                                                                                                                  // 3893\n\tfunction renderSlotSegs(segs, modifiedEventId) {                                                                  // 3894\n\t                                                                                                                  // 3895\n\t\tvar i, segCnt=segs.length, seg,                                                                                  // 3896\n\t\t\tevent,                                                                                                          // 3897\n\t\t\tclasses,                                                                                                        // 3898\n\t\t\ttop, bottom,                                                                                                    // 3899\n\t\t\tcolI, levelI, forward,                                                                                          // 3900\n\t\t\tleftmost,                                                                                                       // 3901\n\t\t\tavailWidth,                                                                                                     // 3902\n\t\t\touterWidth,                                                                                                     // 3903\n\t\t\tleft,                                                                                                           // 3904\n\t\t\thtml='',                                                                                                        // 3905\n\t\t\teventElements,                                                                                                  // 3906\n\t\t\teventElement,                                                                                                   // 3907\n\t\t\ttriggerRes,                                                                                                     // 3908\n\t\t\tvsideCache={},                                                                                                  // 3909\n\t\t\thsideCache={},                                                                                                  // 3910\n\t\t\tkey, val,                                                                                                       // 3911\n\t\t\ttitleElement,                                                                                                   // 3912\n\t\t\theight,                                                                                                         // 3913\n\t\t\tslotSegmentContainer = getSlotSegmentContainer(),                                                               // 3914\n\t\t\trtl, dis, dit,                                                                                                  // 3915\n\t\t\tcolCnt = getColCnt();                                                                                           // 3916\n\t\t\t                                                                                                                // 3917\n\t\tif (rtl = opt('isRTL')) {                                                                                        // 3918\n\t\t\tdis = -1;                                                                                                       // 3919\n\t\t\tdit = colCnt - 1;                                                                                               // 3920\n\t\t}else{                                                                                                           // 3921\n\t\t\tdis = 1;                                                                                                        // 3922\n\t\t\tdit = 0;                                                                                                        // 3923\n\t\t}                                                                                                                // 3924\n\t\t\t                                                                                                                // 3925\n\t\t// calculate position/dimensions, create html                                                                    // 3926\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 3927\n\t\t\tseg = segs[i];                                                                                                  // 3928\n\t\t\tevent = seg.event;                                                                                              // 3929\n\t\t\ttop = timePosition(seg.start, seg.start);                                                                       // 3930\n\t\t\tbottom = timePosition(seg.start, seg.end);                                                                      // 3931\n\t\t\tcolI = seg.col;                                                                                                 // 3932\n\t\t\tlevelI = seg.level;                                                                                             // 3933\n\t\t\tforward = seg.forward || 0;                                                                                     // 3934\n\t\t\tleftmost = colContentLeft(colI*dis + dit);                                                                      // 3935\n\t\t\tavailWidth = colContentRight(colI*dis + dit) - leftmost;                                                        // 3936\n\t\t\tavailWidth = Math.min(availWidth-6, availWidth*.95); // TODO: move this to CSS                                  // 3937\n\t\t\tif (levelI) {                                                                                                   // 3938\n\t\t\t\t// indented and thin                                                                                           // 3939\n\t\t\t\touterWidth = availWidth / (levelI + forward + 1);                                                              // 3940\n\t\t\t}else{                                                                                                          // 3941\n\t\t\t\tif (forward) {                                                                                                 // 3942\n\t\t\t\t\t// moderately wide, aligned left still                                                                        // 3943\n\t\t\t\t\touterWidth = ((availWidth / (forward + 1)) - (12/2)) * 2; // 12 is the predicted width of resizer =           // 3944\n\t\t\t\t}else{                                                                                                         // 3945\n\t\t\t\t\t// can be entire width, aligned left                                                                          // 3946\n\t\t\t\t\touterWidth = availWidth;                                                                                      // 3947\n\t\t\t\t}                                                                                                              // 3948\n\t\t\t}                                                                                                               // 3949\n\t\t\tleft = leftmost +                                  // leftmost possible                                         // 3950\n\t\t\t\t(availWidth / (levelI + forward + 1) * levelI) // indentation                                                  // 3951\n\t\t\t\t* dis + (rtl ? availWidth - outerWidth : 0);   // rtl                                                          // 3952\n\t\t\tseg.top = top;                                                                                                  // 3953\n\t\t\tseg.left = left;                                                                                                // 3954\n\t\t\tseg.outerWidth = outerWidth;                                                                                    // 3955\n\t\t\tseg.outerHeight = bottom - top;                                                                                 // 3956\n\t\t\thtml += slotSegHtml(event, seg);                                                                                // 3957\n\t\t}                                                                                                                // 3958\n\t\tslotSegmentContainer[0].innerHTML = html; // faster than html()                                                  // 3959\n\t\teventElements = slotSegmentContainer.children();                                                                 // 3960\n\t\t                                                                                                                 // 3961\n\t\t// retrieve elements, run through eventRender callback, bind event handlers                                      // 3962\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 3963\n\t\t\tseg = segs[i];                                                                                                  // 3964\n\t\t\tevent = seg.event;                                                                                              // 3965\n\t\t\teventElement = $(eventElements[i]); // faster than eq()                                                         // 3966\n\t\t\ttriggerRes = trigger('eventRender', event, event, eventElement);                                                // 3967\n\t\t\tif (triggerRes === false) {                                                                                     // 3968\n\t\t\t\teventElement.remove();                                                                                         // 3969\n\t\t\t}else{                                                                                                          // 3970\n\t\t\t\tif (triggerRes && triggerRes !== true) {                                                                       // 3971\n\t\t\t\t\teventElement.remove();                                                                                        // 3972\n\t\t\t\t\teventElement = $(triggerRes)                                                                                  // 3973\n\t\t\t\t\t\t.css({                                                                                                       // 3974\n\t\t\t\t\t\t\tposition: 'absolute',                                                                                       // 3975\n\t\t\t\t\t\t\ttop: seg.top,                                                                                               // 3976\n\t\t\t\t\t\t\tleft: seg.left                                                                                              // 3977\n\t\t\t\t\t\t})                                                                                                           // 3978\n\t\t\t\t\t\t.appendTo(slotSegmentContainer);                                                                             // 3979\n\t\t\t\t}                                                                                                              // 3980\n\t\t\t\tseg.element = eventElement;                                                                                    // 3981\n\t\t\t\tif (event._id === modifiedEventId) {                                                                           // 3982\n\t\t\t\t\tbindSlotSeg(event, eventElement, seg);                                                                        // 3983\n\t\t\t\t}else{                                                                                                         // 3984\n\t\t\t\t\teventElement[0]._fci = i; // for lazySegBind                                                                  // 3985\n\t\t\t\t}                                                                                                              // 3986\n\t\t\t\treportEventElement(event, eventElement);                                                                       // 3987\n\t\t\t}                                                                                                               // 3988\n\t\t}                                                                                                                // 3989\n\t\t                                                                                                                 // 3990\n\t\tlazySegBind(slotSegmentContainer, segs, bindSlotSeg);                                                            // 3991\n\t\t                                                                                                                 // 3992\n\t\t// record event sides and title positions                                                                        // 3993\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 3994\n\t\t\tseg = segs[i];                                                                                                  // 3995\n\t\t\tif (eventElement = seg.element) {                                                                               // 3996\n\t\t\t\tval = vsideCache[key = seg.key = cssKey(eventElement[0])];                                                     // 3997\n\t\t\t\tseg.vsides = val === undefined ? (vsideCache[key] = vsides(eventElement, true)) : val;                         // 3998\n\t\t\t\tval = hsideCache[key];                                                                                         // 3999\n\t\t\t\tseg.hsides = val === undefined ? (hsideCache[key] = hsides(eventElement, true)) : val;                         // 4000\n\t\t\t\ttitleElement = eventElement.find('.fc-event-title');                                                           // 4001\n\t\t\t\tif (titleElement.length) {                                                                                     // 4002\n\t\t\t\t\tseg.contentTop = titleElement[0].offsetTop;                                                                   // 4003\n\t\t\t\t}                                                                                                              // 4004\n\t\t\t}                                                                                                               // 4005\n\t\t}                                                                                                                // 4006\n\t\t                                                                                                                 // 4007\n\t\t// set all positions/dimensions at once                                                                          // 4008\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4009\n\t\t\tseg = segs[i];                                                                                                  // 4010\n\t\t\tif (eventElement = seg.element) {                                                                               // 4011\n\t\t\t\teventElement[0].style.width = Math.max(0, seg.outerWidth - seg.hsides) + 'px';                                 // 4012\n\t\t\t\theight = Math.max(0, seg.outerHeight - seg.vsides);                                                            // 4013\n\t\t\t\teventElement[0].style.height = height + 'px';                                                                  // 4014\n\t\t\t\tevent = seg.event;                                                                                             // 4015\n\t\t\t\tif (seg.contentTop !== undefined && height - seg.contentTop < 10) {                                            // 4016\n\t\t\t\t\t// not enough room for title, put it in the time (TODO: maybe make both display:inline instead)               // 4017\n\t\t\t\t\teventElement.find('div.fc-event-time')                                                                        // 4018\n\t\t\t\t\t\t.text(formatDate(event.start, opt('timeFormat')) + ' - ' + event.title);                                     // 4019\n\t\t\t\t\teventElement.find('div.fc-event-title')                                                                       // 4020\n\t\t\t\t\t\t.remove();                                                                                                   // 4021\n\t\t\t\t}                                                                                                              // 4022\n\t\t\t\ttrigger('eventAfterRender', event, event, eventElement);                                                       // 4023\n\t\t\t}                                                                                                               // 4024\n\t\t}                                                                                                                // 4025\n\t\t\t\t\t                                                                                                              // 4026\n\t}                                                                                                                 // 4027\n\t                                                                                                                  // 4028\n\t                                                                                                                  // 4029\n\tfunction slotSegHtml(event, seg) {                                                                                // 4030\n\t\tvar html = \"<\";                                                                                                  // 4031\n\t\tvar url = event.url;                                                                                             // 4032\n\t\tvar skinCss = getSkinCss(event, opt);                                                                            // 4033\n\t\tvar classes = ['fc-event', 'fc-event-vert'];                                                                     // 4034\n\t\tif (isEventDraggable(event)) {                                                                                   // 4035\n\t\t\tclasses.push('fc-event-draggable');                                                                             // 4036\n\t\t}                                                                                                                // 4037\n\t\tif (seg.isStart) {                                                                                               // 4038\n\t\t\tclasses.push('fc-event-start');                                                                                 // 4039\n\t\t}                                                                                                                // 4040\n\t\tif (seg.isEnd) {                                                                                                 // 4041\n\t\t\tclasses.push('fc-event-end');                                                                                   // 4042\n\t\t}                                                                                                                // 4043\n\t\tclasses = classes.concat(event.className);                                                                       // 4044\n\t\tif (event.source) {                                                                                              // 4045\n\t\t\tclasses = classes.concat(event.source.className || []);                                                         // 4046\n\t\t}                                                                                                                // 4047\n\t\tif (url) {                                                                                                       // 4048\n\t\t\thtml += \"a href='\" + htmlEscape(event.url) + \"'\";                                                               // 4049\n\t\t}else{                                                                                                           // 4050\n\t\t\thtml += \"div\";                                                                                                  // 4051\n\t\t}                                                                                                                // 4052\n\t\thtml +=                                                                                                          // 4053\n\t\t\t\" class='\" + classes.join(' ') + \"'\" +                                                                          // 4054\n\t\t\t\" style='position:absolute;z-index:8;top:\" + seg.top + \"px;left:\" + seg.left + \"px;\" + skinCss + \"'\" +          // 4055\n\t\t\t\">\" +                                                                                                           // 4056\n\t\t\t\"<div class='fc-event-inner'>\" +                                                                                // 4057\n\t\t\t\"<div class='fc-event-time'>\" +                                                                                 // 4058\n\t\t\thtmlEscape(formatDates(event.start, event.end, opt('timeFormat'))) +                                            // 4059\n\t\t\t\"</div>\" +                                                                                                      // 4060\n\t\t\t\"<div class='fc-event-title'>\" +                                                                                // 4061\n\t\t\thtmlEscape(event.title) +                                                                                       // 4062\n\t\t\t\"</div>\" +                                                                                                      // 4063\n\t\t\t\"</div>\" +                                                                                                      // 4064\n\t\t\t\"<div class='fc-event-bg'></div>\";                                                                              // 4065\n\t\tif (seg.isEnd && isEventResizable(event)) {                                                                      // 4066\n\t\t\thtml +=                                                                                                         // 4067\n\t\t\t\t\"<div class='ui-resizable-handle ui-resizable-s'>=</div>\";                                                     // 4068\n\t\t}                                                                                                                // 4069\n\t\thtml +=                                                                                                          // 4070\n\t\t\t\"</\" + (url ? \"a\" : \"div\") + \">\";                                                                               // 4071\n\t\treturn html;                                                                                                     // 4072\n\t}                                                                                                                 // 4073\n\t                                                                                                                  // 4074\n\t                                                                                                                  // 4075\n\tfunction bindDaySeg(event, eventElement, seg) {                                                                   // 4076\n\t\tif (isEventDraggable(event)) {                                                                                   // 4077\n\t\t\tdraggableDayEvent(event, eventElement, seg.isStart);                                                            // 4078\n\t\t}                                                                                                                // 4079\n\t\tif (seg.isEnd && isEventResizable(event)) {                                                                      // 4080\n\t\t\tresizableDayEvent(event, eventElement, seg);                                                                    // 4081\n\t\t}                                                                                                                // 4082\n\t\teventElementHandlers(event, eventElement);                                                                       // 4083\n\t\t\t// needs to be after, because resizableDayEvent might stopImmediatePropagation on click                         // 4084\n\t}                                                                                                                 // 4085\n\t                                                                                                                  // 4086\n\t                                                                                                                  // 4087\n\tfunction bindSlotSeg(event, eventElement, seg) {                                                                  // 4088\n\t\tvar timeElement = eventElement.find('div.fc-event-time');                                                        // 4089\n\t\tif (isEventDraggable(event)) {                                                                                   // 4090\n\t\t\tdraggableSlotEvent(event, eventElement, timeElement);                                                           // 4091\n\t\t}                                                                                                                // 4092\n\t\tif (seg.isEnd && isEventResizable(event)) {                                                                      // 4093\n\t\t\tresizableSlotEvent(event, eventElement, timeElement);                                                           // 4094\n\t\t}                                                                                                                // 4095\n\t\teventElementHandlers(event, eventElement);                                                                       // 4096\n\t}                                                                                                                 // 4097\n\t                                                                                                                  // 4098\n\t                                                                                                                  // 4099\n\t                                                                                                                  // 4100\n\t/* Dragging                                                                                                       // 4101\n\t-----------------------------------------------------------------------------------*/                             // 4102\n\t                                                                                                                  // 4103\n\t                                                                                                                  // 4104\n\t// when event starts out FULL-DAY                                                                                 // 4105\n\t                                                                                                                  // 4106\n\tfunction draggableDayEvent(event, eventElement, isStart) {                                                        // 4107\n\t\tvar origWidth;                                                                                                   // 4108\n\t\tvar revert;                                                                                                      // 4109\n\t\tvar allDay=true;                                                                                                 // 4110\n\t\tvar dayDelta;                                                                                                    // 4111\n\t\tvar dis = opt('isRTL') ? -1 : 1;                                                                                 // 4112\n\t\tvar hoverListener = getHoverListener();                                                                          // 4113\n\t\tvar colWidth = getColWidth();                                                                                    // 4114\n\t\tvar snapHeight = getSnapHeight();                                                                                // 4115\n\t\tvar snapMinutes = getSnapMinutes();                                                                              // 4116\n\t\tvar minMinute = getMinMinute();                                                                                  // 4117\n\t\teventElement.draggable({                                                                                         // 4118\n\t\t\tzIndex: 9,                                                                                                      // 4119\n\t\t\topacity: opt('dragOpacity', 'month'), // use whatever the month view was using                                  // 4120\n\t\t\trevertDuration: opt('dragRevertDuration'),                                                                      // 4121\n\t\t\tstart: function(ev, ui) {                                                                                       // 4122\n\t\t\t\ttrigger('eventDragStart', eventElement, event, ev, ui);                                                        // 4123\n\t\t\t\thideEvents(event, eventElement);                                                                               // 4124\n\t\t\t\torigWidth = eventElement.width();                                                                              // 4125\n\t\t\t\thoverListener.start(function(cell, origCell, rowDelta, colDelta) {                                             // 4126\n\t\t\t\t\tclearOverlays();                                                                                              // 4127\n\t\t\t\t\tif (cell) {                                                                                                   // 4128\n\t\t\t\t\t\t//setOverflowHidden(true);                                                                                   // 4129\n\t\t\t\t\t\trevert = false;                                                                                              // 4130\n\t\t\t\t\t\tdayDelta = colDelta * dis;                                                                                   // 4131\n\t\t\t\t\t\tif (!cell.row) {                                                                                             // 4132\n\t\t\t\t\t\t\t// on full-days                                                                                             // 4133\n\t\t\t\t\t\t\trenderDayOverlay(                                                                                           // 4134\n\t\t\t\t\t\t\t\taddDays(cloneDate(event.start), dayDelta),                                                                 // 4135\n\t\t\t\t\t\t\t\taddDays(exclEndDay(event), dayDelta)                                                                       // 4136\n\t\t\t\t\t\t\t);                                                                                                          // 4137\n\t\t\t\t\t\t\tresetElement();                                                                                             // 4138\n\t\t\t\t\t\t}else{                                                                                                       // 4139\n\t\t\t\t\t\t\t// mouse is over bottom slots                                                                               // 4140\n\t\t\t\t\t\t\tif (isStart) {                                                                                              // 4141\n\t\t\t\t\t\t\t\tif (allDay) {                                                                                              // 4142\n\t\t\t\t\t\t\t\t\t// convert event to temporary slot-event                                                                  // 4143\n\t\t\t\t\t\t\t\t\teventElement.width(colWidth - 10); // don't use entire width                                              // 4144\n\t\t\t\t\t\t\t\t\tsetOuterHeight(                                                                                           // 4145\n\t\t\t\t\t\t\t\t\t\teventElement,                                                                                            // 4146\n\t\t\t\t\t\t\t\t\t\tsnapHeight * Math.round(                                                                                 // 4147\n\t\t\t\t\t\t\t\t\t\t\t(event.end ? ((event.end - event.start) / MINUTE_MS) : opt('defaultEventMinutes')) /                    // 4148\n\t\t\t\t\t\t\t\t\t\t\t\tsnapMinutes                                                                                            // 4149\n\t\t\t\t\t\t\t\t\t\t)                                                                                                        // 4150\n\t\t\t\t\t\t\t\t\t);                                                                                                        // 4151\n\t\t\t\t\t\t\t\t\teventElement.draggable('option', 'grid', [colWidth, 1]);                                                  // 4152\n\t\t\t\t\t\t\t\t\tallDay = false;                                                                                           // 4153\n\t\t\t\t\t\t\t\t}                                                                                                          // 4154\n\t\t\t\t\t\t\t}else{                                                                                                      // 4155\n\t\t\t\t\t\t\t\trevert = true;                                                                                             // 4156\n\t\t\t\t\t\t\t}                                                                                                           // 4157\n\t\t\t\t\t\t}                                                                                                            // 4158\n\t\t\t\t\t\trevert = revert || (allDay && !dayDelta);                                                                    // 4159\n\t\t\t\t\t}else{                                                                                                        // 4160\n\t\t\t\t\t\tresetElement();                                                                                              // 4161\n\t\t\t\t\t\t//setOverflowHidden(false);                                                                                  // 4162\n\t\t\t\t\t\trevert = true;                                                                                               // 4163\n\t\t\t\t\t}                                                                                                             // 4164\n\t\t\t\t\teventElement.draggable('option', 'revert', revert);                                                           // 4165\n\t\t\t\t}, ev, 'drag');                                                                                                // 4166\n\t\t\t},                                                                                                              // 4167\n\t\t\tstop: function(ev, ui) {                                                                                        // 4168\n\t\t\t\thoverListener.stop();                                                                                          // 4169\n\t\t\t\tclearOverlays();                                                                                               // 4170\n\t\t\t\ttrigger('eventDragStop', eventElement, event, ev, ui);                                                         // 4171\n\t\t\t\tif (revert) {                                                                                                  // 4172\n\t\t\t\t\t// hasn't moved or is out of bounds (draggable has already reverted)                                          // 4173\n\t\t\t\t\tresetElement();                                                                                               // 4174\n\t\t\t\t\teventElement.css('filter', ''); // clear IE opacity side-effects                                              // 4175\n\t\t\t\t\tshowEvents(event, eventElement);                                                                              // 4176\n\t\t\t\t}else{                                                                                                         // 4177\n\t\t\t\t\t// changed!                                                                                                   // 4178\n\t\t\t\t\tvar minuteDelta = 0;                                                                                          // 4179\n\t\t\t\t\tif (!allDay) {                                                                                                // 4180\n\t\t\t\t\t\tminuteDelta = Math.round((eventElement.offset().top - getBodyContent().offset().top) / snapHeight)           // 4181\n\t\t\t\t\t\t\t* snapMinutes                                                                                               // 4182\n\t\t\t\t\t\t\t+ minMinute                                                                                                 // 4183\n\t\t\t\t\t\t\t- (event.start.getHours() * 60 + event.start.getMinutes());                                                 // 4184\n\t\t\t\t\t}                                                                                                             // 4185\n\t\t\t\t\teventDrop(this, event, dayDelta, minuteDelta, allDay, ev, ui);                                                // 4186\n\t\t\t\t}                                                                                                              // 4187\n\t\t\t\t//setOverflowHidden(false);                                                                                    // 4188\n\t\t\t}                                                                                                               // 4189\n\t\t});                                                                                                              // 4190\n\t\tfunction resetElement() {                                                                                        // 4191\n\t\t\tif (!allDay) {                                                                                                  // 4192\n\t\t\t\teventElement                                                                                                   // 4193\n\t\t\t\t\t.width(origWidth)                                                                                             // 4194\n\t\t\t\t\t.height('')                                                                                                   // 4195\n\t\t\t\t\t.draggable('option', 'grid', null);                                                                           // 4196\n\t\t\t\tallDay = true;                                                                                                 // 4197\n\t\t\t}                                                                                                               // 4198\n\t\t}                                                                                                                // 4199\n\t}                                                                                                                 // 4200\n\t                                                                                                                  // 4201\n\t                                                                                                                  // 4202\n\t// when event starts out IN TIMESLOTS                                                                             // 4203\n\t                                                                                                                  // 4204\n\tfunction draggableSlotEvent(event, eventElement, timeElement) {                                                   // 4205\n\t\tvar origPosition;                                                                                                // 4206\n\t\tvar allDay=false;                                                                                                // 4207\n\t\tvar dayDelta;                                                                                                    // 4208\n\t\tvar minuteDelta;                                                                                                 // 4209\n\t\tvar prevMinuteDelta;                                                                                             // 4210\n\t\tvar dis = opt('isRTL') ? -1 : 1;                                                                                 // 4211\n\t\tvar hoverListener = getHoverListener();                                                                          // 4212\n\t\tvar colCnt = getColCnt();                                                                                        // 4213\n\t\tvar colWidth = getColWidth();                                                                                    // 4214\n\t\tvar snapHeight = getSnapHeight();                                                                                // 4215\n\t\tvar snapMinutes = getSnapMinutes();                                                                              // 4216\n\t\teventElement.draggable({                                                                                         // 4217\n\t\t\tzIndex: 9,                                                                                                      // 4218\n\t\t\tscroll: false,                                                                                                  // 4219\n\t\t\tgrid: [colWidth, snapHeight],                                                                                   // 4220\n\t\t\taxis: colCnt==1 ? 'y' : false,                                                                                  // 4221\n\t\t\topacity: opt('dragOpacity'),                                                                                    // 4222\n\t\t\trevertDuration: opt('dragRevertDuration'),                                                                      // 4223\n\t\t\tstart: function(ev, ui) {                                                                                       // 4224\n\t\t\t\ttrigger('eventDragStart', eventElement, event, ev, ui);                                                        // 4225\n\t\t\t\thideEvents(event, eventElement);                                                                               // 4226\n\t\t\t\torigPosition = eventElement.position();                                                                        // 4227\n\t\t\t\tminuteDelta = prevMinuteDelta = 0;                                                                             // 4228\n\t\t\t\thoverListener.start(function(cell, origCell, rowDelta, colDelta) {                                             // 4229\n\t\t\t\t\teventElement.draggable('option', 'revert', !cell);                                                            // 4230\n\t\t\t\t\tclearOverlays();                                                                                              // 4231\n\t\t\t\t\tif (cell) {                                                                                                   // 4232\n\t\t\t\t\t\tdayDelta = colDelta * dis;                                                                                   // 4233\n\t\t\t\t\t\tif (opt('allDaySlot') && !cell.row) {                                                                        // 4234\n\t\t\t\t\t\t\t// over full days                                                                                           // 4235\n\t\t\t\t\t\t\tif (!allDay) {                                                                                              // 4236\n\t\t\t\t\t\t\t\t// convert to temporary all-day event                                                                      // 4237\n\t\t\t\t\t\t\t\tallDay = true;                                                                                             // 4238\n\t\t\t\t\t\t\t\ttimeElement.hide();                                                                                        // 4239\n\t\t\t\t\t\t\t\teventElement.draggable('option', 'grid', null);                                                            // 4240\n\t\t\t\t\t\t\t}                                                                                                           // 4241\n\t\t\t\t\t\t\trenderDayOverlay(                                                                                           // 4242\n\t\t\t\t\t\t\t\taddDays(cloneDate(event.start), dayDelta),                                                                 // 4243\n\t\t\t\t\t\t\t\taddDays(exclEndDay(event), dayDelta)                                                                       // 4244\n\t\t\t\t\t\t\t);                                                                                                          // 4245\n\t\t\t\t\t\t}else{                                                                                                       // 4246\n\t\t\t\t\t\t\t// on slots                                                                                                 // 4247\n\t\t\t\t\t\t\tresetElement();                                                                                             // 4248\n\t\t\t\t\t\t}                                                                                                            // 4249\n\t\t\t\t\t}                                                                                                             // 4250\n\t\t\t\t}, ev, 'drag');                                                                                                // 4251\n\t\t\t},                                                                                                              // 4252\n\t\t\tdrag: function(ev, ui) {                                                                                        // 4253\n\t\t\t\tminuteDelta = Math.round((ui.position.top - origPosition.top) / snapHeight) * snapMinutes;                     // 4254\n\t\t\t\tif (minuteDelta != prevMinuteDelta) {                                                                          // 4255\n\t\t\t\t\tif (!allDay) {                                                                                                // 4256\n\t\t\t\t\t\tupdateTimeText(minuteDelta);                                                                                 // 4257\n\t\t\t\t\t}                                                                                                             // 4258\n\t\t\t\t\tprevMinuteDelta = minuteDelta;                                                                                // 4259\n\t\t\t\t}                                                                                                              // 4260\n\t\t\t},                                                                                                              // 4261\n\t\t\tstop: function(ev, ui) {                                                                                        // 4262\n\t\t\t\tvar cell = hoverListener.stop();                                                                               // 4263\n\t\t\t\tclearOverlays();                                                                                               // 4264\n\t\t\t\ttrigger('eventDragStop', eventElement, event, ev, ui);                                                         // 4265\n\t\t\t\tif (cell && (dayDelta || minuteDelta || allDay)) {                                                             // 4266\n\t\t\t\t\t// changed!                                                                                                   // 4267\n\t\t\t\t\teventDrop(this, event, dayDelta, allDay ? 0 : minuteDelta, allDay, ev, ui);                                   // 4268\n\t\t\t\t}else{                                                                                                         // 4269\n\t\t\t\t\t// either no change or out-of-bounds (draggable has already reverted)                                         // 4270\n\t\t\t\t\tresetElement();                                                                                               // 4271\n\t\t\t\t\teventElement.css('filter', ''); // clear IE opacity side-effects                                              // 4272\n\t\t\t\t\teventElement.css(origPosition); // sometimes fast drags make event revert to wrong position                   // 4273\n\t\t\t\t\tupdateTimeText(0);                                                                                            // 4274\n\t\t\t\t\tshowEvents(event, eventElement);                                                                              // 4275\n\t\t\t\t}                                                                                                              // 4276\n\t\t\t}                                                                                                               // 4277\n\t\t});                                                                                                              // 4278\n\t\tfunction updateTimeText(minuteDelta) {                                                                           // 4279\n\t\t\tvar newStart = addMinutes(cloneDate(event.start), minuteDelta);                                                 // 4280\n\t\t\tvar newEnd;                                                                                                     // 4281\n\t\t\tif (event.end) {                                                                                                // 4282\n\t\t\t\tnewEnd = addMinutes(cloneDate(event.end), minuteDelta);                                                        // 4283\n\t\t\t}                                                                                                               // 4284\n\t\t\ttimeElement.text(formatDates(newStart, newEnd, opt('timeFormat')));                                             // 4285\n\t\t}                                                                                                                // 4286\n\t\tfunction resetElement() {                                                                                        // 4287\n\t\t\t// convert back to original slot-event                                                                          // 4288\n\t\t\tif (allDay) {                                                                                                   // 4289\n\t\t\t\ttimeElement.css('display', ''); // show() was causing display=inline                                           // 4290\n\t\t\t\teventElement.draggable('option', 'grid', [colWidth, snapHeight]);                                              // 4291\n\t\t\t\tallDay = false;                                                                                                // 4292\n\t\t\t}                                                                                                               // 4293\n\t\t}                                                                                                                // 4294\n\t}                                                                                                                 // 4295\n\t                                                                                                                  // 4296\n\t                                                                                                                  // 4297\n\t                                                                                                                  // 4298\n\t/* Resizing                                                                                                       // 4299\n\t--------------------------------------------------------------------------------------*/                          // 4300\n\t                                                                                                                  // 4301\n\t                                                                                                                  // 4302\n\tfunction resizableSlotEvent(event, eventElement, timeElement) {                                                   // 4303\n\t\tvar snapDelta, prevSnapDelta;                                                                                    // 4304\n\t\tvar snapHeight = getSnapHeight();                                                                                // 4305\n\t\tvar snapMinutes = getSnapMinutes();                                                                              // 4306\n\t\teventElement.resizable({                                                                                         // 4307\n\t\t\thandles: {                                                                                                      // 4308\n\t\t\t\ts: '.ui-resizable-handle'                                                                                      // 4309\n\t\t\t},                                                                                                              // 4310\n\t\t\tgrid: snapHeight,                                                                                               // 4311\n\t\t\tstart: function(ev, ui) {                                                                                       // 4312\n\t\t\t\tsnapDelta = prevSnapDelta = 0;                                                                                 // 4313\n\t\t\t\thideEvents(event, eventElement);                                                                               // 4314\n\t\t\t\teventElement.css('z-index', 9);                                                                                // 4315\n\t\t\t\ttrigger('eventResizeStart', this, event, ev, ui);                                                              // 4316\n\t\t\t},                                                                                                              // 4317\n\t\t\tresize: function(ev, ui) {                                                                                      // 4318\n\t\t\t\t// don't rely on ui.size.height, doesn't take grid into account                                                // 4319\n\t\t\t\tsnapDelta = Math.round((Math.max(snapHeight, eventElement.height()) - ui.originalSize.height) / snapHeight);   // 4320\n\t\t\t\tif (snapDelta != prevSnapDelta) {                                                                              // 4321\n\t\t\t\t\ttimeElement.text(                                                                                             // 4322\n\t\t\t\t\t\tformatDates(                                                                                                 // 4323\n\t\t\t\t\t\t\tevent.start,                                                                                                // 4324\n\t\t\t\t\t\t\t(!snapDelta && !event.end) ? null : // no change, so don't display time range                               // 4325\n\t\t\t\t\t\t\t\taddMinutes(eventEnd(event), snapMinutes*snapDelta),                                                        // 4326\n\t\t\t\t\t\t\topt('timeFormat')                                                                                           // 4327\n\t\t\t\t\t\t)                                                                                                            // 4328\n\t\t\t\t\t);                                                                                                            // 4329\n\t\t\t\t\tprevSnapDelta = snapDelta;                                                                                    // 4330\n\t\t\t\t}                                                                                                              // 4331\n\t\t\t},                                                                                                              // 4332\n\t\t\tstop: function(ev, ui) {                                                                                        // 4333\n\t\t\t\ttrigger('eventResizeStop', this, event, ev, ui);                                                               // 4334\n\t\t\t\tif (snapDelta) {                                                                                               // 4335\n\t\t\t\t\teventResize(this, event, 0, snapMinutes*snapDelta, ev, ui);                                                   // 4336\n\t\t\t\t}else{                                                                                                         // 4337\n\t\t\t\t\teventElement.css('z-index', 8);                                                                               // 4338\n\t\t\t\t\tshowEvents(event, eventElement);                                                                              // 4339\n\t\t\t\t\t// BUG: if event was really short, need to put title back in span                                             // 4340\n\t\t\t\t}                                                                                                              // 4341\n\t\t\t}                                                                                                               // 4342\n\t\t});                                                                                                              // 4343\n\t}                                                                                                                 // 4344\n\t                                                                                                                  // 4345\n                                                                                                                   // 4346\n}                                                                                                                  // 4347\n                                                                                                                   // 4348\n                                                                                                                   // 4349\nfunction countForwardSegs(levels) {                                                                                // 4350\n\tvar i, j, k, level, segForward, segBack;                                                                          // 4351\n\tfor (i=levels.length-1; i>0; i--) {                                                                               // 4352\n\t\tlevel = levels[i];                                                                                               // 4353\n\t\tfor (j=0; j<level.length; j++) {                                                                                 // 4354\n\t\t\tsegForward = level[j];                                                                                          // 4355\n\t\t\tfor (k=0; k<levels[i-1].length; k++) {                                                                          // 4356\n\t\t\t\tsegBack = levels[i-1][k];                                                                                      // 4357\n\t\t\t\tif (segsCollide(segForward, segBack)) {                                                                        // 4358\n\t\t\t\t\tsegBack.forward = Math.max(segBack.forward||0, (segForward.forward||0)+1);                                    // 4359\n\t\t\t\t}                                                                                                              // 4360\n\t\t\t}                                                                                                               // 4361\n\t\t}                                                                                                                // 4362\n\t}                                                                                                                 // 4363\n}                                                                                                                  // 4364\n                                                                                                                   // 4365\n                                                                                                                   // 4366\n                                                                                                                   // 4367\n;;                                                                                                                 // 4368\n                                                                                                                   // 4369\n                                                                                                                   // 4370\nfunction View(element, calendar, viewName) {                                                                       // 4371\n\tvar t = this;                                                                                                     // 4372\n\t                                                                                                                  // 4373\n\t                                                                                                                  // 4374\n\t// exports                                                                                                        // 4375\n\tt.element = element;                                                                                              // 4376\n\tt.calendar = calendar;                                                                                            // 4377\n\tt.name = viewName;                                                                                                // 4378\n\tt.opt = opt;                                                                                                      // 4379\n\tt.trigger = trigger;                                                                                              // 4380\n\t//t.setOverflowHidden = setOverflowHidden;                                                                        // 4381\n\tt.isEventDraggable = isEventDraggable;                                                                            // 4382\n\tt.isEventResizable = isEventResizable;                                                                            // 4383\n\tt.reportEvents = reportEvents;                                                                                    // 4384\n\tt.eventEnd = eventEnd;                                                                                            // 4385\n\tt.reportEventElement = reportEventElement;                                                                        // 4386\n\tt.reportEventClear = reportEventClear;                                                                            // 4387\n\tt.eventElementHandlers = eventElementHandlers;                                                                    // 4388\n\tt.showEvents = showEvents;                                                                                        // 4389\n\tt.hideEvents = hideEvents;                                                                                        // 4390\n\tt.eventDrop = eventDrop;                                                                                          // 4391\n\tt.eventResize = eventResize;                                                                                      // 4392\n\t// t.title                                                                                                        // 4393\n\t// t.start, t.end                                                                                                 // 4394\n\t// t.visStart, t.visEnd                                                                                           // 4395\n\t                                                                                                                  // 4396\n\t                                                                                                                  // 4397\n\t// imports                                                                                                        // 4398\n\tvar defaultEventEnd = t.defaultEventEnd;                                                                          // 4399\n\tvar normalizeEvent = calendar.normalizeEvent; // in EventManager                                                  // 4400\n\tvar reportEventChange = calendar.reportEventChange;                                                               // 4401\n\t                                                                                                                  // 4402\n\t                                                                                                                  // 4403\n\t// locals                                                                                                         // 4404\n\tvar eventsByID = {};                                                                                              // 4405\n\tvar eventElements = [];                                                                                           // 4406\n\tvar eventElementsByID = {};                                                                                       // 4407\n\tvar options = calendar.options;                                                                                   // 4408\n\t                                                                                                                  // 4409\n\t                                                                                                                  // 4410\n\t                                                                                                                  // 4411\n\tfunction opt(name, viewNameOverride) {                                                                            // 4412\n\t\tvar v = options[name];                                                                                           // 4413\n\t\tif (typeof v == 'object') {                                                                                      // 4414\n\t\t\treturn smartProperty(v, viewNameOverride || viewName);                                                          // 4415\n\t\t}                                                                                                                // 4416\n\t\treturn v;                                                                                                        // 4417\n\t}                                                                                                                 // 4418\n                                                                                                                   // 4419\n\t                                                                                                                  // 4420\n\tfunction trigger(name, thisObj) {                                                                                 // 4421\n\t\treturn calendar.trigger.apply(                                                                                   // 4422\n\t\t\tcalendar,                                                                                                       // 4423\n\t\t\t[name, thisObj || t].concat(Array.prototype.slice.call(arguments, 2), [t])                                      // 4424\n\t\t);                                                                                                               // 4425\n\t}                                                                                                                 // 4426\n\t                                                                                                                  // 4427\n\t                                                                                                                  // 4428\n\t/*                                                                                                                // 4429\n\tfunction setOverflowHidden(bool) {                                                                                // 4430\n\t\telement.css('overflow', bool ? 'hidden' : '');                                                                   // 4431\n\t}                                                                                                                 // 4432\n\t*/                                                                                                                // 4433\n\t                                                                                                                  // 4434\n\t                                                                                                                  // 4435\n\tfunction isEventDraggable(event) {                                                                                // 4436\n\t\treturn isEventEditable(event) && !opt('disableDragging');                                                        // 4437\n\t}                                                                                                                 // 4438\n\t                                                                                                                  // 4439\n\t                                                                                                                  // 4440\n\tfunction isEventResizable(event) { // but also need to make sure the seg.isEnd == true                            // 4441\n\t\treturn isEventEditable(event) && !opt('disableResizing');                                                        // 4442\n\t}                                                                                                                 // 4443\n\t                                                                                                                  // 4444\n\t                                                                                                                  // 4445\n\tfunction isEventEditable(event) {                                                                                 // 4446\n\t\treturn firstDefined(event.editable, (event.source || {}).editable, opt('editable'));                             // 4447\n\t}                                                                                                                 // 4448\n\t                                                                                                                  // 4449\n\t                                                                                                                  // 4450\n\t                                                                                                                  // 4451\n\t/* Event Data                                                                                                     // 4452\n\t------------------------------------------------------------------------------*/                                  // 4453\n\t                                                                                                                  // 4454\n\t                                                                                                                  // 4455\n\t// report when view receives new events                                                                           // 4456\n\tfunction reportEvents(events) { // events are already normalized at this point                                    // 4457\n\t\teventsByID = {};                                                                                                 // 4458\n\t\tvar i, len=events.length, event;                                                                                 // 4459\n\t\tfor (i=0; i<len; i++) {                                                                                          // 4460\n\t\t\tevent = events[i];                                                                                              // 4461\n\t\t\tif (eventsByID[event._id]) {                                                                                    // 4462\n\t\t\t\teventsByID[event._id].push(event);                                                                             // 4463\n\t\t\t}else{                                                                                                          // 4464\n\t\t\t\teventsByID[event._id] = [event];                                                                               // 4465\n\t\t\t}                                                                                                               // 4466\n\t\t}                                                                                                                // 4467\n\t}                                                                                                                 // 4468\n\t                                                                                                                  // 4469\n\t                                                                                                                  // 4470\n\t// returns a Date object for an event's end                                                                       // 4471\n\tfunction eventEnd(event) {                                                                                        // 4472\n\t\treturn event.end ? cloneDate(event.end) : defaultEventEnd(event);                                                // 4473\n\t}                                                                                                                 // 4474\n\t                                                                                                                  // 4475\n\t                                                                                                                  // 4476\n\t                                                                                                                  // 4477\n\t/* Event Elements                                                                                                 // 4478\n\t------------------------------------------------------------------------------*/                                  // 4479\n\t                                                                                                                  // 4480\n\t                                                                                                                  // 4481\n\t// report when view creates an element for an event                                                               // 4482\n\tfunction reportEventElement(event, element) {                                                                     // 4483\n\t\teventElements.push(element);                                                                                     // 4484\n\t\tif (eventElementsByID[event._id]) {                                                                              // 4485\n\t\t\teventElementsByID[event._id].push(element);                                                                     // 4486\n\t\t}else{                                                                                                           // 4487\n\t\t\teventElementsByID[event._id] = [element];                                                                       // 4488\n\t\t}                                                                                                                // 4489\n\t}                                                                                                                 // 4490\n\t                                                                                                                  // 4491\n\t                                                                                                                  // 4492\n\tfunction reportEventClear() {                                                                                     // 4493\n\t\teventElements = [];                                                                                              // 4494\n\t\teventElementsByID = {};                                                                                          // 4495\n\t}                                                                                                                 // 4496\n\t                                                                                                                  // 4497\n\t                                                                                                                  // 4498\n\t// attaches eventClick, eventMouseover, eventMouseout                                                             // 4499\n\tfunction eventElementHandlers(event, eventElement) {                                                              // 4500\n\t\teventElement                                                                                                     // 4501\n\t\t\t.click(function(ev) {                                                                                           // 4502\n\t\t\t\tif (!eventElement.hasClass('ui-draggable-dragging') &&                                                         // 4503\n\t\t\t\t\t!eventElement.hasClass('ui-resizable-resizing')) {                                                            // 4504\n\t\t\t\t\t\treturn trigger('eventClick', this, event, ev);                                                               // 4505\n\t\t\t\t\t}                                                                                                             // 4506\n\t\t\t})                                                                                                              // 4507\n\t\t\t.hover(                                                                                                         // 4508\n\t\t\t\tfunction(ev) {                                                                                                 // 4509\n\t\t\t\t\ttrigger('eventMouseover', this, event, ev);                                                                   // 4510\n\t\t\t\t},                                                                                                             // 4511\n\t\t\t\tfunction(ev) {                                                                                                 // 4512\n\t\t\t\t\ttrigger('eventMouseout', this, event, ev);                                                                    // 4513\n\t\t\t\t}                                                                                                              // 4514\n\t\t\t);                                                                                                              // 4515\n\t\t// TODO: don't fire eventMouseover/eventMouseout *while* dragging is occuring (on subject element)               // 4516\n\t\t// TODO: same for resizing                                                                                       // 4517\n\t}                                                                                                                 // 4518\n\t                                                                                                                  // 4519\n\t                                                                                                                  // 4520\n\tfunction showEvents(event, exceptElement) {                                                                       // 4521\n\t\teachEventElement(event, exceptElement, 'show');                                                                  // 4522\n\t}                                                                                                                 // 4523\n\t                                                                                                                  // 4524\n\t                                                                                                                  // 4525\n\tfunction hideEvents(event, exceptElement) {                                                                       // 4526\n\t\teachEventElement(event, exceptElement, 'hide');                                                                  // 4527\n\t}                                                                                                                 // 4528\n\t                                                                                                                  // 4529\n\t                                                                                                                  // 4530\n\tfunction eachEventElement(event, exceptElement, funcName) {                                                       // 4531\n\t\tvar elements = eventElementsByID[event._id],                                                                     // 4532\n\t\t\ti, len = elements.length;                                                                                       // 4533\n\t\tfor (i=0; i<len; i++) {                                                                                          // 4534\n\t\t\tif (!exceptElement || elements[i][0] != exceptElement[0]) {                                                     // 4535\n\t\t\t\telements[i][funcName]();                                                                                       // 4536\n\t\t\t}                                                                                                               // 4537\n\t\t}                                                                                                                // 4538\n\t}                                                                                                                 // 4539\n\t                                                                                                                  // 4540\n\t                                                                                                                  // 4541\n\t                                                                                                                  // 4542\n\t/* Event Modification Reporting                                                                                   // 4543\n\t---------------------------------------------------------------------------------*/                               // 4544\n\t                                                                                                                  // 4545\n\t                                                                                                                  // 4546\n\tfunction eventDrop(e, event, dayDelta, minuteDelta, allDay, ev, ui) {                                             // 4547\n\t\tvar oldAllDay = event.allDay;                                                                                    // 4548\n\t\tvar eventId = event._id;                                                                                         // 4549\n\t\tmoveEvents(eventsByID[eventId], dayDelta, minuteDelta, allDay);                                                  // 4550\n\t\ttrigger(                                                                                                         // 4551\n\t\t\t'eventDrop',                                                                                                    // 4552\n\t\t\te,                                                                                                              // 4553\n\t\t\tevent,                                                                                                          // 4554\n\t\t\tdayDelta,                                                                                                       // 4555\n\t\t\tminuteDelta,                                                                                                    // 4556\n\t\t\tallDay,                                                                                                         // 4557\n\t\t\tfunction() {                                                                                                    // 4558\n\t\t\t\t// TODO: investigate cases where this inverse technique might not work                                         // 4559\n\t\t\t\tmoveEvents(eventsByID[eventId], -dayDelta, -minuteDelta, oldAllDay);                                           // 4560\n\t\t\t\treportEventChange(eventId);                                                                                    // 4561\n\t\t\t},                                                                                                              // 4562\n\t\t\tev,                                                                                                             // 4563\n\t\t\tui                                                                                                              // 4564\n\t\t);                                                                                                               // 4565\n\t\treportEventChange(eventId);                                                                                      // 4566\n\t}                                                                                                                 // 4567\n\t                                                                                                                  // 4568\n\t                                                                                                                  // 4569\n\tfunction eventResize(e, event, dayDelta, minuteDelta, ev, ui) {                                                   // 4570\n\t\tvar eventId = event._id;                                                                                         // 4571\n\t\telongateEvents(eventsByID[eventId], dayDelta, minuteDelta);                                                      // 4572\n\t\ttrigger(                                                                                                         // 4573\n\t\t\t'eventResize',                                                                                                  // 4574\n\t\t\te,                                                                                                              // 4575\n\t\t\tevent,                                                                                                          // 4576\n\t\t\tdayDelta,                                                                                                       // 4577\n\t\t\tminuteDelta,                                                                                                    // 4578\n\t\t\tfunction() {                                                                                                    // 4579\n\t\t\t\t// TODO: investigate cases where this inverse technique might not work                                         // 4580\n\t\t\t\telongateEvents(eventsByID[eventId], -dayDelta, -minuteDelta);                                                  // 4581\n\t\t\t\treportEventChange(eventId);                                                                                    // 4582\n\t\t\t},                                                                                                              // 4583\n\t\t\tev,                                                                                                             // 4584\n\t\t\tui                                                                                                              // 4585\n\t\t);                                                                                                               // 4586\n\t\treportEventChange(eventId);                                                                                      // 4587\n\t}                                                                                                                 // 4588\n\t                                                                                                                  // 4589\n\t                                                                                                                  // 4590\n\t                                                                                                                  // 4591\n\t/* Event Modification Math                                                                                        // 4592\n\t---------------------------------------------------------------------------------*/                               // 4593\n\t                                                                                                                  // 4594\n\t                                                                                                                  // 4595\n\tfunction moveEvents(events, dayDelta, minuteDelta, allDay) {                                                      // 4596\n\t\tminuteDelta = minuteDelta || 0;                                                                                  // 4597\n\t\tfor (var e, len=events.length, i=0; i<len; i++) {                                                                // 4598\n\t\t\te = events[i];                                                                                                  // 4599\n\t\t\tif (allDay !== undefined) {                                                                                     // 4600\n\t\t\t\te.allDay = allDay;                                                                                             // 4601\n\t\t\t}                                                                                                               // 4602\n\t\t\taddMinutes(addDays(e.start, dayDelta, true), minuteDelta);                                                      // 4603\n\t\t\tif (e.end) {                                                                                                    // 4604\n\t\t\t\te.end = addMinutes(addDays(e.end, dayDelta, true), minuteDelta);                                               // 4605\n\t\t\t}                                                                                                               // 4606\n\t\t\tnormalizeEvent(e, options);                                                                                     // 4607\n\t\t}                                                                                                                // 4608\n\t}                                                                                                                 // 4609\n\t                                                                                                                  // 4610\n\t                                                                                                                  // 4611\n\tfunction elongateEvents(events, dayDelta, minuteDelta) {                                                          // 4612\n\t\tminuteDelta = minuteDelta || 0;                                                                                  // 4613\n\t\tfor (var e, len=events.length, i=0; i<len; i++) {                                                                // 4614\n\t\t\te = events[i];                                                                                                  // 4615\n\t\t\te.end = addMinutes(addDays(eventEnd(e), dayDelta, true), minuteDelta);                                          // 4616\n\t\t\tnormalizeEvent(e, options);                                                                                     // 4617\n\t\t}                                                                                                                // 4618\n\t}                                                                                                                 // 4619\n\t                                                                                                                  // 4620\n                                                                                                                   // 4621\n}                                                                                                                  // 4622\n                                                                                                                   // 4623\n;;                                                                                                                 // 4624\n                                                                                                                   // 4625\nfunction DayEventRenderer() {                                                                                      // 4626\n\tvar t = this;                                                                                                     // 4627\n                                                                                                                   // 4628\n\t                                                                                                                  // 4629\n\t// exports                                                                                                        // 4630\n\tt.renderDaySegs = renderDaySegs;                                                                                  // 4631\n\tt.resizableDayEvent = resizableDayEvent;                                                                          // 4632\n\t                                                                                                                  // 4633\n\t                                                                                                                  // 4634\n\t// imports                                                                                                        // 4635\n\tvar opt = t.opt;                                                                                                  // 4636\n\tvar trigger = t.trigger;                                                                                          // 4637\n\tvar isEventDraggable = t.isEventDraggable;                                                                        // 4638\n\tvar isEventResizable = t.isEventResizable;                                                                        // 4639\n\tvar eventEnd = t.eventEnd;                                                                                        // 4640\n\tvar reportEventElement = t.reportEventElement;                                                                    // 4641\n\tvar showEvents = t.showEvents;                                                                                    // 4642\n\tvar hideEvents = t.hideEvents;                                                                                    // 4643\n\tvar eventResize = t.eventResize;                                                                                  // 4644\n\tvar getRowCnt = t.getRowCnt;                                                                                      // 4645\n\tvar getColCnt = t.getColCnt;                                                                                      // 4646\n\tvar getColWidth = t.getColWidth;                                                                                  // 4647\n\tvar allDayRow = t.allDayRow;                                                                                      // 4648\n\tvar allDayBounds = t.allDayBounds;                                                                                // 4649\n\tvar colContentLeft = t.colContentLeft;                                                                            // 4650\n\tvar colContentRight = t.colContentRight;                                                                          // 4651\n\tvar dayOfWeekCol = t.dayOfWeekCol;                                                                                // 4652\n\tvar dateCell = t.dateCell;                                                                                        // 4653\n\tvar compileDaySegs = t.compileDaySegs;                                                                            // 4654\n\tvar getDaySegmentContainer = t.getDaySegmentContainer;                                                            // 4655\n\tvar bindDaySeg = t.bindDaySeg; //TODO: streamline this                                                            // 4656\n\tvar formatDates = t.calendar.formatDates;                                                                         // 4657\n\tvar renderDayOverlay = t.renderDayOverlay;                                                                        // 4658\n\tvar clearOverlays = t.clearOverlays;                                                                              // 4659\n\tvar clearSelection = t.clearSelection;                                                                            // 4660\n\t                                                                                                                  // 4661\n\t                                                                                                                  // 4662\n\t                                                                                                                  // 4663\n\t/* Rendering                                                                                                      // 4664\n\t-----------------------------------------------------------------------------*/                                   // 4665\n\t                                                                                                                  // 4666\n\t                                                                                                                  // 4667\n\tfunction renderDaySegs(segs, modifiedEventId) {                                                                   // 4668\n\t\tvar segmentContainer = getDaySegmentContainer();                                                                 // 4669\n\t\tvar rowDivs;                                                                                                     // 4670\n\t\tvar rowCnt = getRowCnt();                                                                                        // 4671\n\t\tvar colCnt = getColCnt();                                                                                        // 4672\n\t\tvar i = 0;                                                                                                       // 4673\n\t\tvar rowI;                                                                                                        // 4674\n\t\tvar levelI;                                                                                                      // 4675\n\t\tvar colHeights;                                                                                                  // 4676\n\t\tvar j;                                                                                                           // 4677\n\t\tvar segCnt = segs.length;                                                                                        // 4678\n\t\tvar seg;                                                                                                         // 4679\n\t\tvar top;                                                                                                         // 4680\n\t\tvar k;                                                                                                           // 4681\n\t\tsegmentContainer[0].innerHTML = daySegHTML(segs); // faster than .html()                                         // 4682\n\t\tdaySegElementResolve(segs, segmentContainer.children());                                                         // 4683\n\t\tdaySegElementReport(segs);                                                                                       // 4684\n\t\tdaySegHandlers(segs, segmentContainer, modifiedEventId);                                                         // 4685\n\t\tdaySegCalcHSides(segs);                                                                                          // 4686\n\t\tdaySegSetWidths(segs);                                                                                           // 4687\n\t\tdaySegCalcHeights(segs);                                                                                         // 4688\n\t\trowDivs = getRowDivs();                                                                                          // 4689\n\t\t// set row heights, calculate event tops (in relation to row top)                                                // 4690\n\t\tfor (rowI=0; rowI<rowCnt; rowI++) {                                                                              // 4691\n\t\t\tlevelI = 0;                                                                                                     // 4692\n\t\t\tcolHeights = [];                                                                                                // 4693\n\t\t\tfor (j=0; j<colCnt; j++) {                                                                                      // 4694\n\t\t\t\tcolHeights[j] = 0;                                                                                             // 4695\n\t\t\t}                                                                                                               // 4696\n\t\t\twhile (i<segCnt && (seg = segs[i]).row == rowI) {                                                               // 4697\n\t\t\t\t// loop through segs in a row                                                                                  // 4698\n\t\t\t\ttop = arrayMax(colHeights.slice(seg.startCol, seg.endCol));                                                    // 4699\n\t\t\t\tseg.top = top;                                                                                                 // 4700\n\t\t\t\ttop += seg.outerHeight;                                                                                        // 4701\n\t\t\t\tfor (k=seg.startCol; k<seg.endCol; k++) {                                                                      // 4702\n\t\t\t\t\tcolHeights[k] = top;                                                                                          // 4703\n\t\t\t\t}                                                                                                              // 4704\n\t\t\t\ti++;                                                                                                           // 4705\n\t\t\t}                                                                                                               // 4706\n\t\t\trowDivs[rowI].height(arrayMax(colHeights));                                                                     // 4707\n\t\t}                                                                                                                // 4708\n\t\tdaySegSetTops(segs, getRowTops(rowDivs));                                                                        // 4709\n\t}                                                                                                                 // 4710\n\t                                                                                                                  // 4711\n\t                                                                                                                  // 4712\n\tfunction renderTempDaySegs(segs, adjustRow, adjustTop) {                                                          // 4713\n\t\tvar tempContainer = $(\"<div/>\");                                                                                 // 4714\n\t\tvar elements;                                                                                                    // 4715\n\t\tvar segmentContainer = getDaySegmentContainer();                                                                 // 4716\n\t\tvar i;                                                                                                           // 4717\n\t\tvar segCnt = segs.length;                                                                                        // 4718\n\t\tvar element;                                                                                                     // 4719\n\t\ttempContainer[0].innerHTML = daySegHTML(segs); // faster than .html()                                            // 4720\n\t\telements = tempContainer.children();                                                                             // 4721\n\t\tsegmentContainer.append(elements);                                                                               // 4722\n\t\tdaySegElementResolve(segs, elements);                                                                            // 4723\n\t\tdaySegCalcHSides(segs);                                                                                          // 4724\n\t\tdaySegSetWidths(segs);                                                                                           // 4725\n\t\tdaySegCalcHeights(segs);                                                                                         // 4726\n\t\tdaySegSetTops(segs, getRowTops(getRowDivs()));                                                                   // 4727\n\t\telements = [];                                                                                                   // 4728\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4729\n\t\t\telement = segs[i].element;                                                                                      // 4730\n\t\t\tif (element) {                                                                                                  // 4731\n\t\t\t\tif (segs[i].row === adjustRow) {                                                                               // 4732\n\t\t\t\t\telement.css('top', adjustTop);                                                                                // 4733\n\t\t\t\t}                                                                                                              // 4734\n\t\t\t\telements.push(element[0]);                                                                                     // 4735\n\t\t\t}                                                                                                               // 4736\n\t\t}                                                                                                                // 4737\n\t\treturn $(elements);                                                                                              // 4738\n\t}                                                                                                                 // 4739\n\t                                                                                                                  // 4740\n\t                                                                                                                  // 4741\n\tfunction daySegHTML(segs) { // also sets seg.left and seg.outerWidth                                              // 4742\n\t\tvar rtl = opt('isRTL');                                                                                          // 4743\n\t\tvar i;                                                                                                           // 4744\n\t\tvar segCnt=segs.length;                                                                                          // 4745\n\t\tvar seg;                                                                                                         // 4746\n\t\tvar event;                                                                                                       // 4747\n\t\tvar url;                                                                                                         // 4748\n\t\tvar classes;                                                                                                     // 4749\n\t\tvar bounds = allDayBounds();                                                                                     // 4750\n\t\tvar minLeft = bounds.left;                                                                                       // 4751\n\t\tvar maxLeft = bounds.right;                                                                                      // 4752\n\t\tvar leftCol;                                                                                                     // 4753\n\t\tvar rightCol;                                                                                                    // 4754\n\t\tvar left;                                                                                                        // 4755\n\t\tvar right;                                                                                                       // 4756\n\t\tvar skinCss;                                                                                                     // 4757\n\t\tvar html = '';                                                                                                   // 4758\n\t\t// calculate desired position/dimensions, create html                                                            // 4759\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4760\n\t\t\tseg = segs[i];                                                                                                  // 4761\n\t\t\tevent = seg.event;                                                                                              // 4762\n\t\t\tclasses = ['fc-event', 'fc-event-hori'];                                                                        // 4763\n\t\t\tif (isEventDraggable(event)) {                                                                                  // 4764\n\t\t\t\tclasses.push('fc-event-draggable');                                                                            // 4765\n\t\t\t}                                                                                                               // 4766\n\t\t\tif (seg.isStart) {                                                                                              // 4767\n\t\t\t\tclasses.push('fc-event-start');                                                                                // 4768\n\t\t\t}                                                                                                               // 4769\n\t\t\tif (seg.isEnd) {                                                                                                // 4770\n\t\t\t\tclasses.push('fc-event-end');                                                                                  // 4771\n\t\t\t}                                                                                                               // 4772\n\t\t\tif (rtl) {                                                                                                      // 4773\n\t\t\t\tleftCol = dayOfWeekCol(seg.end.getDay()-1);                                                                    // 4774\n\t\t\t\trightCol = dayOfWeekCol(seg.start.getDay());                                                                   // 4775\n\t\t\t\tleft = seg.isEnd ? colContentLeft(leftCol) : minLeft;                                                          // 4776\n\t\t\t\tright = seg.isStart ? colContentRight(rightCol) : maxLeft;                                                     // 4777\n\t\t\t}else{                                                                                                          // 4778\n\t\t\t\tleftCol = dayOfWeekCol(seg.start.getDay());                                                                    // 4779\n\t\t\t\trightCol = dayOfWeekCol(seg.end.getDay()-1);                                                                   // 4780\n\t\t\t\tleft = seg.isStart ? colContentLeft(leftCol) : minLeft;                                                        // 4781\n\t\t\t\tright = seg.isEnd ? colContentRight(rightCol) : maxLeft;                                                       // 4782\n\t\t\t}                                                                                                               // 4783\n\t\t\tclasses = classes.concat(event.className);                                                                      // 4784\n\t\t\tif (event.source) {                                                                                             // 4785\n\t\t\t\tclasses = classes.concat(event.source.className || []);                                                        // 4786\n\t\t\t}                                                                                                               // 4787\n\t\t\turl = event.url;                                                                                                // 4788\n\t\t\tskinCss = getSkinCss(event, opt);                                                                               // 4789\n\t\t\tif (url) {                                                                                                      // 4790\n\t\t\t\thtml += \"<a href='\" + htmlEscape(url) + \"'\";                                                                   // 4791\n\t\t\t}else{                                                                                                          // 4792\n\t\t\t\thtml += \"<div\";                                                                                                // 4793\n\t\t\t}                                                                                                               // 4794\n\t\t\thtml +=                                                                                                         // 4795\n\t\t\t\t\" class='\" + classes.join(' ') + \"'\" +                                                                         // 4796\n\t\t\t\t\" style='position:absolute;z-index:8;left:\"+left+\"px;\" + skinCss + \"'\" +                                       // 4797\n\t\t\t\t\">\" +                                                                                                          // 4798\n\t\t\t\t\"<div class='fc-event-inner'>\";                                                                                // 4799\n\t\t\tif (!event.allDay && seg.isStart) {                                                                             // 4800\n\t\t\t\thtml +=                                                                                                        // 4801\n\t\t\t\t\t\"<span class='fc-event-time'>\" +                                                                              // 4802\n\t\t\t\t\thtmlEscape(formatDates(event.start, event.end, opt('timeFormat'))) +                                          // 4803\n\t\t\t\t\t\"</span>\";                                                                                                    // 4804\n\t\t\t}                                                                                                               // 4805\n\t\t\thtml +=                                                                                                         // 4806\n\t\t\t\t\"<span class='fc-event-title'>\" + htmlEscape(event.title) + \"</span>\" +                                        // 4807\n\t\t\t\t\"</div>\";                                                                                                      // 4808\n\t\t\tif (seg.isEnd && isEventResizable(event)) {                                                                     // 4809\n\t\t\t\thtml +=                                                                                                        // 4810\n\t\t\t\t\t\"<div class='ui-resizable-handle ui-resizable-\" + (rtl ? 'w' : 'e') + \"'>\" +                                  // 4811\n\t\t\t\t\t\"&nbsp;&nbsp;&nbsp;\" + // makes hit area a lot better for IE6/7                                               // 4812\n\t\t\t\t\t\"</div>\";                                                                                                     // 4813\n\t\t\t}                                                                                                               // 4814\n\t\t\thtml +=                                                                                                         // 4815\n\t\t\t\t\"</\" + (url ? \"a\" : \"div\" ) + \">\";                                                                             // 4816\n\t\t\tseg.left = left;                                                                                                // 4817\n\t\t\tseg.outerWidth = right - left;                                                                                  // 4818\n\t\t\tseg.startCol = leftCol;                                                                                         // 4819\n\t\t\tseg.endCol = rightCol + 1; // needs to be exclusive                                                             // 4820\n\t\t}                                                                                                                // 4821\n\t\treturn html;                                                                                                     // 4822\n\t}                                                                                                                 // 4823\n\t                                                                                                                  // 4824\n\t                                                                                                                  // 4825\n\tfunction daySegElementResolve(segs, elements) { // sets seg.element                                               // 4826\n\t\tvar i;                                                                                                           // 4827\n\t\tvar segCnt = segs.length;                                                                                        // 4828\n\t\tvar seg;                                                                                                         // 4829\n\t\tvar event;                                                                                                       // 4830\n\t\tvar element;                                                                                                     // 4831\n\t\tvar triggerRes;                                                                                                  // 4832\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4833\n\t\t\tseg = segs[i];                                                                                                  // 4834\n\t\t\tevent = seg.event;                                                                                              // 4835\n\t\t\telement = $(elements[i]); // faster than .eq()                                                                  // 4836\n\t\t\ttriggerRes = trigger('eventRender', event, event, element);                                                     // 4837\n\t\t\tif (triggerRes === false) {                                                                                     // 4838\n\t\t\t\telement.remove();                                                                                              // 4839\n\t\t\t}else{                                                                                                          // 4840\n\t\t\t\tif (triggerRes && triggerRes !== true) {                                                                       // 4841\n\t\t\t\t\ttriggerRes = $(triggerRes)                                                                                    // 4842\n\t\t\t\t\t\t.css({                                                                                                       // 4843\n\t\t\t\t\t\t\tposition: 'absolute',                                                                                       // 4844\n\t\t\t\t\t\t\tleft: seg.left                                                                                              // 4845\n\t\t\t\t\t\t});                                                                                                          // 4846\n\t\t\t\t\telement.replaceWith(triggerRes);                                                                              // 4847\n\t\t\t\t\telement = triggerRes;                                                                                         // 4848\n\t\t\t\t}                                                                                                              // 4849\n\t\t\t\tseg.element = element;                                                                                         // 4850\n\t\t\t}                                                                                                               // 4851\n\t\t}                                                                                                                // 4852\n\t}                                                                                                                 // 4853\n\t                                                                                                                  // 4854\n\t                                                                                                                  // 4855\n\tfunction daySegElementReport(segs) {                                                                              // 4856\n\t\tvar i;                                                                                                           // 4857\n\t\tvar segCnt = segs.length;                                                                                        // 4858\n\t\tvar seg;                                                                                                         // 4859\n\t\tvar element;                                                                                                     // 4860\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4861\n\t\t\tseg = segs[i];                                                                                                  // 4862\n\t\t\telement = seg.element;                                                                                          // 4863\n\t\t\tif (element) {                                                                                                  // 4864\n\t\t\t\treportEventElement(seg.event, element);                                                                        // 4865\n\t\t\t}                                                                                                               // 4866\n\t\t}                                                                                                                // 4867\n\t}                                                                                                                 // 4868\n\t                                                                                                                  // 4869\n\t                                                                                                                  // 4870\n\tfunction daySegHandlers(segs, segmentContainer, modifiedEventId) {                                                // 4871\n\t\tvar i;                                                                                                           // 4872\n\t\tvar segCnt = segs.length;                                                                                        // 4873\n\t\tvar seg;                                                                                                         // 4874\n\t\tvar element;                                                                                                     // 4875\n\t\tvar event;                                                                                                       // 4876\n\t\t// retrieve elements, run through eventRender callback, bind handlers                                            // 4877\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4878\n\t\t\tseg = segs[i];                                                                                                  // 4879\n\t\t\telement = seg.element;                                                                                          // 4880\n\t\t\tif (element) {                                                                                                  // 4881\n\t\t\t\tevent = seg.event;                                                                                             // 4882\n\t\t\t\tif (event._id === modifiedEventId) {                                                                           // 4883\n\t\t\t\t\tbindDaySeg(event, element, seg);                                                                              // 4884\n\t\t\t\t}else{                                                                                                         // 4885\n\t\t\t\t\telement[0]._fci = i; // for lazySegBind                                                                       // 4886\n\t\t\t\t}                                                                                                              // 4887\n\t\t\t}                                                                                                               // 4888\n\t\t}                                                                                                                // 4889\n\t\tlazySegBind(segmentContainer, segs, bindDaySeg);                                                                 // 4890\n\t}                                                                                                                 // 4891\n\t                                                                                                                  // 4892\n\t                                                                                                                  // 4893\n\tfunction daySegCalcHSides(segs) { // also sets seg.key                                                            // 4894\n\t\tvar i;                                                                                                           // 4895\n\t\tvar segCnt = segs.length;                                                                                        // 4896\n\t\tvar seg;                                                                                                         // 4897\n\t\tvar element;                                                                                                     // 4898\n\t\tvar key, val;                                                                                                    // 4899\n\t\tvar hsideCache = {};                                                                                             // 4900\n\t\t// record event horizontal sides                                                                                 // 4901\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4902\n\t\t\tseg = segs[i];                                                                                                  // 4903\n\t\t\telement = seg.element;                                                                                          // 4904\n\t\t\tif (element) {                                                                                                  // 4905\n\t\t\t\tkey = seg.key = cssKey(element[0]);                                                                            // 4906\n\t\t\t\tval = hsideCache[key];                                                                                         // 4907\n\t\t\t\tif (val === undefined) {                                                                                       // 4908\n\t\t\t\t\tval = hsideCache[key] = hsides(element, true);                                                                // 4909\n\t\t\t\t}                                                                                                              // 4910\n\t\t\t\tseg.hsides = val;                                                                                              // 4911\n\t\t\t}                                                                                                               // 4912\n\t\t}                                                                                                                // 4913\n\t}                                                                                                                 // 4914\n\t                                                                                                                  // 4915\n\t                                                                                                                  // 4916\n\tfunction daySegSetWidths(segs) {                                                                                  // 4917\n\t\tvar i;                                                                                                           // 4918\n\t\tvar segCnt = segs.length;                                                                                        // 4919\n\t\tvar seg;                                                                                                         // 4920\n\t\tvar element;                                                                                                     // 4921\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4922\n\t\t\tseg = segs[i];                                                                                                  // 4923\n\t\t\telement = seg.element;                                                                                          // 4924\n\t\t\tif (element) {                                                                                                  // 4925\n\t\t\t\telement[0].style.width = Math.max(0, seg.outerWidth - seg.hsides) + 'px';                                      // 4926\n\t\t\t}                                                                                                               // 4927\n\t\t}                                                                                                                // 4928\n\t}                                                                                                                 // 4929\n\t                                                                                                                  // 4930\n\t                                                                                                                  // 4931\n\tfunction daySegCalcHeights(segs) {                                                                                // 4932\n\t\tvar i;                                                                                                           // 4933\n\t\tvar segCnt = segs.length;                                                                                        // 4934\n\t\tvar seg;                                                                                                         // 4935\n\t\tvar element;                                                                                                     // 4936\n\t\tvar key, val;                                                                                                    // 4937\n\t\tvar vmarginCache = {};                                                                                           // 4938\n\t\t// record event heights                                                                                          // 4939\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4940\n\t\t\tseg = segs[i];                                                                                                  // 4941\n\t\t\telement = seg.element;                                                                                          // 4942\n\t\t\tif (element) {                                                                                                  // 4943\n\t\t\t\tkey = seg.key; // created in daySegCalcHSides                                                                  // 4944\n\t\t\t\tval = vmarginCache[key];                                                                                       // 4945\n\t\t\t\tif (val === undefined) {                                                                                       // 4946\n\t\t\t\t\tval = vmarginCache[key] = vmargins(element);                                                                  // 4947\n\t\t\t\t}                                                                                                              // 4948\n\t\t\t\tseg.outerHeight = element[0].offsetHeight + val;                                                               // 4949\n\t\t\t}                                                                                                               // 4950\n\t\t}                                                                                                                // 4951\n\t}                                                                                                                 // 4952\n\t                                                                                                                  // 4953\n\t                                                                                                                  // 4954\n\tfunction getRowDivs() {                                                                                           // 4955\n\t\tvar i;                                                                                                           // 4956\n\t\tvar rowCnt = getRowCnt();                                                                                        // 4957\n\t\tvar rowDivs = [];                                                                                                // 4958\n\t\tfor (i=0; i<rowCnt; i++) {                                                                                       // 4959\n\t\t\trowDivs[i] = allDayRow(i)                                                                                       // 4960\n\t\t\t\t.find('div.fc-day-content > div'); // optimal selector?                                                        // 4961\n\t\t}                                                                                                                // 4962\n\t\treturn rowDivs;                                                                                                  // 4963\n\t}                                                                                                                 // 4964\n\t                                                                                                                  // 4965\n\t                                                                                                                  // 4966\n\tfunction getRowTops(rowDivs) {                                                                                    // 4967\n\t\tvar i;                                                                                                           // 4968\n\t\tvar rowCnt = rowDivs.length;                                                                                     // 4969\n\t\tvar tops = [];                                                                                                   // 4970\n\t\tfor (i=0; i<rowCnt; i++) {                                                                                       // 4971\n\t\t\ttops[i] = rowDivs[i][0].offsetTop; // !!?? but this means the element needs position:relative if in a table cell!!!!\n\t\t}                                                                                                                // 4973\n\t\treturn tops;                                                                                                     // 4974\n\t}                                                                                                                 // 4975\n\t                                                                                                                  // 4976\n\t                                                                                                                  // 4977\n\tfunction daySegSetTops(segs, rowTops) { // also triggers eventAfterRender                                         // 4978\n\t\tvar i;                                                                                                           // 4979\n\t\tvar segCnt = segs.length;                                                                                        // 4980\n\t\tvar seg;                                                                                                         // 4981\n\t\tvar element;                                                                                                     // 4982\n\t\tvar event;                                                                                                       // 4983\n\t\tfor (i=0; i<segCnt; i++) {                                                                                       // 4984\n\t\t\tseg = segs[i];                                                                                                  // 4985\n\t\t\telement = seg.element;                                                                                          // 4986\n\t\t\tif (element) {                                                                                                  // 4987\n\t\t\t\telement[0].style.top = rowTops[seg.row] + (seg.top||0) + 'px';                                                 // 4988\n\t\t\t\tevent = seg.event;                                                                                             // 4989\n\t\t\t\ttrigger('eventAfterRender', event, event, element);                                                            // 4990\n\t\t\t}                                                                                                               // 4991\n\t\t}                                                                                                                // 4992\n\t}                                                                                                                 // 4993\n\t                                                                                                                  // 4994\n\t                                                                                                                  // 4995\n\t                                                                                                                  // 4996\n\t/* Resizing                                                                                                       // 4997\n\t-----------------------------------------------------------------------------------*/                             // 4998\n\t                                                                                                                  // 4999\n\t                                                                                                                  // 5000\n\tfunction resizableDayEvent(event, element, seg) {                                                                 // 5001\n\t\tvar rtl = opt('isRTL');                                                                                          // 5002\n\t\tvar direction = rtl ? 'w' : 'e';                                                                                 // 5003\n\t\tvar handle = element.find('.ui-resizable-' + direction); // TODO: stop using this class because we aren't using jqui for this\n\t\tvar isResizing = false;                                                                                          // 5005\n\t\t                                                                                                                 // 5006\n\t\t// TODO: look into using jquery-ui mouse widget for this stuff                                                   // 5007\n\t\tdisableTextSelection(element); // prevent native <a> selection for IE                                            // 5008\n\t\telement                                                                                                          // 5009\n\t\t\t.mousedown(function(ev) { // prevent native <a> selection for others                                            // 5010\n\t\t\t\tev.preventDefault();                                                                                           // 5011\n\t\t\t})                                                                                                              // 5012\n\t\t\t.click(function(ev) {                                                                                           // 5013\n\t\t\t\tif (isResizing) {                                                                                              // 5014\n\t\t\t\t\tev.preventDefault(); // prevent link from being visited (only method that worked in IE6)                      // 5015\n\t\t\t\t\tev.stopImmediatePropagation(); // prevent fullcalendar eventClick handler from being called                   // 5016\n\t\t\t\t\t                               // (eventElementHandlers needs to be bound after resizableDayEvent)            // 5017\n\t\t\t\t}                                                                                                              // 5018\n\t\t\t});                                                                                                             // 5019\n\t\t                                                                                                                 // 5020\n\t\thandle.mousedown(function(ev) {                                                                                  // 5021\n\t\t\tif (ev.which != 1) {                                                                                            // 5022\n\t\t\t\treturn; // needs to be left mouse button                                                                       // 5023\n\t\t\t}                                                                                                               // 5024\n\t\t\tisResizing = true;                                                                                              // 5025\n\t\t\tvar hoverListener = t.getHoverListener();                                                                       // 5026\n\t\t\tvar rowCnt = getRowCnt();                                                                                       // 5027\n\t\t\tvar colCnt = getColCnt();                                                                                       // 5028\n\t\t\tvar dis = rtl ? -1 : 1;                                                                                         // 5029\n\t\t\tvar dit = rtl ? colCnt-1 : 0;                                                                                   // 5030\n\t\t\tvar elementTop = element.css('top');                                                                            // 5031\n\t\t\tvar dayDelta;                                                                                                   // 5032\n\t\t\tvar helpers;                                                                                                    // 5033\n\t\t\tvar eventCopy = $.extend({}, event);                                                                            // 5034\n\t\t\tvar minCell = dateCell(event.start);                                                                            // 5035\n\t\t\tclearSelection();                                                                                               // 5036\n\t\t\t$('body')                                                                                                       // 5037\n\t\t\t\t.css('cursor', direction + '-resize')                                                                          // 5038\n\t\t\t\t.one('mouseup', mouseup);                                                                                      // 5039\n\t\t\ttrigger('eventResizeStart', this, event, ev);                                                                   // 5040\n\t\t\thoverListener.start(function(cell, origCell) {                                                                  // 5041\n\t\t\t\tif (cell) {                                                                                                    // 5042\n\t\t\t\t\tvar r = Math.max(minCell.row, cell.row);                                                                      // 5043\n\t\t\t\t\tvar c = cell.col;                                                                                             // 5044\n\t\t\t\t\tif (rowCnt == 1) {                                                                                            // 5045\n\t\t\t\t\t\tr = 0; // hack for all-day area in agenda views                                                              // 5046\n\t\t\t\t\t}                                                                                                             // 5047\n\t\t\t\t\tif (r == minCell.row) {                                                                                       // 5048\n\t\t\t\t\t\tif (rtl) {                                                                                                   // 5049\n\t\t\t\t\t\t\tc = Math.min(minCell.col, c);                                                                               // 5050\n\t\t\t\t\t\t}else{                                                                                                       // 5051\n\t\t\t\t\t\t\tc = Math.max(minCell.col, c);                                                                               // 5052\n\t\t\t\t\t\t}                                                                                                            // 5053\n\t\t\t\t\t}                                                                                                             // 5054\n\t\t\t\t\tdayDelta = (r*7 + c*dis+dit) - (origCell.row*7 + origCell.col*dis+dit);                                       // 5055\n\t\t\t\t\tvar newEnd = addDays(eventEnd(event), dayDelta, true);                                                        // 5056\n\t\t\t\t\tif (dayDelta) {                                                                                               // 5057\n\t\t\t\t\t\teventCopy.end = newEnd;                                                                                      // 5058\n\t\t\t\t\t\tvar oldHelpers = helpers;                                                                                    // 5059\n\t\t\t\t\t\thelpers = renderTempDaySegs(compileDaySegs([eventCopy]), seg.row, elementTop);                               // 5060\n\t\t\t\t\t\thelpers.find('*').css('cursor', direction + '-resize');                                                      // 5061\n\t\t\t\t\t\tif (oldHelpers) {                                                                                            // 5062\n\t\t\t\t\t\t\toldHelpers.remove();                                                                                        // 5063\n\t\t\t\t\t\t}                                                                                                            // 5064\n\t\t\t\t\t\thideEvents(event);                                                                                           // 5065\n\t\t\t\t\t}else{                                                                                                        // 5066\n\t\t\t\t\t\tif (helpers) {                                                                                               // 5067\n\t\t\t\t\t\t\tshowEvents(event);                                                                                          // 5068\n\t\t\t\t\t\t\thelpers.remove();                                                                                           // 5069\n\t\t\t\t\t\t\thelpers = null;                                                                                             // 5070\n\t\t\t\t\t\t}                                                                                                            // 5071\n\t\t\t\t\t}                                                                                                             // 5072\n\t\t\t\t\tclearOverlays();                                                                                              // 5073\n\t\t\t\t\trenderDayOverlay(event.start, addDays(cloneDate(newEnd), 1)); // coordinate grid already rebuild at hoverListener.start\n\t\t\t\t}                                                                                                              // 5075\n\t\t\t}, ev);                                                                                                         // 5076\n\t\t\t                                                                                                                // 5077\n\t\t\tfunction mouseup(ev) {                                                                                          // 5078\n\t\t\t\ttrigger('eventResizeStop', this, event, ev);                                                                   // 5079\n\t\t\t\t$('body').css('cursor', '');                                                                                   // 5080\n\t\t\t\thoverListener.stop();                                                                                          // 5081\n\t\t\t\tclearOverlays();                                                                                               // 5082\n\t\t\t\tif (dayDelta) {                                                                                                // 5083\n\t\t\t\t\teventResize(this, event, dayDelta, 0, ev);                                                                    // 5084\n\t\t\t\t\t// event redraw will clear helpers                                                                            // 5085\n\t\t\t\t}                                                                                                              // 5086\n\t\t\t\t// otherwise, the drag handler already restored the old events                                                 // 5087\n\t\t\t\t                                                                                                               // 5088\n\t\t\t\tsetTimeout(function() { // make this happen after the element's click event                                    // 5089\n\t\t\t\t\tisResizing = false;                                                                                           // 5090\n\t\t\t\t},0);                                                                                                          // 5091\n\t\t\t}                                                                                                               // 5092\n\t\t\t                                                                                                                // 5093\n\t\t});                                                                                                              // 5094\n\t}                                                                                                                 // 5095\n\t                                                                                                                  // 5096\n                                                                                                                   // 5097\n}                                                                                                                  // 5098\n                                                                                                                   // 5099\n;;                                                                                                                 // 5100\n                                                                                                                   // 5101\n//BUG: unselect needs to be triggered when events are dragged+dropped                                              // 5102\n                                                                                                                   // 5103\nfunction SelectionManager() {                                                                                      // 5104\n\tvar t = this;                                                                                                     // 5105\n\t                                                                                                                  // 5106\n\t                                                                                                                  // 5107\n\t// exports                                                                                                        // 5108\n\tt.select = select;                                                                                                // 5109\n\tt.unselect = unselect;                                                                                            // 5110\n\tt.reportSelection = reportSelection;                                                                              // 5111\n\tt.daySelectionMousedown = daySelectionMousedown;                                                                  // 5112\n\t                                                                                                                  // 5113\n\t                                                                                                                  // 5114\n\t// imports                                                                                                        // 5115\n\tvar opt = t.opt;                                                                                                  // 5116\n\tvar trigger = t.trigger;                                                                                          // 5117\n\tvar defaultSelectionEnd = t.defaultSelectionEnd;                                                                  // 5118\n\tvar renderSelection = t.renderSelection;                                                                          // 5119\n\tvar clearSelection = t.clearSelection;                                                                            // 5120\n\t                                                                                                                  // 5121\n\t                                                                                                                  // 5122\n\t// locals                                                                                                         // 5123\n\tvar selected = false;                                                                                             // 5124\n                                                                                                                   // 5125\n                                                                                                                   // 5126\n                                                                                                                   // 5127\n\t// unselectAuto                                                                                                   // 5128\n\tif (opt('selectable') && opt('unselectAuto')) {                                                                   // 5129\n\t\t$(document).mousedown(function(ev) {                                                                             // 5130\n\t\t\tvar ignore = opt('unselectCancel');                                                                             // 5131\n\t\t\tif (ignore) {                                                                                                   // 5132\n\t\t\t\tif ($(ev.target).parents(ignore).length) { // could be optimized to stop after first match                     // 5133\n\t\t\t\t\treturn;                                                                                                       // 5134\n\t\t\t\t}                                                                                                              // 5135\n\t\t\t}                                                                                                               // 5136\n\t\t\tunselect(ev);                                                                                                   // 5137\n\t\t});                                                                                                              // 5138\n\t}                                                                                                                 // 5139\n\t                                                                                                                  // 5140\n                                                                                                                   // 5141\n\tfunction select(startDate, endDate, allDay) {                                                                     // 5142\n\t\tunselect();                                                                                                      // 5143\n\t\tif (!endDate) {                                                                                                  // 5144\n\t\t\tendDate = defaultSelectionEnd(startDate, allDay);                                                               // 5145\n\t\t}                                                                                                                // 5146\n\t\trenderSelection(startDate, endDate, allDay);                                                                     // 5147\n\t\treportSelection(startDate, endDate, allDay);                                                                     // 5148\n\t}                                                                                                                 // 5149\n\t                                                                                                                  // 5150\n\t                                                                                                                  // 5151\n\tfunction unselect(ev) {                                                                                           // 5152\n\t\tif (selected) {                                                                                                  // 5153\n\t\t\tselected = false;                                                                                               // 5154\n\t\t\tclearSelection();                                                                                               // 5155\n\t\t\ttrigger('unselect', null, ev);                                                                                  // 5156\n\t\t}                                                                                                                // 5157\n\t}                                                                                                                 // 5158\n\t                                                                                                                  // 5159\n\t                                                                                                                  // 5160\n\tfunction reportSelection(startDate, endDate, allDay, ev) {                                                        // 5161\n\t\tselected = true;                                                                                                 // 5162\n\t\ttrigger('select', null, startDate, endDate, allDay, ev);                                                         // 5163\n\t}                                                                                                                 // 5164\n\t                                                                                                                  // 5165\n\t                                                                                                                  // 5166\n\tfunction daySelectionMousedown(ev) { // not really a generic manager method, oh well                              // 5167\n\t\tvar cellDate = t.cellDate;                                                                                       // 5168\n\t\tvar cellIsAllDay = t.cellIsAllDay;                                                                               // 5169\n\t\tvar hoverListener = t.getHoverListener();                                                                        // 5170\n\t\tvar reportDayClick = t.reportDayClick; // this is hacky and sort of weird                                        // 5171\n\t\tif (ev.which == 1 && opt('selectable')) { // which==1 means left mouse button                                    // 5172\n\t\t\tunselect(ev);                                                                                                   // 5173\n\t\t\tvar _mousedownElement = this;                                                                                   // 5174\n\t\t\tvar dates;                                                                                                      // 5175\n\t\t\thoverListener.start(function(cell, origCell) { // TODO: maybe put cellDate/cellIsAllDay info in cell            // 5176\n\t\t\t\tclearSelection();                                                                                              // 5177\n\t\t\t\tif (cell && cellIsAllDay(cell)) {                                                                              // 5178\n\t\t\t\t\tdates = [ cellDate(origCell), cellDate(cell) ].sort(cmp);                                                     // 5179\n\t\t\t\t\trenderSelection(dates[0], dates[1], true);                                                                    // 5180\n\t\t\t\t}else{                                                                                                         // 5181\n\t\t\t\t\tdates = null;                                                                                                 // 5182\n\t\t\t\t}                                                                                                              // 5183\n\t\t\t}, ev);                                                                                                         // 5184\n\t\t\t$(document).one('mouseup', function(ev) {                                                                       // 5185\n\t\t\t\thoverListener.stop();                                                                                          // 5186\n\t\t\t\tif (dates) {                                                                                                   // 5187\n\t\t\t\t\tif (+dates[0] == +dates[1]) {                                                                                 // 5188\n\t\t\t\t\t\treportDayClick(dates[0], true, ev);                                                                          // 5189\n\t\t\t\t\t}                                                                                                             // 5190\n\t\t\t\t\treportSelection(dates[0], dates[1], true, ev);                                                                // 5191\n\t\t\t\t}                                                                                                              // 5192\n\t\t\t});                                                                                                             // 5193\n\t\t}                                                                                                                // 5194\n\t}                                                                                                                 // 5195\n                                                                                                                   // 5196\n                                                                                                                   // 5197\n}                                                                                                                  // 5198\n                                                                                                                   // 5199\n;;                                                                                                                 // 5200\n                                                                                                                   // 5201\nfunction OverlayManager() {                                                                                        // 5202\n\tvar t = this;                                                                                                     // 5203\n\t                                                                                                                  // 5204\n\t                                                                                                                  // 5205\n\t// exports                                                                                                        // 5206\n\tt.renderOverlay = renderOverlay;                                                                                  // 5207\n\tt.clearOverlays = clearOverlays;                                                                                  // 5208\n\t                                                                                                                  // 5209\n\t                                                                                                                  // 5210\n\t// locals                                                                                                         // 5211\n\tvar usedOverlays = [];                                                                                            // 5212\n\tvar unusedOverlays = [];                                                                                          // 5213\n\t                                                                                                                  // 5214\n\t                                                                                                                  // 5215\n\tfunction renderOverlay(rect, parent) {                                                                            // 5216\n\t\tvar e = unusedOverlays.shift();                                                                                  // 5217\n\t\tif (!e) {                                                                                                        // 5218\n\t\t\te = $(\"<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>\");                                    // 5219\n\t\t}                                                                                                                // 5220\n\t\tif (e[0].parentNode != parent[0]) {                                                                              // 5221\n\t\t\te.appendTo(parent);                                                                                             // 5222\n\t\t}                                                                                                                // 5223\n\t\tusedOverlays.push(e.css(rect).show());                                                                           // 5224\n\t\treturn e;                                                                                                        // 5225\n\t}                                                                                                                 // 5226\n\t                                                                                                                  // 5227\n                                                                                                                   // 5228\n\tfunction clearOverlays() {                                                                                        // 5229\n\t\tvar e;                                                                                                           // 5230\n\t\twhile (e = usedOverlays.shift()) {                                                                               // 5231\n\t\t\tunusedOverlays.push(e.hide().unbind());                                                                         // 5232\n\t\t}                                                                                                                // 5233\n\t}                                                                                                                 // 5234\n                                                                                                                   // 5235\n                                                                                                                   // 5236\n}                                                                                                                  // 5237\n                                                                                                                   // 5238\n;;                                                                                                                 // 5239\n                                                                                                                   // 5240\nfunction CoordinateGrid(buildFunc) {                                                                               // 5241\n                                                                                                                   // 5242\n\tvar t = this;                                                                                                     // 5243\n\tvar rows;                                                                                                         // 5244\n\tvar cols;                                                                                                         // 5245\n\t                                                                                                                  // 5246\n\t                                                                                                                  // 5247\n\tt.build = function() {                                                                                            // 5248\n\t\trows = [];                                                                                                       // 5249\n\t\tcols = [];                                                                                                       // 5250\n\t\tbuildFunc(rows, cols);                                                                                           // 5251\n\t};                                                                                                                // 5252\n\t                                                                                                                  // 5253\n\t                                                                                                                  // 5254\n\tt.cell = function(x, y) {                                                                                         // 5255\n\t\tvar rowCnt = rows.length;                                                                                        // 5256\n\t\tvar colCnt = cols.length;                                                                                        // 5257\n\t\tvar i, r=-1, c=-1;                                                                                               // 5258\n\t\tfor (i=0; i<rowCnt; i++) {                                                                                       // 5259\n\t\t\tif (y >= rows[i][0] && y < rows[i][1]) {                                                                        // 5260\n\t\t\t\tr = i;                                                                                                         // 5261\n\t\t\t\tbreak;                                                                                                         // 5262\n\t\t\t}                                                                                                               // 5263\n\t\t}                                                                                                                // 5264\n\t\tfor (i=0; i<colCnt; i++) {                                                                                       // 5265\n\t\t\tif (x >= cols[i][0] && x < cols[i][1]) {                                                                        // 5266\n\t\t\t\tc = i;                                                                                                         // 5267\n\t\t\t\tbreak;                                                                                                         // 5268\n\t\t\t}                                                                                                               // 5269\n\t\t}                                                                                                                // 5270\n\t\treturn (r>=0 && c>=0) ? { row:r, col:c } : null;                                                                 // 5271\n\t};                                                                                                                // 5272\n\t                                                                                                                  // 5273\n\t                                                                                                                  // 5274\n\tt.rect = function(row0, col0, row1, col1, originElement) { // row1,col1 is inclusive                              // 5275\n\t\tvar origin = originElement.offset();                                                                             // 5276\n\t\treturn {                                                                                                         // 5277\n\t\t\ttop: rows[row0][0] - origin.top,                                                                                // 5278\n\t\t\tleft: cols[col0][0] - origin.left,                                                                              // 5279\n\t\t\twidth: cols[col1][1] - cols[col0][0],                                                                           // 5280\n\t\t\theight: rows[row1][1] - rows[row0][0]                                                                           // 5281\n\t\t};                                                                                                               // 5282\n\t};                                                                                                                // 5283\n                                                                                                                   // 5284\n}                                                                                                                  // 5285\n                                                                                                                   // 5286\n;;                                                                                                                 // 5287\n                                                                                                                   // 5288\nfunction HoverListener(coordinateGrid) {                                                                           // 5289\n                                                                                                                   // 5290\n                                                                                                                   // 5291\n\tvar t = this;                                                                                                     // 5292\n\tvar bindType;                                                                                                     // 5293\n\tvar change;                                                                                                       // 5294\n\tvar firstCell;                                                                                                    // 5295\n\tvar cell;                                                                                                         // 5296\n\t                                                                                                                  // 5297\n\t                                                                                                                  // 5298\n\tt.start = function(_change, ev, _bindType) {                                                                      // 5299\n\t\tchange = _change;                                                                                                // 5300\n\t\tfirstCell = cell = null;                                                                                         // 5301\n\t\tcoordinateGrid.build();                                                                                          // 5302\n\t\tmouse(ev);                                                                                                       // 5303\n\t\tbindType = _bindType || 'mousemove';                                                                             // 5304\n\t\t$(document).bind(bindType, mouse);                                                                               // 5305\n\t};                                                                                                                // 5306\n\t                                                                                                                  // 5307\n\t                                                                                                                  // 5308\n\tfunction mouse(ev) {                                                                                              // 5309\n\t\t_fixUIEvent(ev); // see below                                                                                    // 5310\n\t\tvar newCell = coordinateGrid.cell(ev.pageX, ev.pageY);                                                           // 5311\n\t\tif (!newCell != !cell || newCell && (newCell.row != cell.row || newCell.col != cell.col)) {                      // 5312\n\t\t\tif (newCell) {                                                                                                  // 5313\n\t\t\t\tif (!firstCell) {                                                                                              // 5314\n\t\t\t\t\tfirstCell = newCell;                                                                                          // 5315\n\t\t\t\t}                                                                                                              // 5316\n\t\t\t\tchange(newCell, firstCell, newCell.row-firstCell.row, newCell.col-firstCell.col);                              // 5317\n\t\t\t}else{                                                                                                          // 5318\n\t\t\t\tchange(newCell, firstCell);                                                                                    // 5319\n\t\t\t}                                                                                                               // 5320\n\t\t\tcell = newCell;                                                                                                 // 5321\n\t\t}                                                                                                                // 5322\n\t}                                                                                                                 // 5323\n\t                                                                                                                  // 5324\n\t                                                                                                                  // 5325\n\tt.stop = function() {                                                                                             // 5326\n\t\t$(document).unbind(bindType, mouse);                                                                             // 5327\n\t\treturn cell;                                                                                                     // 5328\n\t};                                                                                                                // 5329\n\t                                                                                                                  // 5330\n\t                                                                                                                  // 5331\n}                                                                                                                  // 5332\n                                                                                                                   // 5333\n                                                                                                                   // 5334\n                                                                                                                   // 5335\n// this fix was only necessary for jQuery UI 1.8.16 (and jQuery 1.7 or 1.7.1)                                      // 5336\n// upgrading to jQuery UI 1.8.17 (and using either jQuery 1.7 or 1.7.1) fixed the problem                          // 5337\n// but keep this in here for 1.8.16 users                                                                          // 5338\n// and maybe remove it down the line                                                                               // 5339\n                                                                                                                   // 5340\nfunction _fixUIEvent(event) { // for issue 1168                                                                    // 5341\n\tif (event.pageX === undefined) {                                                                                  // 5342\n\t\tevent.pageX = event.originalEvent.pageX;                                                                         // 5343\n\t\tevent.pageY = event.originalEvent.pageY;                                                                         // 5344\n\t}                                                                                                                 // 5345\n}                                                                                                                  // 5346\n;;                                                                                                                 // 5347\n                                                                                                                   // 5348\nfunction HorizontalPositionCache(getElement) {                                                                     // 5349\n                                                                                                                   // 5350\n\tvar t = this,                                                                                                     // 5351\n\t\telements = {},                                                                                                   // 5352\n\t\tlefts = {},                                                                                                      // 5353\n\t\trights = {};                                                                                                     // 5354\n\t\t                                                                                                                 // 5355\n\tfunction e(i) {                                                                                                   // 5356\n\t\treturn elements[i] = elements[i] || getElement(i);                                                               // 5357\n\t}                                                                                                                 // 5358\n\t                                                                                                                  // 5359\n\tt.left = function(i) {                                                                                            // 5360\n\t\treturn lefts[i] = lefts[i] === undefined ? e(i).position().left : lefts[i];                                      // 5361\n\t};                                                                                                                // 5362\n\t                                                                                                                  // 5363\n\tt.right = function(i) {                                                                                           // 5364\n\t\treturn rights[i] = rights[i] === undefined ? t.left(i) + e(i).width() : rights[i];                               // 5365\n\t};                                                                                                                // 5366\n\t                                                                                                                  // 5367\n\tt.clear = function() {                                                                                            // 5368\n\t\telements = {};                                                                                                   // 5369\n\t\tlefts = {};                                                                                                      // 5370\n\t\trights = {};                                                                                                     // 5371\n\t};                                                                                                                // 5372\n\t                                                                                                                  // 5373\n}                                                                                                                  // 5374\n                                                                                                                   // 5375\n;;                                                                                                                 // 5376\n                                                                                                                   // 5377\n})(jQuery);                                                                                                        // 5378\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/mrt:fullcalendar/lib/gcal.js                                                                           //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n/*!                                                                                                                // 1\n * FullCalendar v1.6.1 Google Calendar Plugin                                                                      // 2\n * Docs & License: http://arshaw.com/fullcalendar/                                                                 // 3\n * (c) 2013 Adam Shaw                                                                                              // 4\n */                                                                                                                // 5\n                                                                                                                   // 6\n(function($) {                                                                                                     // 7\n                                                                                                                   // 8\n                                                                                                                   // 9\nvar fc = $.fullCalendar;                                                                                           // 10\nvar formatDate = fc.formatDate;                                                                                    // 11\nvar parseISO8601 = fc.parseISO8601;                                                                                // 12\nvar addDays = fc.addDays;                                                                                          // 13\nvar applyAll = fc.applyAll;                                                                                        // 14\n                                                                                                                   // 15\n                                                                                                                   // 16\nfc.sourceNormalizers.push(function(sourceOptions) {                                                                // 17\n\tif (sourceOptions.dataType == 'gcal' ||                                                                           // 18\n\t\tsourceOptions.dataType === undefined &&                                                                          // 19\n\t\t(sourceOptions.url || '').match(/^(http|https):\\/\\/www.google.com\\/calendar\\/feeds\\//)) {                        // 20\n\t\t\tsourceOptions.dataType = 'gcal';                                                                                // 21\n\t\t\tif (sourceOptions.editable === undefined) {                                                                     // 22\n\t\t\t\tsourceOptions.editable = false;                                                                                // 23\n\t\t\t}                                                                                                               // 24\n\t\t}                                                                                                                // 25\n});                                                                                                                // 26\n                                                                                                                   // 27\n                                                                                                                   // 28\nfc.sourceFetchers.push(function(sourceOptions, start, end) {                                                       // 29\n\tif (sourceOptions.dataType == 'gcal') {                                                                           // 30\n\t\treturn transformOptions(sourceOptions, start, end);                                                              // 31\n\t}                                                                                                                 // 32\n});                                                                                                                // 33\n                                                                                                                   // 34\n                                                                                                                   // 35\nfunction transformOptions(sourceOptions, start, end) {                                                             // 36\n                                                                                                                   // 37\n\tvar success = sourceOptions.success;                                                                              // 38\n\tvar data = $.extend({}, sourceOptions.data || {}, {                                                               // 39\n\t\t'start-min': formatDate(start, 'u'),                                                                             // 40\n\t\t'start-max': formatDate(end, 'u'),                                                                               // 41\n\t\t'singleevents': true,                                                                                            // 42\n\t\t'max-results': 9999                                                                                              // 43\n\t});                                                                                                               // 44\n\t                                                                                                                  // 45\n\tvar ctz = sourceOptions.currentTimezone;                                                                          // 46\n\tif (ctz) {                                                                                                        // 47\n\t\tdata.ctz = ctz = ctz.replace(' ', '_');                                                                          // 48\n\t}                                                                                                                 // 49\n                                                                                                                   // 50\n\treturn $.extend({}, sourceOptions, {                                                                              // 51\n\t\turl: sourceOptions.url.replace(/\\/basic$/, '/full') + '?alt=json-in-script&callback=?',                          // 52\n\t\tdataType: 'jsonp',                                                                                               // 53\n\t\tdata: data,                                                                                                      // 54\n\t\tstartParam: false,                                                                                               // 55\n\t\tendParam: false,                                                                                                 // 56\n\t\tsuccess: function(data) {                                                                                        // 57\n\t\t\tvar events = [];                                                                                                // 58\n\t\t\tif (data.feed.entry) {                                                                                          // 59\n\t\t\t\t$.each(data.feed.entry, function(i, entry) {                                                                   // 60\n\t\t\t\t\tvar startStr = entry['gd$when'][0]['startTime'];                                                              // 61\n\t\t\t\t\tvar start = parseISO8601(startStr, true);                                                                     // 62\n\t\t\t\t\tvar end = parseISO8601(entry['gd$when'][0]['endTime'], true);                                                 // 63\n\t\t\t\t\tvar allDay = startStr.indexOf('T') == -1;                                                                     // 64\n\t\t\t\t\tvar url;                                                                                                      // 65\n\t\t\t\t\t$.each(entry.link, function(i, link) {                                                                        // 66\n\t\t\t\t\t\tif (link.type == 'text/html') {                                                                              // 67\n\t\t\t\t\t\t\turl = link.href;                                                                                            // 68\n\t\t\t\t\t\t\tif (ctz) {                                                                                                  // 69\n\t\t\t\t\t\t\t\turl += (url.indexOf('?') == -1 ? '?' : '&') + 'ctz=' + ctz;                                                // 70\n\t\t\t\t\t\t\t}                                                                                                           // 71\n\t\t\t\t\t\t}                                                                                                            // 72\n\t\t\t\t\t});                                                                                                           // 73\n\t\t\t\t\tif (allDay) {                                                                                                 // 74\n\t\t\t\t\t\taddDays(end, -1); // make inclusive                                                                          // 75\n\t\t\t\t\t}                                                                                                             // 76\n\t\t\t\t\tevents.push({                                                                                                 // 77\n\t\t\t\t\t\tid: entry['gCal$uid']['value'],                                                                              // 78\n\t\t\t\t\t\ttitle: entry['title']['$t'],                                                                                 // 79\n\t\t\t\t\t\turl: url,                                                                                                    // 80\n\t\t\t\t\t\tstart: start,                                                                                                // 81\n\t\t\t\t\t\tend: end,                                                                                                    // 82\n\t\t\t\t\t\tallDay: allDay,                                                                                              // 83\n\t\t\t\t\t\tlocation: entry['gd$where'][0]['valueString'],                                                               // 84\n\t\t\t\t\t\tdescription: entry['content']['$t']                                                                          // 85\n\t\t\t\t\t});                                                                                                           // 86\n\t\t\t\t});                                                                                                            // 87\n\t\t\t}                                                                                                               // 88\n\t\t\tvar args = [events].concat(Array.prototype.slice.call(arguments, 1));                                           // 89\n\t\t\tvar res = applyAll(success, this, args);                                                                        // 90\n\t\t\tif ($.isArray(res)) {                                                                                           // 91\n\t\t\t\treturn res;                                                                                                    // 92\n\t\t\t}                                                                                                               // 93\n\t\t\treturn events;                                                                                                  // 94\n\t\t}                                                                                                                // 95\n\t});                                                                                                               // 96\n\t                                                                                                                  // 97\n}                                                                                                                  // 98\n                                                                                                                   // 99\n                                                                                                                   // 100\n// legacy                                                                                                          // 101\nfc.gcalFeed = function(url, sourceOptions) {                                                                       // 102\n\treturn $.extend({}, sourceOptions, { url: url, dataType: 'gcal' });                                               // 103\n};                                                                                                                 // 104\n                                                                                                                   // 105\n                                                                                                                   // 106\n})(jQuery);                                                                                                        // 107\n                                                                                                                   // 108\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}